import{x as resolveComponent,y as openBlock,k as createElementBlock,l as createBaseVNode,q as createVNode,V as withModifiers,G as normalizeClass,D as toDisplayString,H as createCommentVNode,F as Fragment,z as renderList,d as defineComponent,e as watch,o as onMounted,r as ref,c as computed,X as storeToRefs,U as unref,C as createTextVNode,B as withCtx,T as Transition,A as createBlock,N as withDirectives,O as vModelText,a1 as vModelDynamic,a2 as vModelRadio,a3 as vModelCheckbox}from"./vue-vendor-BXjljxxF.js";import{I as Icon}from"./ui-vendor-Dw_Tg2Bf.js";import{d as axios}from"./utils-CAMFpqwB.js";import{S as Swal}from"./sweetalert2.esm.all-CZCIYDgo.js";import{_ as _export_sfc,u as useUserStore,c as casdoorService}from"./index-MgNogqk5.js";const byteToHex=[];for(let ns=0;ns<256;++ns)byteToHex.push((ns+256).toString(16).slice(1));function unsafeStringify(ns,jr=0){return(byteToHex[ns[jr+0]]+byteToHex[ns[jr+1]]+byteToHex[ns[jr+2]]+byteToHex[ns[jr+3]]+"-"+byteToHex[ns[jr+4]]+byteToHex[ns[jr+5]]+"-"+byteToHex[ns[jr+6]]+byteToHex[ns[jr+7]]+"-"+byteToHex[ns[jr+8]]+byteToHex[ns[jr+9]]+"-"+byteToHex[ns[jr+10]]+byteToHex[ns[jr+11]]+byteToHex[ns[jr+12]]+byteToHex[ns[jr+13]]+byteToHex[ns[jr+14]]+byteToHex[ns[jr+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(ns,jr,Oo){if(native.randomUUID&&!ns)return native.randomUUID();ns=ns||{};const Mo=ns.random??ns.rng?.()??rng();if(Mo.length<16)throw new Error("Random bytes length must be >= 16");return Mo[6]=Mo[6]&15|64,Mo[8]=Mo[8]&63|128,unsafeStringify(Mo)}function _toPrimitive(ns,jr){if(typeof ns!="object"||!ns)return ns;var Oo=ns[Symbol.toPrimitive];if(Oo!==void 0){var Mo=Oo.call(ns,jr);if(typeof Mo!="object")return Mo;throw new TypeError("@@toPrimitive must return a primitive value.")}return(jr==="string"?String:Number)(ns)}function _toPropertyKey(ns){var jr=_toPrimitive(ns,"string");return typeof jr=="symbol"?jr:jr+""}function _defineProperty(ns,jr,Oo){return(jr=_toPropertyKey(jr))in ns?Object.defineProperty(ns,jr,{value:Oo,enumerable:!0,configurable:!0,writable:!0}):ns[jr]=Oo,ns}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ns){return ns&&ns.__esModule&&Object.prototype.hasOwnProperty.call(ns,"default")?ns.default:ns}var check=function(ns){return ns&&ns.Math==Math&&ns},global$q=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||(function(){return this})()||commonjsGlobal||Function("return this")(),objectGetOwnPropertyDescriptor={},fails$s=function(ns){try{return!!ns()}catch{return!0}},fails$r=fails$s,descriptors=!fails$r((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})),fails$q=fails$s,functionBindNative=!fails$q((function(){var ns=(function(){}).bind();return typeof ns!="function"||ns.hasOwnProperty("prototype")})),NATIVE_BIND$3=functionBindNative,call$i=Function.prototype.call,functionCall=NATIVE_BIND$3?call$i.bind(call$i):function(){return call$i.apply(call$i,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$3&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(ns){var jr=getOwnPropertyDescriptor$3(this,ns);return!!jr&&jr.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$7=function(ns,jr){return{enumerable:!(1&ns),configurable:!(2&ns),writable:!(4&ns),value:jr}},NATIVE_BIND$2=functionBindNative,FunctionPrototype$2=Function.prototype,call$h=FunctionPrototype$2.call,uncurryThisWithBind=NATIVE_BIND$2&&FunctionPrototype$2.bind.bind(call$h,call$h),functionUncurryThis=NATIVE_BIND$2?uncurryThisWithBind:function(ns){return function(){return call$h.apply(ns,arguments)}},uncurryThis$z=functionUncurryThis,toString$a=uncurryThis$z({}.toString),stringSlice$8=uncurryThis$z("".slice),classofRaw$2=function(ns){return stringSlice$8(toString$a(ns),8,-1)},uncurryThis$y=functionUncurryThis,fails$p=fails$s,classof$a=classofRaw$2,$Object$4=Object,split$3=uncurryThis$y("".split),indexedObject=fails$p((function(){return!$Object$4("z").propertyIsEnumerable(0)}))?function(ns){return classof$a(ns)=="String"?split$3(ns,""):$Object$4(ns)}:$Object$4,isNullOrUndefined$5=function(ns){return ns==null},isNullOrUndefined$4=isNullOrUndefined$5,$TypeError$h=TypeError,requireObjectCoercible$5=function(ns){if(isNullOrUndefined$4(ns))throw $TypeError$h("Can't call method on "+ns);return ns},IndexedObject$2=indexedObject,requireObjectCoercible$4=requireObjectCoercible$5,toIndexedObject$5=function(ns){return IndexedObject$2(requireObjectCoercible$4(ns))},documentAll$2=typeof document=="object"&&document.all,IS_HTMLDDA=documentAll$2===void 0&&documentAll$2!==void 0,documentAll_1={all:documentAll$2,IS_HTMLDDA},$documentAll$1=documentAll_1,documentAll$1=$documentAll$1.all,isCallable$o=$documentAll$1.IS_HTMLDDA?function(ns){return typeof ns=="function"||ns===documentAll$1}:function(ns){return typeof ns=="function"},isCallable$n=isCallable$o,$documentAll=documentAll_1,documentAll=$documentAll.all,isObject$a=$documentAll.IS_HTMLDDA?function(ns){return typeof ns=="object"?ns!==null:isCallable$n(ns)||ns===documentAll}:function(ns){return typeof ns=="object"?ns!==null:isCallable$n(ns)},global$p=global$q,isCallable$m=isCallable$o,aFunction=function(ns){return isCallable$m(ns)?ns:void 0},getBuiltIn$a=function(ns,jr){return arguments.length<2?aFunction(global$p[ns]):global$p[ns]&&global$p[ns][jr]},uncurryThis$x=functionUncurryThis,objectIsPrototypeOf=uncurryThis$x({}.isPrototypeOf),engineUserAgent=typeof navigator<"u"&&String(navigator.userAgent)||"",global$o=global$q,userAgent=engineUserAgent,process$1=global$o.process,Deno$1=global$o.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version$1;v8&&(match=v8.split("."),version$1=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version$1&&userAgent&&(match=userAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/),match&&(version$1=+match[1])));var engineV8Version=version$1,V8_VERSION=engineV8Version,fails$o=fails$s,global$n=global$q,$String$6=global$n.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$o((function(){var ns=Symbol();return!$String$6(ns)||!(Object(ns)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41})),NATIVE_SYMBOL$3=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$3&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$9=getBuiltIn$a,isCallable$l=isCallable$o,isPrototypeOf$3=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$3=USE_SYMBOL_AS_UID$1?function(ns){return typeof ns=="symbol"}:function(ns){var jr=getBuiltIn$9("Symbol");return isCallable$l(jr)&&isPrototypeOf$3(jr.prototype,$Object$3(ns))},$String$5=String,tryToString$3=function(ns){try{return $String$5(ns)}catch{return"Object"}},isCallable$k=isCallable$o,tryToString$2=tryToString$3,$TypeError$g=TypeError,aCallable$7=function(ns){if(isCallable$k(ns))return ns;throw $TypeError$g(tryToString$2(ns)+" is not a function")},aCallable$6=aCallable$7,isNullOrUndefined$3=isNullOrUndefined$5,getMethod$4=function(ns,jr){var Oo=ns[jr];return isNullOrUndefined$3(Oo)?void 0:aCallable$6(Oo)},call$g=functionCall,isCallable$j=isCallable$o,isObject$9=isObject$a,$TypeError$f=TypeError,ordinaryToPrimitive$1=function(ns,jr){var Oo,Mo;if(jr==="string"&&isCallable$j(Oo=ns.toString)&&!isObject$9(Mo=call$g(Oo,ns))||isCallable$j(Oo=ns.valueOf)&&!isObject$9(Mo=call$g(Oo,ns))||jr!=="string"&&isCallable$j(Oo=ns.toString)&&!isObject$9(Mo=call$g(Oo,ns)))return Mo;throw $TypeError$f("Can't convert object to primitive value")},shared$4={exports:{}},isPure=!1,global$m=global$q,defineProperty$8=Object.defineProperty,defineGlobalProperty$3=function(ns,jr){try{defineProperty$8(global$m,ns,{value:jr,configurable:!0,writable:!0})}catch{global$m[ns]=jr}return jr},global$l=global$q,defineGlobalProperty$2=defineGlobalProperty$3,SHARED="__core-js_shared__",store$3=global$l[SHARED]||defineGlobalProperty$2(SHARED,{}),sharedStore=store$3,store$2=sharedStore;(shared$4.exports=function(ns,jr){return store$2[ns]||(store$2[ns]=jr!==void 0?jr:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedExports=shared$4.exports,requireObjectCoercible$3=requireObjectCoercible$5,$Object$2=Object,toObject$8=function(ns){return $Object$2(requireObjectCoercible$3(ns))},uncurryThis$w=functionUncurryThis,toObject$7=toObject$8,hasOwnProperty$1=uncurryThis$w({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(ns,jr){return hasOwnProperty$1(toObject$7(ns),jr)},uncurryThis$v=functionUncurryThis,id=0,postfix=Math.random(),toString$9=uncurryThis$v(1 .toString),uid$2=function(ns){return"Symbol("+(ns===void 0?"":ns)+")_"+toString$9(++id+postfix,36)},global$k=global$q,shared$3=sharedExports,hasOwn$d=hasOwnProperty_1,uid$1=uid$2,NATIVE_SYMBOL$2=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$1=global$k.Symbol,WellKnownSymbolsStore=shared$3("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1.for||Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$g=function(ns){return hasOwn$d(WellKnownSymbolsStore,ns)||(WellKnownSymbolsStore[ns]=NATIVE_SYMBOL$2&&hasOwn$d(Symbol$1,ns)?Symbol$1[ns]:createWellKnownSymbol("Symbol."+ns)),WellKnownSymbolsStore[ns]},call$f=functionCall,isObject$8=isObject$a,isSymbol$2=isSymbol$3,getMethod$3=getMethod$4,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$f=wellKnownSymbol$g,$TypeError$e=TypeError,TO_PRIMITIVE=wellKnownSymbol$f("toPrimitive"),toPrimitive$1=function(ns,jr){if(!isObject$8(ns)||isSymbol$2(ns))return ns;var Oo,Mo=getMethod$3(ns,TO_PRIMITIVE);if(Mo){if(jr===void 0&&(jr="default"),Oo=call$f(Mo,ns,jr),!isObject$8(Oo)||isSymbol$2(Oo))return Oo;throw $TypeError$e("Can't convert object to primitive value")}return jr===void 0&&(jr="number"),ordinaryToPrimitive(ns,jr)},toPrimitive=toPrimitive$1,isSymbol$1=isSymbol$3,toPropertyKey$3=function(ns){var jr=toPrimitive(ns,"string");return isSymbol$1(jr)?jr:jr+""},global$j=global$q,isObject$7=isObject$a,document$1=global$j.document,EXISTS$1=isObject$7(document$1)&&isObject$7(document$1.createElement),documentCreateElement$2=function(ns){return EXISTS$1?document$1.createElement(ns):{}},DESCRIPTORS$k=descriptors,fails$n=fails$s,createElement=documentCreateElement$2,ie8DomDefine=!DESCRIPTORS$k&&!fails$n((function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7})),DESCRIPTORS$j=descriptors,call$e=functionCall,propertyIsEnumerableModule$1=objectPropertyIsEnumerable,createPropertyDescriptor$6=createPropertyDescriptor$7,toIndexedObject$4=toIndexedObject$5,toPropertyKey$2=toPropertyKey$3,hasOwn$c=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$j?$getOwnPropertyDescriptor$1:function(ns,jr){if(ns=toIndexedObject$4(ns),jr=toPropertyKey$2(jr),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(ns,jr)}catch{}if(hasOwn$c(ns,jr))return createPropertyDescriptor$6(!call$e(propertyIsEnumerableModule$1.f,ns,jr),ns[jr])};var objectDefineProperty={},DESCRIPTORS$i=descriptors,fails$m=fails$s,v8PrototypeDefineBug=DESCRIPTORS$i&&fails$m((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!=42})),isObject$6=isObject$a,$String$4=String,$TypeError$d=TypeError,anObject$g=function(ns){if(isObject$6(ns))return ns;throw $TypeError$d($String$4(ns)+" is not an object")},DESCRIPTORS$h=descriptors,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$f=anObject$g,toPropertyKey$1=toPropertyKey$3,$TypeError$c=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$h?V8_PROTOTYPE_DEFINE_BUG$1?function(ns,jr,Oo){if(anObject$f(ns),jr=toPropertyKey$1(jr),anObject$f(Oo),typeof ns=="function"&&jr==="prototype"&&"value"in Oo&&WRITABLE in Oo&&!Oo[WRITABLE]){var Mo=$getOwnPropertyDescriptor(ns,jr);Mo&&Mo[WRITABLE]&&(ns[jr]=Oo.value,Oo={configurable:CONFIGURABLE$1 in Oo?Oo[CONFIGURABLE$1]:Mo[CONFIGURABLE$1],enumerable:ENUMERABLE in Oo?Oo[ENUMERABLE]:Mo[ENUMERABLE],writable:!1})}return $defineProperty(ns,jr,Oo)}:$defineProperty:function(ns,jr,Oo){if(anObject$f(ns),jr=toPropertyKey$1(jr),anObject$f(Oo),IE8_DOM_DEFINE)try{return $defineProperty(ns,jr,Oo)}catch{}if("get"in Oo||"set"in Oo)throw $TypeError$c("Accessors not supported");return"value"in Oo&&(ns[jr]=Oo.value),ns};var DESCRIPTORS$g=descriptors,definePropertyModule$4=objectDefineProperty,createPropertyDescriptor$5=createPropertyDescriptor$7,createNonEnumerableProperty$9=DESCRIPTORS$g?function(ns,jr,Oo){return definePropertyModule$4.f(ns,jr,createPropertyDescriptor$5(1,Oo))}:function(ns,jr,Oo){return ns[jr]=Oo,ns},makeBuiltIn$3={exports:{}},DESCRIPTORS$f=descriptors,hasOwn$b=hasOwnProperty_1,FunctionPrototype$1=Function.prototype,getDescriptor=DESCRIPTORS$f&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$b(FunctionPrototype$1,"name"),PROPER=EXISTS&&(function(){}).name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS$f||DESCRIPTORS$f&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={PROPER,CONFIGURABLE},uncurryThis$u=functionUncurryThis,isCallable$i=isCallable$o,store$1=sharedStore,functionToString=uncurryThis$u(Function.toString);isCallable$i(store$1.inspectSource)||(store$1.inspectSource=function(ns){return functionToString(ns)});var inspectSource$2=store$1.inspectSource,global$i=global$q,isCallable$h=isCallable$o,WeakMap$2=global$i.WeakMap,weakMapBasicDetection=isCallable$h(WeakMap$2)&&/native code/.test(String(WeakMap$2)),shared$2=sharedExports,uid=uid$2,keys$2=shared$2("keys"),sharedKey$3=function(ns){return keys$2[ns]||(keys$2[ns]=uid(ns))},hiddenKeys$4={},NATIVE_WEAK_MAP=weakMapBasicDetection,global$h=global$q,isObject$5=isObject$a,createNonEnumerableProperty$8=createNonEnumerableProperty$9,hasOwn$a=hasOwnProperty_1,shared$1=sharedStore,sharedKey$2=sharedKey$3,hiddenKeys$3=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$4=global$h.TypeError,WeakMap$1=global$h.WeakMap,set$1,get$1,has$6,enforce=function(ns){return has$6(ns)?get$1(ns):set$1(ns,{})},getterFor=function(ns){return function(jr){var Oo;if(!isObject$5(jr)||(Oo=get$1(jr)).type!==ns)throw TypeError$4("Incompatible receiver, "+ns+" required");return Oo}};if(NATIVE_WEAK_MAP||shared$1.state){var store=shared$1.state||(shared$1.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set$1=function(ns,jr){if(store.has(ns))throw TypeError$4(OBJECT_ALREADY_INITIALIZED);return jr.facade=ns,store.set(ns,jr),jr},get$1=function(ns){return store.get(ns)||{}},has$6=function(ns){return store.has(ns)}}else{var STATE=sharedKey$2("state");hiddenKeys$3[STATE]=!0,set$1=function(ns,jr){if(hasOwn$a(ns,STATE))throw TypeError$4(OBJECT_ALREADY_INITIALIZED);return jr.facade=ns,createNonEnumerableProperty$8(ns,STATE,jr),jr},get$1=function(ns){return hasOwn$a(ns,STATE)?ns[STATE]:{}},has$6=function(ns){return hasOwn$a(ns,STATE)}}var internalState={set:set$1,get:get$1,has:has$6,enforce,getterFor},uncurryThis$t=functionUncurryThis,fails$l=fails$s,isCallable$g=isCallable$o,hasOwn$9=hasOwnProperty_1,DESCRIPTORS$e=descriptors,CONFIGURABLE_FUNCTION_NAME$2=functionName.CONFIGURABLE,inspectSource$1=inspectSource$2,InternalStateModule$5=internalState,enforceInternalState=InternalStateModule$5.enforce,getInternalState$3=InternalStateModule$5.get,$String$3=String,defineProperty$7=Object.defineProperty,stringSlice$7=uncurryThis$t("".slice),replace$9=uncurryThis$t("".replace),join$3=uncurryThis$t([].join),CONFIGURABLE_LENGTH=DESCRIPTORS$e&&!fails$l((function(){return defineProperty$7((function(){}),"length",{value:8}).length!==8})),TEMPLATE=String(String).split("String"),makeBuiltIn$2=makeBuiltIn$3.exports=function(ns,jr,Oo){stringSlice$7($String$3(jr),0,7)==="Symbol("&&(jr="["+replace$9($String$3(jr),/^Symbol\(([^)]*)\)/,"$1")+"]"),Oo&&Oo.getter&&(jr="get "+jr),Oo&&Oo.setter&&(jr="set "+jr),(!hasOwn$9(ns,"name")||CONFIGURABLE_FUNCTION_NAME$2&&ns.name!==jr)&&(DESCRIPTORS$e?defineProperty$7(ns,"name",{value:jr,configurable:!0}):ns.name=jr),CONFIGURABLE_LENGTH&&Oo&&hasOwn$9(Oo,"arity")&&ns.length!==Oo.arity&&defineProperty$7(ns,"length",{value:Oo.arity});try{Oo&&hasOwn$9(Oo,"constructor")&&Oo.constructor?DESCRIPTORS$e&&defineProperty$7(ns,"prototype",{writable:!1}):ns.prototype&&(ns.prototype=void 0)}catch{}var Mo=enforceInternalState(ns);return hasOwn$9(Mo,"source")||(Mo.source=join$3(TEMPLATE,typeof jr=="string"?jr:"")),ns};Function.prototype.toString=makeBuiltIn$2((function(){return isCallable$g(this)&&getInternalState$3(this).source||inspectSource$1(this)}),"toString");var makeBuiltInExports=makeBuiltIn$3.exports,isCallable$f=isCallable$o,definePropertyModule$3=objectDefineProperty,makeBuiltIn$1=makeBuiltInExports,defineGlobalProperty$1=defineGlobalProperty$3,defineBuiltIn$8=function(ns,jr,Oo,Mo){Mo||(Mo={});var Di=Mo.enumerable,Qi=Mo.name!==void 0?Mo.name:jr;if(isCallable$f(Oo)&&makeBuiltIn$1(Oo,Qi,Mo),Mo.global)Di?ns[jr]=Oo:defineGlobalProperty$1(jr,Oo);else{try{Mo.unsafe?ns[jr]&&(Di=!0):delete ns[jr]}catch{}Di?ns[jr]=Oo:definePropertyModule$3.f(ns,jr,{value:Oo,enumerable:!1,configurable:!Mo.nonConfigurable,writable:!Mo.nonWritable})}return ns},objectGetOwnPropertyNames={},ceil=Math.ceil,floor$5=Math.floor,mathTrunc=Math.trunc||function(ns){var jr=+ns;return(jr>0?floor$5:ceil)(jr)},trunc=mathTrunc,toIntegerOrInfinity$7=function(ns){var jr=+ns;return jr!=jr||jr===0?0:trunc(jr)},toIntegerOrInfinity$6=toIntegerOrInfinity$7,max$3=Math.max,min$3=Math.min,toAbsoluteIndex$4=function(ns,jr){var Oo=toIntegerOrInfinity$6(ns);return Oo<0?max$3(Oo+jr,0):min$3(Oo,jr)},toIntegerOrInfinity$5=toIntegerOrInfinity$7,min$2=Math.min,toLength$5=function(ns){return ns>0?min$2(toIntegerOrInfinity$5(ns),9007199254740991):0},toLength$4=toLength$5,lengthOfArrayLike$6=function(ns){return toLength$4(ns.length)},toIndexedObject$3=toIndexedObject$5,toAbsoluteIndex$3=toAbsoluteIndex$4,lengthOfArrayLike$5=lengthOfArrayLike$6,createMethod$3=function(ns){return function(jr,Oo,Mo){var Di,Qi=toIndexedObject$3(jr),Tc=lengthOfArrayLike$5(Qi),$c=toAbsoluteIndex$3(Mo,Tc);if(ns&&Oo!=Oo){for(;Tc>$c;)if((Di=Qi[$c++])!=Di)return!0}else for(;Tc>$c;$c++)if((ns||$c in Qi)&&Qi[$c]===Oo)return ns||$c||0;return!ns&&-1}},arrayIncludes={indexOf:createMethod$3(!1)},uncurryThis$s=functionUncurryThis,hasOwn$8=hasOwnProperty_1,toIndexedObject$2=toIndexedObject$5,indexOf$1=arrayIncludes.indexOf,hiddenKeys$2=hiddenKeys$4,push$5=uncurryThis$s([].push),objectKeysInternal=function(ns,jr){var Oo,Mo=toIndexedObject$2(ns),Di=0,Qi=[];for(Oo in Mo)!hasOwn$8(hiddenKeys$2,Oo)&&hasOwn$8(Mo,Oo)&&push$5(Qi,Oo);for(;jr.length>Di;)hasOwn$8(Mo,Oo=jr[Di++])&&(~indexOf$1(Qi,Oo)||push$5(Qi,Oo));return Qi},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$1=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(ns){return internalObjectKeys$1(ns,hiddenKeys$1)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$8=getBuiltIn$a,uncurryThis$r=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule$1=objectGetOwnPropertySymbols,anObject$e=anObject$g,concat$2=uncurryThis$r([].concat),ownKeys$1=getBuiltIn$8("Reflect","ownKeys")||function(ns){var jr=getOwnPropertyNamesModule.f(anObject$e(ns)),Oo=getOwnPropertySymbolsModule$1.f;return Oo?concat$2(jr,Oo(ns)):jr},hasOwn$7=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$2=objectDefineProperty,copyConstructorProperties$3=function(ns,jr,Oo){for(var Mo=ownKeys(jr),Di=definePropertyModule$2.f,Qi=getOwnPropertyDescriptorModule.f,Tc=0;Tc<Mo.length;Tc++){var $c=Mo[Tc];hasOwn$7(ns,$c)||Oo&&hasOwn$7(Oo,$c)||Di(ns,$c,Qi(jr,$c))}},fails$k=fails$s,isCallable$e=isCallable$o,replacement=/#|\.prototype\./,isForced$1=function(ns,jr){var Oo=data[normalize(ns)];return Oo==POLYFILL||Oo!=NATIVE&&(isCallable$e(jr)?fails$k(jr):!!jr)},normalize=isForced$1.normalize=function(ns){return String(ns).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,global$g=global$q,getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,createNonEnumerableProperty$7=createNonEnumerableProperty$9,defineBuiltIn$7=defineBuiltIn$8,defineGlobalProperty=defineGlobalProperty$3,copyConstructorProperties$2=copyConstructorProperties$3,isForced=isForced_1,_export=function(ns,jr){var Oo,Mo,Di,Qi,Tc,$c=ns.target,_c=ns.global,xc=ns.stat;if(Oo=_c?global$g:xc?global$g[$c]||defineGlobalProperty($c,{}):(global$g[$c]||{}).prototype)for(Mo in jr){if(Qi=jr[Mo],Di=ns.dontCallGetSet?(Tc=getOwnPropertyDescriptor$2(Oo,Mo))&&Tc.value:Oo[Mo],!isForced(_c?Mo:$c+(xc?".":"#")+Mo,ns.forced)&&Di!==void 0){if(typeof Qi==typeof Di)continue;copyConstructorProperties$2(Qi,Di)}(ns.sham||Di&&Di.sham)&&createNonEnumerableProperty$7(Qi,"sham",!0),defineBuiltIn$7(Oo,Mo,Qi,ns)}},NATIVE_BIND$1=functionBindNative,FunctionPrototype=Function.prototype,apply$3=FunctionPrototype.apply,call$d=FunctionPrototype.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$1?call$d.bind(apply$3):function(){return call$d.apply(apply$3,arguments)}),uncurryThis$q=functionUncurryThis,aCallable$5=aCallable$7,functionUncurryThisAccessor=function(ns,jr,Oo){try{return uncurryThis$q(aCallable$5(Object.getOwnPropertyDescriptor(ns,jr)[Oo]))}catch{}},isCallable$d=isCallable$o,$String$2=String,$TypeError$b=TypeError,aPossiblePrototype$1=function(ns){if(typeof ns=="object"||isCallable$d(ns))return ns;throw $TypeError$b("Can't set "+$String$2(ns)+" as a prototype")},uncurryThisAccessor$3=functionUncurryThisAccessor,anObject$d=anObject$g,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?(function(){var ns,jr=!1,Oo={};try{(ns=uncurryThisAccessor$3(Object.prototype,"__proto__","set"))(Oo,[]),jr=Oo instanceof Array}catch{}return function(Mo,Di){return anObject$d(Mo),aPossiblePrototype(Di),jr?ns(Mo,Di):Mo.__proto__=Di,Mo}})():void 0),defineProperty$6=objectDefineProperty.f,proxyAccessor$1=function(ns,jr,Oo){Oo in ns||defineProperty$6(ns,Oo,{configurable:!0,get:function(){return jr[Oo]},set:function(Mo){jr[Oo]=Mo}})},isCallable$c=isCallable$o,isObject$4=isObject$a,setPrototypeOf$3=objectSetPrototypeOf,inheritIfRequired$2=function(ns,jr,Oo){var Mo,Di;return setPrototypeOf$3&&isCallable$c(Mo=jr.constructor)&&Mo!==Oo&&isObject$4(Di=Mo.prototype)&&Di!==Oo.prototype&&setPrototypeOf$3(ns,Di),ns},wellKnownSymbol$e=wellKnownSymbol$g,TO_STRING_TAG$3=wellKnownSymbol$e("toStringTag"),test$1={};test$1[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$1)==="[object z]",TO_STRING_TAG_SUPPORT=toStringTagSupport,isCallable$b=isCallable$o,classofRaw$1=classofRaw$2,wellKnownSymbol$d=wellKnownSymbol$g,TO_STRING_TAG$2=wellKnownSymbol$d("toStringTag"),$Object$1=Object,CORRECT_ARGUMENTS=classofRaw$1((function(){return arguments})())=="Arguments",tryGet=function(ns,jr){try{return ns[jr]}catch{}},classof$9=TO_STRING_TAG_SUPPORT?classofRaw$1:function(ns){var jr,Oo,Mo;return ns===void 0?"Undefined":ns===null?"Null":typeof(Oo=tryGet(jr=$Object$1(ns),TO_STRING_TAG$2))=="string"?Oo:CORRECT_ARGUMENTS?classofRaw$1(jr):(Mo=classofRaw$1(jr))=="Object"&&isCallable$b(jr.callee)?"Arguments":Mo},classof$8=classof$9,$String$1=String,toString$8=function(ns){if(classof$8(ns)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return $String$1(ns)},toString$7=toString$8,normalizeStringArgument$2=function(ns,jr){return ns===void 0?arguments.length<2?"":jr:toString$7(ns)},isObject$3=isObject$a,createNonEnumerableProperty$6=createNonEnumerableProperty$9,installErrorCause$1=function(ns,jr){isObject$3(jr)&&"cause"in jr&&createNonEnumerableProperty$6(ns,"cause",jr.cause)},uncurryThis$p=functionUncurryThis,$Error=Error,replace$8=uncurryThis$p("".replace),TEST=String($Error("zxcasd").stack),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(ns,jr){if(IS_V8_OR_CHAKRA_STACK&&typeof ns=="string"&&!$Error.prepareStackTrace)for(;jr--;)ns=replace$8(ns,V8_OR_CHAKRA_STACK_ENTRY,"");return ns},fails$j=fails$s,createPropertyDescriptor$4=createPropertyDescriptor$7,errorStackInstallable=!fails$j((function(){var ns=Error("a");return!("stack"in ns)||(Object.defineProperty(ns,"stack",createPropertyDescriptor$4(1,7)),ns.stack!==7)})),createNonEnumerableProperty$5=createNonEnumerableProperty$9,clearErrorStack$1=errorStackClear,ERROR_STACK_INSTALLABLE=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(ns,jr,Oo,Mo){ERROR_STACK_INSTALLABLE&&(captureStackTrace?captureStackTrace(ns,jr):createNonEnumerableProperty$5(ns,"stack",clearErrorStack$1(Oo,Mo)))},getBuiltIn$7=getBuiltIn$a,hasOwn$6=hasOwnProperty_1,createNonEnumerableProperty$4=createNonEnumerableProperty$9,isPrototypeOf$2=objectIsPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,copyConstructorProperties$1=copyConstructorProperties$3,proxyAccessor=proxyAccessor$1,inheritIfRequired$1=inheritIfRequired$2,normalizeStringArgument$1=normalizeStringArgument$2,installErrorCause=installErrorCause$1,installErrorStack=errorStackInstall,DESCRIPTORS$d=descriptors,wrapErrorConstructorWithCause$1=function(ns,jr,Oo,Mo){var Di="stackTraceLimit",Qi=Mo?2:1,Tc=ns.split("."),$c=Tc[Tc.length-1],_c=getBuiltIn$7.apply(null,Tc);if(_c){var xc=_c.prototype;if(hasOwn$6(xc,"cause")&&delete xc.cause,!Oo)return _c;var Ec=getBuiltIn$7("Error"),Pc=jr((function(Ac,Oc){var Mc=normalizeStringArgument$1(Mo?Oc:Ac,void 0),Rc=Mo?new _c(Ac):new _c;return Mc!==void 0&&createNonEnumerableProperty$4(Rc,"message",Mc),installErrorStack(Rc,Pc,Rc.stack,2),this&&isPrototypeOf$2(xc,this)&&inheritIfRequired$1(Rc,this,Pc),arguments.length>Qi&&installErrorCause(Rc,arguments[Qi]),Rc}));Pc.prototype=xc,$c!=="Error"?setPrototypeOf$2?setPrototypeOf$2(Pc,Ec):copyConstructorProperties$1(Pc,Ec,{name:!0}):DESCRIPTORS$d&&Di in _c&&(proxyAccessor(Pc,_c,Di),proxyAccessor(Pc,_c,"prepareStackTrace")),copyConstructorProperties$1(Pc,_c);try{xc.name!==$c&&createNonEnumerableProperty$4(xc,"name",$c),xc.constructor=Pc}catch{}return Pc}},$$p=_export,global$f=global$q,apply$2=functionApply,wrapErrorConstructorWithCause=wrapErrorConstructorWithCause$1,WEB_ASSEMBLY="WebAssembly",WebAssembly=global$f[WEB_ASSEMBLY],FORCED$2=Error("e",{cause:7}).cause!==7,exportGlobalErrorCauseWrapper=function(ns,jr){var Oo={};Oo[ns]=wrapErrorConstructorWithCause(ns,jr,FORCED$2),$$p({global:!0,constructor:!0,arity:1,forced:FORCED$2},Oo)},exportWebAssemblyErrorCauseWrapper=function(ns,jr){if(WebAssembly&&WebAssembly[ns]){var Oo={};Oo[ns]=wrapErrorConstructorWithCause(WEB_ASSEMBLY+"."+ns,jr,FORCED$2),$$p({target:WEB_ASSEMBLY,stat:!0,constructor:!0,arity:1,forced:FORCED$2},Oo)}};exportGlobalErrorCauseWrapper("Error",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("EvalError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("RangeError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("ReferenceError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("SyntaxError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("TypeError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportGlobalErrorCauseWrapper("URIError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("CompileError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("LinkError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(ns){return function(jr){return apply$2(ns,this,arguments)}}));var classof$7=classofRaw$2,isArray$4=Array.isArray||function(ns){return classof$7(ns)=="Array"},DESCRIPTORS$c=descriptors,isArray$3=isArray$4,$TypeError$a=TypeError,getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,SILENT_ON_NON_WRITABLE_LENGTH_SET=DESCRIPTORS$c&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(ns){return ns instanceof TypeError}})(),arraySetLength=SILENT_ON_NON_WRITABLE_LENGTH_SET?function(ns,jr){if(isArray$3(ns)&&!getOwnPropertyDescriptor$1(ns,"length").writable)throw $TypeError$a("Cannot set read only .length");return ns.length=jr}:function(ns,jr){return ns.length=jr},$TypeError$9=TypeError,MAX_SAFE_INTEGER=9007199254740991,doesNotExceedSafeInteger$1=function(ns){if(ns>MAX_SAFE_INTEGER)throw $TypeError$9("Maximum allowed index exceeded");return ns},$$o=_export,toObject$6=toObject$8,lengthOfArrayLike$4=lengthOfArrayLike$6,setArrayLength=arraySetLength,doesNotExceedSafeInteger=doesNotExceedSafeInteger$1,fails$i=fails$s,INCORRECT_TO_LENGTH=fails$i((function(){return[].push.call({length:4294967296},1)!==4294967297})),properErrorOnNonWritableLength=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(ns){return ns instanceof TypeError}},FORCED$1=INCORRECT_TO_LENGTH||!properErrorOnNonWritableLength();$$o({target:"Array",proto:!0,arity:1,forced:FORCED$1},{push:function(ns){var jr=toObject$6(this),Oo=lengthOfArrayLike$4(jr),Mo=arguments.length;doesNotExceedSafeInteger(Oo+Mo);for(var Di=0;Di<Mo;Di++)jr[Oo]=arguments[Di],Oo++;return setArrayLength(jr,Oo),Oo}});var uncurryThis$o=functionUncurryThis,arraySlice$4=uncurryThis$o([].slice),uncurryThis$n=functionUncurryThis,isArray$2=isArray$4,isCallable$a=isCallable$o,classof$6=classofRaw$2,toString$6=toString$8,push$4=uncurryThis$n([].push),getJsonReplacerFunction=function(ns){if(isCallable$a(ns))return ns;if(isArray$2(ns)){for(var jr=ns.length,Oo=[],Mo=0;Mo<jr;Mo++){var Di=ns[Mo];typeof Di=="string"?push$4(Oo,Di):typeof Di!="number"&&classof$6(Di)!="Number"&&classof$6(Di)!="String"||push$4(Oo,toString$6(Di))}var Qi=Oo.length,Tc=!0;return function($c,_c){if(Tc)return Tc=!1,_c;if(isArray$2(this))return _c;for(var xc=0;xc<Qi;xc++)if(Oo[xc]===$c)return _c}}},$$n=_export,getBuiltIn$6=getBuiltIn$a,apply$1=functionApply,call$c=functionCall,uncurryThis$m=functionUncurryThis,fails$h=fails$s,isCallable$9=isCallable$o,isSymbol=isSymbol$3,arraySlice$3=arraySlice$4,getReplacerFunction=getJsonReplacerFunction,NATIVE_SYMBOL$1=symbolConstructorDetection,$String=String,$stringify=getBuiltIn$6("JSON","stringify"),exec$4=uncurryThis$m(/./.exec),charAt$7=uncurryThis$m("".charAt),charCodeAt$2=uncurryThis$m("".charCodeAt),replace$7=uncurryThis$m("".replace),numberToString$1=uncurryThis$m(1 .toString),tester=/[\uD800-\uDFFF]/g,low=/^[\uD800-\uDBFF]$/,hi$1=/^[\uDC00-\uDFFF]$/,WRONG_SYMBOLS_CONVERSION=!NATIVE_SYMBOL$1||fails$h((function(){var ns=getBuiltIn$6("Symbol")();return $stringify([ns])!="[null]"||$stringify({a:ns})!="{}"||$stringify(Object(ns))!="{}"})),ILL_FORMED_UNICODE=fails$h((function(){return $stringify("\uDF06\uD834")!=='"\\udf06\\ud834"'||$stringify("\uDEAD")!=='"\\udead"'})),stringifyWithSymbolsFix=function(ns,jr){var Oo=arraySlice$3(arguments),Mo=getReplacerFunction(jr);if(isCallable$9(Mo)||ns!==void 0&&!isSymbol(ns))return Oo[1]=function(Di,Qi){if(isCallable$9(Mo)&&(Qi=call$c(Mo,this,$String(Di),Qi)),!isSymbol(Qi))return Qi},apply$1($stringify,null,Oo)},fixIllFormed=function(ns,jr,Oo){var Mo=charAt$7(Oo,jr-1),Di=charAt$7(Oo,jr+1);return exec$4(low,ns)&&!exec$4(hi$1,Di)||exec$4(hi$1,ns)&&!exec$4(low,Mo)?"\\u"+numberToString$1(charCodeAt$2(ns,0),16):ns};$stringify&&$$n({target:"JSON",stat:!0,arity:3,forced:WRONG_SYMBOLS_CONVERSION||ILL_FORMED_UNICODE},{stringify:function(ns,jr,Oo){var Mo=arraySlice$3(arguments),Di=apply$1(WRONG_SYMBOLS_CONVERSION?stringifyWithSymbolsFix:$stringify,null,Mo);return ILL_FORMED_UNICODE&&typeof Di=="string"?replace$7(Di,tester,fixIllFormed):Di}});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},documentCreateElement$1=documentCreateElement$2,classList=documentCreateElement$1("span").classList,DOMTokenListPrototype$1=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype$1===Object.prototype?void 0:DOMTokenListPrototype$1,objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$2=Object.keys||function(ns){return internalObjectKeys(ns,enumBugKeys$1)},DESCRIPTORS$b=descriptors,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule$1=objectDefineProperty,anObject$c=anObject$g,toIndexedObject$1=toIndexedObject$5,objectKeys$1=objectKeys$2;objectDefineProperties.f=DESCRIPTORS$b&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(ns,jr){anObject$c(ns);for(var Oo,Mo=toIndexedObject$1(jr),Di=objectKeys$1(jr),Qi=Di.length,Tc=0;Qi>Tc;)definePropertyModule$1.f(ns,Oo=Di[Tc++],Mo[Oo]);return ns};var getBuiltIn$5=getBuiltIn$a,html$1=getBuiltIn$5("document","documentElement"),anObject$b=anObject$g,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys=hiddenKeys$4,html=html$1,documentCreateElement=documentCreateElement$2,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(ns){return LT+SCRIPT+GT+ns+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(ns){ns.write(scriptTag("")),ns.close();var jr=ns.parentWindow.Object;return ns=null,jr},NullProtoObjectViaIFrame=function(){var ns,jr=documentCreateElement("iframe"),Oo="java"+SCRIPT+":";return jr.style.display="none",html.appendChild(jr),jr.src=String(Oo),(ns=jr.contentWindow.document).open(),ns.write(scriptTag("document.F=Object")),ns.close(),ns.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var ns=enumBugKeys.length;ns--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys[ns]];return NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var objectCreate=Object.create||function(ns,jr){var Oo;return ns!==null?(EmptyConstructor[PROTOTYPE$1]=anObject$b(ns),Oo=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,Oo[IE_PROTO$1]=ns):Oo=NullProtoObject(),jr===void 0?Oo:definePropertiesModule.f(Oo,jr)},wellKnownSymbol$c=wellKnownSymbol$g,create$3=objectCreate,defineProperty$5=objectDefineProperty.f,UNSCOPABLES=wellKnownSymbol$c("unscopables"),ArrayPrototype$1=Array.prototype;ArrayPrototype$1[UNSCOPABLES]==null&&defineProperty$5(ArrayPrototype$1,UNSCOPABLES,{configurable:!0,value:create$3(null)});var addToUnscopables$1=function(ns){ArrayPrototype$1[UNSCOPABLES][ns]=!0},iterators={},fails$g=fails$s,correctPrototypeGetter=!fails$g((function(){function ns(){}return ns.prototype.constructor=null,Object.getPrototypeOf(new ns)!==ns.prototype})),hasOwn$5=hasOwnProperty_1,isCallable$8=isCallable$o,toObject$5=toObject$8,sharedKey=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO=sharedKey("IE_PROTO"),$Object=Object,ObjectPrototype$1=$Object.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object.getPrototypeOf:function(ns){var jr=toObject$5(ns);if(hasOwn$5(jr,IE_PROTO))return jr[IE_PROTO];var Oo=jr.constructor;return isCallable$8(Oo)&&jr instanceof Oo?Oo.prototype:jr instanceof $Object?ObjectPrototype$1:null},fails$f=fails$s,isCallable$7=isCallable$o,isObject$2=isObject$a,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltIn$6=defineBuiltIn$8,wellKnownSymbol$b=wellKnownSymbol$g,ITERATOR$6=wellKnownSymbol$b("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$2(getPrototypeOf$2(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$2(IteratorPrototype$2)||fails$f((function(){var ns={};return IteratorPrototype$2[ITERATOR$6].call(ns)!==ns}));NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable$7(IteratorPrototype$2[ITERATOR$6])||defineBuiltIn$6(IteratorPrototype$2,ITERATOR$6,(function(){return this}));var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},defineProperty$4=objectDefineProperty.f,hasOwn$4=hasOwnProperty_1,wellKnownSymbol$a=wellKnownSymbol$g,TO_STRING_TAG$1=wellKnownSymbol$a("toStringTag"),setToStringTag$6=function(ns,jr,Oo){ns&&!Oo&&(ns=ns.prototype),ns&&!hasOwn$4(ns,TO_STRING_TAG$1)&&defineProperty$4(ns,TO_STRING_TAG$1,{configurable:!0,value:jr})},IteratorPrototype$1=iteratorsCore.IteratorPrototype,create$2=objectCreate,createPropertyDescriptor$3=createPropertyDescriptor$7,setToStringTag$5=setToStringTag$6,Iterators$4=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(ns,jr,Oo,Mo){var Di=jr+" Iterator";return ns.prototype=create$2(IteratorPrototype$1,{next:createPropertyDescriptor$3(+!Mo,Oo)}),setToStringTag$5(ns,Di,!1),Iterators$4[Di]=returnThis$1,ns},$$m=_export,call$b=functionCall,FunctionName$1=functionName,isCallable$6=isCallable$o,createIteratorConstructor$1=iteratorCreateConstructor,getPrototypeOf$1=objectGetPrototypeOf,setPrototypeOf$1=objectSetPrototypeOf,setToStringTag$4=setToStringTag$6,createNonEnumerableProperty$3=createNonEnumerableProperty$9,defineBuiltIn$5=defineBuiltIn$8,wellKnownSymbol$9=wellKnownSymbol$g,Iterators$3=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME$2=FunctionName$1.PROPER,CONFIGURABLE_FUNCTION_NAME$1=FunctionName$1.CONFIGURABLE,IteratorPrototype=IteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$5=wellKnownSymbol$9("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(ns,jr,Oo,Mo,Di,Qi,Tc){createIteratorConstructor$1(Oo,jr,Mo);var $c,_c,xc,Ec=function(Dc){if(Dc===Di&&Rc)return Rc;if(!BUGGY_SAFARI_ITERATORS&&Dc in Oc)return Oc[Dc];switch(Dc){case KEYS:case VALUES:case ENTRIES:return function(){return new Oo(this,Dc)}}return function(){return new Oo(this)}},Pc=jr+" Iterator",Ac=!1,Oc=ns.prototype,Mc=Oc[ITERATOR$5]||Oc["@@iterator"]||Di&&Oc[Di],Rc=!BUGGY_SAFARI_ITERATORS&&Mc||Ec(Di),Uc=jr=="Array"&&Oc.entries||Mc;if(Uc&&($c=getPrototypeOf$1(Uc.call(new ns)))!==Object.prototype&&$c.next&&(getPrototypeOf$1($c)!==IteratorPrototype&&(setPrototypeOf$1?setPrototypeOf$1($c,IteratorPrototype):isCallable$6($c[ITERATOR$5])||defineBuiltIn$5($c,ITERATOR$5,returnThis)),setToStringTag$4($c,Pc,!0)),PROPER_FUNCTION_NAME$2&&Di==VALUES&&Mc&&Mc.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME$1?createNonEnumerableProperty$3(Oc,"name",VALUES):(Ac=!0,Rc=function(){return call$b(Mc,this)})),Di)if(_c={values:Ec(VALUES),keys:Qi?Rc:Ec(KEYS),entries:Ec(ENTRIES)},Tc)for(xc in _c)(BUGGY_SAFARI_ITERATORS||Ac||!(xc in Oc))&&defineBuiltIn$5(Oc,xc,_c[xc]);else $$m({target:jr,proto:!0,forced:BUGGY_SAFARI_ITERATORS||Ac},_c);return Oc[ITERATOR$5]!==Rc&&defineBuiltIn$5(Oc,ITERATOR$5,Rc,{name:Di}),Iterators$3[jr]=Rc,_c},createIterResultObject$2=function(ns,jr){return{value:ns,done:jr}},toIndexedObject=toIndexedObject$5,addToUnscopables=addToUnscopables$1,Iterators$2=iterators,InternalStateModule$4=internalState,defineProperty$3=objectDefineProperty.f,defineIterator$1=iteratorDefine,createIterResultObject$1=createIterResultObject$2,DESCRIPTORS$a=descriptors,ARRAY_ITERATOR="Array Iterator",setInternalState$4=InternalStateModule$4.set,getInternalState$2=InternalStateModule$4.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator$1(Array,"Array",(function(ns,jr){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject(ns),index:0,kind:jr})}),(function(){var ns=getInternalState$2(this),jr=ns.target,Oo=ns.kind,Mo=ns.index++;return!jr||Mo>=jr.length?(ns.target=void 0,createIterResultObject$1(void 0,!0)):createIterResultObject$1(Oo=="keys"?Mo:Oo=="values"?jr[Mo]:[Mo,jr[Mo]],!1)}),"values"),values=Iterators$2.Arguments=Iterators$2.Array;if(addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries"),DESCRIPTORS$a&&values.name!=="values")try{defineProperty$3(values,"name",{value:"values"})}catch{}var global$e=global$q,DOMIterables=domIterables,DOMTokenListPrototype=domTokenListPrototype,ArrayIteratorMethods=es_array_iterator,createNonEnumerableProperty$2=createNonEnumerableProperty$9,wellKnownSymbol$8=wellKnownSymbol$g,ITERATOR$4=wellKnownSymbol$8("iterator"),TO_STRING_TAG=wellKnownSymbol$8("toStringTag"),ArrayValues=ArrayIteratorMethods.values,handlePrototype=function(ns,jr){if(ns){if(ns[ITERATOR$4]!==ArrayValues)try{createNonEnumerableProperty$2(ns,ITERATOR$4,ArrayValues)}catch{ns[ITERATOR$4]=ArrayValues}if(ns[TO_STRING_TAG]||createNonEnumerableProperty$2(ns,TO_STRING_TAG,jr),DOMIterables[jr]){for(var Oo in ArrayIteratorMethods)if(ns[Oo]!==ArrayIteratorMethods[Oo])try{createNonEnumerableProperty$2(ns,Oo,ArrayIteratorMethods[Oo])}catch{ns[Oo]=ArrayIteratorMethods[Oo]}}}};for(var COLLECTION_NAME in DOMIterables)handlePrototype(global$e[COLLECTION_NAME]&&global$e[COLLECTION_NAME].prototype,COLLECTION_NAME);handlePrototype(DOMTokenListPrototype,"DOMTokenList");var anObject$a=anObject$g,regexpFlags$1=function(){var ns=anObject$a(this),jr="";return ns.hasIndices&&(jr+="d"),ns.global&&(jr+="g"),ns.ignoreCase&&(jr+="i"),ns.multiline&&(jr+="m"),ns.dotAll&&(jr+="s"),ns.unicode&&(jr+="u"),ns.unicodeSets&&(jr+="v"),ns.sticky&&(jr+="y"),jr},fails$e=fails$s,global$d=global$q,$RegExp$2=global$d.RegExp,UNSUPPORTED_Y$1=fails$e((function(){var ns=$RegExp$2("a","y");return ns.lastIndex=2,ns.exec("abcd")!=null}));UNSUPPORTED_Y$1||fails$e((function(){return!$RegExp$2("a","y").sticky}));var BROKEN_CARET=UNSUPPORTED_Y$1||fails$e((function(){var ns=$RegExp$2("^r","gy");return ns.lastIndex=2,ns.exec("str")!=null})),regexpStickyHelpers={BROKEN_CARET},fails$d=fails$s,global$c=global$q,$RegExp$1=global$c.RegExp,regexpUnsupportedDotAll=fails$d((function(){var ns=$RegExp$1(".","s");return!(ns.dotAll&&ns.exec(`
`)&&ns.flags==="s")})),fails$c=fails$s,global$b=global$q,$RegExp=global$b.RegExp,regexpUnsupportedNcg=fails$c((function(){var ns=$RegExp("(?<a>b)","g");return ns.exec("b").groups.a!=="b"||"b".replace(ns,"$<a>c")!=="bc"})),call$a=functionCall,uncurryThis$l=functionUncurryThis,toString$5=toString$8,regexpFlags=regexpFlags$1,stickyHelpers=regexpStickyHelpers,shared=sharedExports,create$1=objectCreate,getInternalState$1=internalState.get,UNSUPPORTED_DOT_ALL=regexpUnsupportedDotAll,UNSUPPORTED_NCG=regexpUnsupportedNcg,nativeReplace=shared("native-string-replace",String.prototype.replace),nativeExec=RegExp.prototype.exec,patchedExec=nativeExec,charAt$6=uncurryThis$l("".charAt),indexOf=uncurryThis$l("".indexOf),replace$6=uncurryThis$l("".replace),stringSlice$6=uncurryThis$l("".slice),UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,call$a(nativeExec,re1,"a"),call$a(nativeExec,re2,"a"),re1.lastIndex!==0||re2.lastIndex!==0),re1,re2,UNSUPPORTED_Y=stickyHelpers.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y||UNSUPPORTED_DOT_ALL||UNSUPPORTED_NCG;PATCH&&(patchedExec=function(ns){var jr,Oo,Mo,Di,Qi,Tc,$c,_c=this,xc=getInternalState$1(_c),Ec=toString$5(ns),Pc=xc.raw;if(Pc)return Pc.lastIndex=_c.lastIndex,jr=call$a(patchedExec,Pc,Ec),_c.lastIndex=Pc.lastIndex,jr;var Ac=xc.groups,Oc=UNSUPPORTED_Y&&_c.sticky,Mc=call$a(regexpFlags,_c),Rc=_c.source,Uc=0,Dc=Ec;if(Oc&&(Mc=replace$6(Mc,"y",""),indexOf(Mc,"g")===-1&&(Mc+="g"),Dc=stringSlice$6(Ec,_c.lastIndex),_c.lastIndex>0&&(!_c.multiline||_c.multiline&&charAt$6(Ec,_c.lastIndex-1)!==`
`)&&(Rc="(?: "+Rc+")",Dc=" "+Dc,Uc++),Oo=new RegExp("^(?:"+Rc+")",Mc)),NPCG_INCLUDED&&(Oo=new RegExp("^"+Rc+"$(?!\\s)",Mc)),UPDATES_LAST_INDEX_WRONG&&(Mo=_c.lastIndex),Di=call$a(nativeExec,Oc?Oo:_c,Dc),Oc?Di?(Di.input=stringSlice$6(Di.input,Uc),Di[0]=stringSlice$6(Di[0],Uc),Di.index=_c.lastIndex,_c.lastIndex+=Di[0].length):_c.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&Di&&(_c.lastIndex=_c.global?Di.index+Di[0].length:Mo),NPCG_INCLUDED&&Di&&Di.length>1&&call$a(nativeReplace,Di[0],Oo,(function(){for(Qi=1;Qi<arguments.length-2;Qi++)arguments[Qi]===void 0&&(Di[Qi]=void 0)})),Di&&Ac)for(Di.groups=Tc=create$1(null),Qi=0;Qi<Ac.length;Qi++)Tc[($c=Ac[Qi])[0]]=Di[$c[1]];return Di});var regexpExec$2=patchedExec,$$l=_export,exec$3=regexpExec$2;$$l({target:"RegExp",proto:!0,forced:/./.exec!==exec$3},{exec:exec$3});var classofRaw=classofRaw$2,uncurryThis$k=functionUncurryThis,functionUncurryThisClause=function(ns){if(classofRaw(ns)==="Function")return uncurryThis$k(ns)},uncurryThis$j=functionUncurryThisClause,defineBuiltIn$4=defineBuiltIn$8,regexpExec$1=regexpExec$2,fails$b=fails$s,wellKnownSymbol$7=wellKnownSymbol$g,createNonEnumerableProperty$1=createNonEnumerableProperty$9,SPECIES$2=wellKnownSymbol$7("species"),RegExpPrototype=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(ns,jr,Oo,Mo){var Di=wellKnownSymbol$7(ns),Qi=!fails$b((function(){var xc={};return xc[Di]=function(){return 7},""[ns](xc)!=7})),Tc=Qi&&!fails$b((function(){var xc=!1,Ec=/a/;return ns==="split"&&((Ec={}).constructor={},Ec.constructor[SPECIES$2]=function(){return Ec},Ec.flags="",Ec[Di]=/./[Di]),Ec.exec=function(){return xc=!0,null},Ec[Di](""),!xc}));if(!Qi||!Tc||Oo){var $c=uncurryThis$j(/./[Di]),_c=jr(Di,""[ns],(function(xc,Ec,Pc,Ac,Oc){var Mc=uncurryThis$j(xc),Rc=Ec.exec;return Rc===regexpExec$1||Rc===RegExpPrototype.exec?Qi&&!Oc?{done:!0,value:$c(Ec,Pc,Ac)}:{done:!0,value:Mc(Pc,Ec,Ac)}:{done:!1}}));defineBuiltIn$4(String.prototype,ns,_c[0]),defineBuiltIn$4(RegExpPrototype,Di,_c[1])}Mo&&createNonEnumerableProperty$1(RegExpPrototype[Di],"sham",!0)},uncurryThis$i=functionUncurryThis,toIntegerOrInfinity$4=toIntegerOrInfinity$7,toString$4=toString$8,requireObjectCoercible$2=requireObjectCoercible$5,charAt$5=uncurryThis$i("".charAt),charCodeAt$1=uncurryThis$i("".charCodeAt),stringSlice$5=uncurryThis$i("".slice),createMethod$2=function(ns){return function(jr,Oo){var Mo,Di,Qi=toString$4(requireObjectCoercible$2(jr)),Tc=toIntegerOrInfinity$4(Oo),$c=Qi.length;return Tc<0||Tc>=$c?ns?"":void 0:(Mo=charCodeAt$1(Qi,Tc))<55296||Mo>56319||Tc+1===$c||(Di=charCodeAt$1(Qi,Tc+1))<56320||Di>57343?ns?charAt$5(Qi,Tc):Mo:ns?stringSlice$5(Qi,Tc,Tc+2):Di-56320+(Mo-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$2(!1),charAt:createMethod$2(!0)},charAt$4=stringMultibyte.charAt,advanceStringIndex$1=function(ns,jr,Oo){return jr+(Oo?charAt$4(ns,jr).length:1)},uncurryThis$h=functionUncurryThis,toObject$4=toObject$8,floor$4=Math.floor,charAt$3=uncurryThis$h("".charAt),replace$5=uncurryThis$h("".replace),stringSlice$4=uncurryThis$h("".slice),SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution$1=function(ns,jr,Oo,Mo,Di,Qi){var Tc=Oo+ns.length,$c=Mo.length,_c=SUBSTITUTION_SYMBOLS_NO_NAMED;return Di!==void 0&&(Di=toObject$4(Di),_c=SUBSTITUTION_SYMBOLS),replace$5(Qi,_c,(function(xc,Ec){var Pc;switch(charAt$3(Ec,0)){case"$":return"$";case"&":return ns;case"`":return stringSlice$4(jr,0,Oo);case"'":return stringSlice$4(jr,Tc);case"<":Pc=Di[stringSlice$4(Ec,1,-1)];break;default:var Ac=+Ec;if(Ac===0)return xc;if(Ac>$c){var Oc=floor$4(Ac/10);return Oc===0?xc:Oc<=$c?Mo[Oc-1]===void 0?charAt$3(Ec,1):Mo[Oc-1]+charAt$3(Ec,1):xc}Pc=Mo[Ac-1]}return Pc===void 0?"":Pc}))},call$9=functionCall,anObject$9=anObject$g,isCallable$5=isCallable$o,classof$5=classofRaw$2,regexpExec=regexpExec$2,$TypeError$8=TypeError,regexpExecAbstract=function(ns,jr){var Oo=ns.exec;if(isCallable$5(Oo)){var Mo=call$9(Oo,ns,jr);return Mo!==null&&anObject$9(Mo),Mo}if(classof$5(ns)==="RegExp")return call$9(regexpExec,ns,jr);throw $TypeError$8("RegExp#exec called on incompatible receiver")},apply=functionApply,call$8=functionCall,uncurryThis$g=functionUncurryThis,fixRegExpWellKnownSymbolLogic=fixRegexpWellKnownSymbolLogic,fails$a=fails$s,anObject$8=anObject$g,isCallable$4=isCallable$o,isNullOrUndefined$2=isNullOrUndefined$5,toIntegerOrInfinity$3=toIntegerOrInfinity$7,toLength$3=toLength$5,toString$3=toString$8,requireObjectCoercible$1=requireObjectCoercible$5,advanceStringIndex=advanceStringIndex$1,getMethod$2=getMethod$4,getSubstitution=getSubstitution$1,regExpExec=regexpExecAbstract,wellKnownSymbol$6=wellKnownSymbol$g,REPLACE=wellKnownSymbol$6("replace"),max$2=Math.max,min$1=Math.min,concat$1=uncurryThis$g([].concat),push$3=uncurryThis$g([].push),stringIndexOf=uncurryThis$g("".indexOf),stringSlice$3=uncurryThis$g("".slice),maybeToString=function(ns){return ns===void 0?ns:String(ns)},REPLACE_KEEPS_$0="a".replace(/./,"$0")==="$0",REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&/./[REPLACE]("a","$0")==="",REPLACE_SUPPORTS_NAMED_GROUPS=!fails$a((function(){var ns=/./;return ns.exec=function(){var jr=[];return jr.groups={a:"7"},jr},"".replace(ns,"$<a>")!=="7"}));fixRegExpWellKnownSymbolLogic("replace",(function(ns,jr,Oo){var Mo=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(Di,Qi){var Tc=requireObjectCoercible$1(this),$c=isNullOrUndefined$2(Di)?void 0:getMethod$2(Di,REPLACE);return $c?call$8($c,Di,Tc,Qi):call$8(jr,toString$3(Tc),Di,Qi)},function(Di,Qi){var Tc=anObject$8(this),$c=toString$3(Di);if(typeof Qi=="string"&&stringIndexOf(Qi,Mo)===-1&&stringIndexOf(Qi,"$<")===-1){var _c=Oo(jr,Tc,$c,Qi);if(_c.done)return _c.value}var xc=isCallable$4(Qi);xc||(Qi=toString$3(Qi));var Ec=Tc.global;if(Ec){var Pc=Tc.unicode;Tc.lastIndex=0}for(var Ac=[];;){var Oc=regExpExec(Tc,$c);if(Oc===null||(push$3(Ac,Oc),!Ec))break;toString$3(Oc[0])===""&&(Tc.lastIndex=advanceStringIndex($c,toLength$3(Tc.lastIndex),Pc))}for(var Mc="",Rc=0,Uc=0;Uc<Ac.length;Uc++){for(var Dc=toString$3((Oc=Ac[Uc])[0]),Nc=max$2(min$1(toIntegerOrInfinity$3(Oc.index),$c.length),0),zc=[],Gc=1;Gc<Oc.length;Gc++)push$3(zc,maybeToString(Oc[Gc]));var Yc=Oc.groups;if(xc){var Kc=concat$1([Dc],zc,Nc,$c);Yc!==void 0&&push$3(Kc,Yc);var au=toString$3(apply(Qi,void 0,Kc))}else au=getSubstitution(Dc,$c,Nc,zc,Yc,Qi);Nc>=Rc&&(Mc+=stringSlice$3($c,Rc,Nc)+au,Rc=Nc+Dc.length)}return Mc+stringSlice$3($c,Rc)}]}),!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);var toggleSelection=function(){var ns=document.getSelection();if(!ns.rangeCount)return function(){};for(var jr=document.activeElement,Oo=[],Mo=0;Mo<ns.rangeCount;Mo++)Oo.push(ns.getRangeAt(Mo));switch(jr.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":jr.blur();break;default:jr=null}return ns.removeAllRanges(),function(){ns.type==="Caret"&&ns.removeAllRanges(),ns.rangeCount||Oo.forEach((function(Di){ns.addRange(Di)})),jr&&jr.focus()}},deselectCurrent=toggleSelection,clipboardToIE11Formatting={"text/plain":"Text","text/html":"Url",default:"Text"},defaultMessage="Copy to clipboard: #{key}, Enter";function format(ns){var jr=(/mac os x/i.test(navigator.userAgent)?"â":"Ctrl")+"+C";return ns.replace(/#{\s*key\s*}/g,jr)}function copy(ns,jr){var Oo,Mo,Di,Qi,Tc,$c,_c=!1;jr||(jr={}),Oo=jr.debug||!1;try{if(Di=deselectCurrent(),Qi=document.createRange(),Tc=document.getSelection(),($c=document.createElement("span")).textContent=ns,$c.ariaHidden="true",$c.style.all="unset",$c.style.position="fixed",$c.style.top=0,$c.style.clip="rect(0, 0, 0, 0)",$c.style.whiteSpace="pre",$c.style.webkitUserSelect="text",$c.style.MozUserSelect="text",$c.style.msUserSelect="text",$c.style.userSelect="text",$c.addEventListener("copy",(function(xc){if(xc.stopPropagation(),jr.format)if(xc.preventDefault(),xc.clipboardData===void 0){Oo&&console.warn("unable to use e.clipboardData"),Oo&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Ec=clipboardToIE11Formatting[jr.format]||clipboardToIE11Formatting.default;window.clipboardData.setData(Ec,ns)}else xc.clipboardData.clearData(),xc.clipboardData.setData(jr.format,ns);jr.onCopy&&(xc.preventDefault(),jr.onCopy(xc.clipboardData))})),document.body.appendChild($c),Qi.selectNodeContents($c),Tc.addRange(Qi),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");_c=!0}catch(xc){Oo&&console.error("unable to copy using execCommand: ",xc),Oo&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(jr.format||"text",ns),jr.onCopy&&jr.onCopy(window.clipboardData),_c=!0}catch(Ec){Oo&&console.error("unable to copy using clipboardData: ",Ec),Oo&&console.error("falling back to prompt"),Mo=format("message"in jr?jr.message:defaultMessage),window.prompt(Mo,ns)}}finally{Tc&&(typeof Tc.removeRange=="function"?Tc.removeRange(Qi):Tc.removeAllRanges()),$c&&document.body.removeChild($c),Di()}return _c}var copyToClipboard=copy,copy$1=getDefaultExportFromCjs(copyToClipboard),aCallable$4=aCallable$7,toObject$3=toObject$8,IndexedObject$1=indexedObject,lengthOfArrayLike$3=lengthOfArrayLike$6,$TypeError$7=TypeError,createMethod$1=function(ns){return function(jr,Oo,Mo,Di){aCallable$4(Oo);var Qi=toObject$3(jr),Tc=IndexedObject$1(Qi),$c=lengthOfArrayLike$3(Qi),_c=ns?$c-1:0,xc=ns?-1:1;if(Mo<2)for(;;){if(_c in Tc){Di=Tc[_c],_c+=xc;break}if(_c+=xc,ns?_c<0:$c<=_c)throw $TypeError$7("Reduce of empty array with no initial value")}for(;ns?_c>=0:$c>_c;_c+=xc)_c in Tc&&(Di=Oo(Di,Tc[_c],_c,Qi));return Di}},arrayReduce={left:createMethod$1(!1)},fails$9=fails$s,arrayMethodIsStrict$1=function(ns,jr){var Oo=[][ns];return!!Oo&&fails$9((function(){Oo.call(null,jr||function(){return 1},1)}))},classof$4=classofRaw$2,engineIsNode=typeof process<"u"&&classof$4(process)=="process",$$k=_export,$reduce=arrayReduce.left,arrayMethodIsStrict=arrayMethodIsStrict$1,CHROME_VERSION=engineV8Version,IS_NODE$2=engineIsNode,CHROME_BUG=!IS_NODE$2&&CHROME_VERSION>79&&CHROME_VERSION<83,FORCED=CHROME_BUG||!arrayMethodIsStrict("reduce");$$k({target:"Array",proto:!0,forced:FORCED},{reduce:function(ns){var jr=arguments.length;return $reduce(this,ns,jr,jr>1?arguments[1]:void 0)}});var arrayBufferBasicDetection=typeof ArrayBuffer<"u"&&typeof DataView<"u",makeBuiltIn=makeBuiltInExports,defineProperty$2=objectDefineProperty,defineBuiltInAccessor$7=function(ns,jr,Oo){return Oo.get&&makeBuiltIn(Oo.get,jr,{getter:!0}),Oo.set&&makeBuiltIn(Oo.set,jr,{setter:!0}),defineProperty$2.f(ns,jr,Oo)},defineBuiltIn$3=defineBuiltIn$8,defineBuiltIns$2=function(ns,jr,Oo){for(var Mo in jr)defineBuiltIn$3(ns,Mo,jr[Mo],Oo);return ns},isPrototypeOf$1=objectIsPrototypeOf,$TypeError$6=TypeError,anInstance$4=function(ns,jr){if(isPrototypeOf$1(jr,ns))return ns;throw $TypeError$6("Incorrect invocation")},toIntegerOrInfinity$2=toIntegerOrInfinity$7,toLength$2=toLength$5,$RangeError$1=RangeError,toIndex$2=function(ns){if(ns===void 0)return 0;var jr=toIntegerOrInfinity$2(ns),Oo=toLength$2(jr);if(jr!==Oo)throw $RangeError$1("Wrong length or index");return Oo},$Array$2=Array,abs=Math.abs,pow$1=Math.pow,floor$3=Math.floor,log=Math.log,LN2=Math.LN2,pack=function(ns,jr,Oo){var Mo,Di,Qi,Tc=$Array$2(Oo),$c=8*Oo-jr-1,_c=(1<<$c)-1,xc=_c>>1,Ec=jr===23?pow$1(2,-24)-pow$1(2,-77):0,Pc=ns<0||ns===0&&1/ns<0?1:0,Ac=0;for((ns=abs(ns))!=ns||ns===1/0?(Di=ns!=ns?1:0,Mo=_c):(Mo=floor$3(log(ns)/LN2),ns*(Qi=pow$1(2,-Mo))<1&&(Mo--,Qi*=2),(ns+=Mo+xc>=1?Ec/Qi:Ec*pow$1(2,1-xc))*Qi>=2&&(Mo++,Qi/=2),Mo+xc>=_c?(Di=0,Mo=_c):Mo+xc>=1?(Di=(ns*Qi-1)*pow$1(2,jr),Mo+=xc):(Di=ns*pow$1(2,xc-1)*pow$1(2,jr),Mo=0));jr>=8;)Tc[Ac++]=255&Di,Di/=256,jr-=8;for(Mo=Mo<<jr|Di,$c+=jr;$c>0;)Tc[Ac++]=255&Mo,Mo/=256,$c-=8;return Tc[--Ac]|=128*Pc,Tc},unpack=function(ns,jr){var Oo,Mo=ns.length,Di=8*Mo-jr-1,Qi=(1<<Di)-1,Tc=Qi>>1,$c=Di-7,_c=Mo-1,xc=ns[_c--],Ec=127&xc;for(xc>>=7;$c>0;)Ec=256*Ec+ns[_c--],$c-=8;for(Oo=Ec&(1<<-$c)-1,Ec>>=-$c,$c+=jr;$c>0;)Oo=256*Oo+ns[_c--],$c-=8;if(Ec===0)Ec=1-Tc;else{if(Ec===Qi)return Oo?NaN:xc?-1/0:1/0;Oo+=pow$1(2,jr),Ec-=Tc}return(xc?-1:1)*Oo*pow$1(2,Ec-jr)},ieee754={pack,unpack},toObject$2=toObject$8,toAbsoluteIndex$2=toAbsoluteIndex$4,lengthOfArrayLike$2=lengthOfArrayLike$6,arrayFill$1=function(ns){for(var jr=toObject$2(this),Oo=lengthOfArrayLike$2(jr),Mo=arguments.length,Di=toAbsoluteIndex$2(Mo>1?arguments[1]:void 0,Oo),Qi=Mo>2?arguments[2]:void 0,Tc=Qi===void 0?Oo:toAbsoluteIndex$2(Qi,Oo);Tc>Di;)jr[Di++]=ns;return jr},toPropertyKey=toPropertyKey$3,definePropertyModule=objectDefineProperty,createPropertyDescriptor$2=createPropertyDescriptor$7,createProperty$2=function(ns,jr,Oo){var Mo=toPropertyKey(jr);Mo in ns?definePropertyModule.f(ns,Mo,createPropertyDescriptor$2(0,Oo)):ns[Mo]=Oo},toAbsoluteIndex$1=toAbsoluteIndex$4,lengthOfArrayLike$1=lengthOfArrayLike$6,createProperty$1=createProperty$2,$Array$1=Array,max$1=Math.max,arraySliceSimple=function(ns,jr,Oo){for(var Mo=lengthOfArrayLike$1(ns),Di=toAbsoluteIndex$1(jr,Mo),Qi=toAbsoluteIndex$1(Oo===void 0?Mo:Oo,Mo),Tc=$Array$1(max$1(Qi-Di,0)),$c=0;Di<Qi;Di++,$c++)createProperty$1(Tc,$c,ns[Di]);return Tc.length=$c,Tc},global$a=global$q,uncurryThis$f=functionUncurryThis,DESCRIPTORS$9=descriptors,NATIVE_ARRAY_BUFFER=arrayBufferBasicDetection,FunctionName=functionName,createNonEnumerableProperty=createNonEnumerableProperty$9,defineBuiltInAccessor$6=defineBuiltInAccessor$7,defineBuiltIns$1=defineBuiltIns$2,fails$8=fails$s,anInstance$3=anInstance$4,toIntegerOrInfinity$1=toIntegerOrInfinity$7,toLength$1=toLength$5,toIndex$1=toIndex$2,IEEE754=ieee754,getPrototypeOf=objectGetPrototypeOf,setPrototypeOf=objectSetPrototypeOf,getOwnPropertyNames=objectGetOwnPropertyNames.f,arrayFill=arrayFill$1,arraySlice$2=arraySliceSimple,setToStringTag$3=setToStringTag$6,InternalStateModule$3=internalState,PROPER_FUNCTION_NAME$1=FunctionName.PROPER,CONFIGURABLE_FUNCTION_NAME=FunctionName.CONFIGURABLE,ARRAY_BUFFER$1="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length",WRONG_INDEX="Wrong index",getInternalArrayBufferState=InternalStateModule$3.getterFor(ARRAY_BUFFER$1),getInternalDataViewState=InternalStateModule$3.getterFor(DATA_VIEW),setInternalState$3=InternalStateModule$3.set,NativeArrayBuffer$1=global$a[ARRAY_BUFFER$1],$ArrayBuffer=NativeArrayBuffer$1,ArrayBufferPrototype$2=$ArrayBuffer&&$ArrayBuffer[PROTOTYPE],$DataView=global$a[DATA_VIEW],DataViewPrototype$2=$DataView&&$DataView[PROTOTYPE],ObjectPrototype=Object.prototype,Array$1=global$a.Array,RangeError$1=global$a.RangeError,fill=uncurryThis$f(arrayFill),reverse=uncurryThis$f([].reverse),packIEEE754=IEEE754.pack,unpackIEEE754=IEEE754.unpack,packInt8=function(ns){return[255&ns]},packInt16=function(ns){return[255&ns,ns>>8&255]},packInt32=function(ns){return[255&ns,ns>>8&255,ns>>16&255,ns>>24&255]},unpackInt32=function(ns){return ns[3]<<24|ns[2]<<16|ns[1]<<8|ns[0]},packFloat32=function(ns){return packIEEE754(ns,23,4)},packFloat64=function(ns){return packIEEE754(ns,52,8)},addGetter=function(ns,jr,Oo){defineBuiltInAccessor$6(ns[PROTOTYPE],jr,{configurable:!0,get:function(){return Oo(this)[jr]}})},get=function(ns,jr,Oo,Mo){var Di=toIndex$1(Oo),Qi=getInternalDataViewState(ns);if(Di+jr>Qi.byteLength)throw RangeError$1(WRONG_INDEX);var Tc=Qi.bytes,$c=Di+Qi.byteOffset,_c=arraySlice$2(Tc,$c,$c+jr);return Mo?_c:reverse(_c)},set=function(ns,jr,Oo,Mo,Di,Qi){var Tc=toIndex$1(Oo),$c=getInternalDataViewState(ns);if(Tc+jr>$c.byteLength)throw RangeError$1(WRONG_INDEX);for(var _c=$c.bytes,xc=Tc+$c.byteOffset,Ec=Mo(+Di),Pc=0;Pc<jr;Pc++)_c[xc+Pc]=Ec[Qi?Pc:jr-Pc-1]};if(NATIVE_ARRAY_BUFFER){var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$1&&NativeArrayBuffer$1.name!==ARRAY_BUFFER$1;if(fails$8((function(){NativeArrayBuffer$1(1)}))&&fails$8((function(){new NativeArrayBuffer$1(-1)}))&&!fails$8((function(){return new NativeArrayBuffer$1,new NativeArrayBuffer$1(1.5),new NativeArrayBuffer$1(NaN),NativeArrayBuffer$1.length!=1||INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME})))INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME&&createNonEnumerableProperty(NativeArrayBuffer$1,"name",ARRAY_BUFFER$1);else{$ArrayBuffer=function(ns){return anInstance$3(this,ArrayBufferPrototype$2),new NativeArrayBuffer$1(toIndex$1(ns))},$ArrayBuffer[PROTOTYPE]=ArrayBufferPrototype$2;for(var keys$1=getOwnPropertyNames(NativeArrayBuffer$1),j$2=0,key$1;keys$1.length>j$2;)(key$1=keys$1[j$2++])in $ArrayBuffer||createNonEnumerableProperty($ArrayBuffer,key$1,NativeArrayBuffer$1[key$1]);ArrayBufferPrototype$2.constructor=$ArrayBuffer}setPrototypeOf&&getPrototypeOf(DataViewPrototype$2)!==ObjectPrototype&&setPrototypeOf(DataViewPrototype$2,ObjectPrototype);var testView=new $DataView(new $ArrayBuffer(2)),$setInt8=uncurryThis$f(DataViewPrototype$2.setInt8);testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),!testView.getInt8(0)&&testView.getInt8(1)||defineBuiltIns$1(DataViewPrototype$2,{setInt8:function(ns,jr){$setInt8(this,ns,jr<<24>>24)},setUint8:function(ns,jr){$setInt8(this,ns,jr<<24>>24)}},{unsafe:!0})}else $ArrayBuffer=function(ns){anInstance$3(this,ArrayBufferPrototype$2);var jr=toIndex$1(ns);setInternalState$3(this,{type:ARRAY_BUFFER$1,bytes:fill(Array$1(jr),0),byteLength:jr}),DESCRIPTORS$9||(this.byteLength=jr,this.detached=!1)},ArrayBufferPrototype$2=$ArrayBuffer[PROTOTYPE],$DataView=function(ns,jr,Oo){anInstance$3(this,DataViewPrototype$2),anInstance$3(ns,ArrayBufferPrototype$2);var Mo=getInternalArrayBufferState(ns),Di=Mo.byteLength,Qi=toIntegerOrInfinity$1(jr);if(Qi<0||Qi>Di)throw RangeError$1("Wrong offset");if(Qi+(Oo=Oo===void 0?Di-Qi:toLength$1(Oo))>Di)throw RangeError$1(WRONG_LENGTH);setInternalState$3(this,{type:DATA_VIEW,buffer:ns,byteLength:Oo,byteOffset:Qi,bytes:Mo.bytes}),DESCRIPTORS$9||(this.buffer=ns,this.byteLength=Oo,this.byteOffset=Qi)},DataViewPrototype$2=$DataView[PROTOTYPE],DESCRIPTORS$9&&(addGetter($ArrayBuffer,"byteLength",getInternalArrayBufferState),addGetter($DataView,"buffer",getInternalDataViewState),addGetter($DataView,"byteLength",getInternalDataViewState),addGetter($DataView,"byteOffset",getInternalDataViewState)),defineBuiltIns$1(DataViewPrototype$2,{getInt8:function(ns){return get(this,1,ns)[0]<<24>>24},getUint8:function(ns){return get(this,1,ns)[0]},getInt16:function(ns){var jr=get(this,2,ns,arguments.length>1?arguments[1]:void 0);return(jr[1]<<8|jr[0])<<16>>16},getUint16:function(ns){var jr=get(this,2,ns,arguments.length>1?arguments[1]:void 0);return jr[1]<<8|jr[0]},getInt32:function(ns){return unpackInt32(get(this,4,ns,arguments.length>1?arguments[1]:void 0))},getUint32:function(ns){return unpackInt32(get(this,4,ns,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(ns){return unpackIEEE754(get(this,4,ns,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(ns){return unpackIEEE754(get(this,8,ns,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(ns,jr){set(this,1,ns,packInt8,jr)},setUint8:function(ns,jr){set(this,1,ns,packInt8,jr)},setInt16:function(ns,jr){set(this,2,ns,packInt16,jr,arguments.length>2?arguments[2]:void 0)},setUint16:function(ns,jr){set(this,2,ns,packInt16,jr,arguments.length>2?arguments[2]:void 0)},setInt32:function(ns,jr){set(this,4,ns,packInt32,jr,arguments.length>2?arguments[2]:void 0)},setUint32:function(ns,jr){set(this,4,ns,packInt32,jr,arguments.length>2?arguments[2]:void 0)},setFloat32:function(ns,jr){set(this,4,ns,packFloat32,jr,arguments.length>2?arguments[2]:void 0)},setFloat64:function(ns,jr){set(this,8,ns,packFloat64,jr,arguments.length>2?arguments[2]:void 0)}});setToStringTag$3($ArrayBuffer,ARRAY_BUFFER$1),setToStringTag$3($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer,DataView:$DataView},getBuiltIn$4=getBuiltIn$a,defineBuiltInAccessor$5=defineBuiltInAccessor$7,wellKnownSymbol$5=wellKnownSymbol$g,DESCRIPTORS$8=descriptors,SPECIES$1=wellKnownSymbol$5("species"),setSpecies$1=function(ns){var jr=getBuiltIn$4(ns);DESCRIPTORS$8&&jr&&!jr[SPECIES$1]&&defineBuiltInAccessor$5(jr,SPECIES$1,{configurable:!0,get:function(){return this}})},$$j=_export,global$9=global$q,arrayBufferModule=arrayBuffer,setSpecies=setSpecies$1,ARRAY_BUFFER="ArrayBuffer",ArrayBuffer$3=arrayBufferModule[ARRAY_BUFFER],NativeArrayBuffer=global$9[ARRAY_BUFFER];$$j({global:!0,constructor:!0,forced:NativeArrayBuffer!==ArrayBuffer$3},{ArrayBuffer:ArrayBuffer$3}),setSpecies(ARRAY_BUFFER);var uncurryThis$e=functionUncurryThis,fails$7=fails$s,isCallable$3=isCallable$o,classof$3=classof$9,getBuiltIn$3=getBuiltIn$a,inspectSource=inspectSource$2,noop=function(){},empty=[],construct=getBuiltIn$3("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec$2=uncurryThis$e(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop),isConstructorModern=function(ns){if(!isCallable$3(ns))return!1;try{return construct(noop,empty,ns),!0}catch{return!1}},isConstructorLegacy=function(ns){if(!isCallable$3(ns))return!1;switch(classof$3(ns)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec$2(constructorRegExp,inspectSource(ns))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor$2=!construct||fails$7((function(){var ns;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern((function(){ns=!0}))||ns}))?isConstructorLegacy:isConstructorModern,isConstructor$1=isConstructor$2,tryToString$1=tryToString$3,$TypeError$5=TypeError,aConstructor$1=function(ns){if(isConstructor$1(ns))return ns;throw $TypeError$5(tryToString$1(ns)+" is not a constructor")},anObject$7=anObject$g,aConstructor=aConstructor$1,isNullOrUndefined$1=isNullOrUndefined$5,wellKnownSymbol$4=wellKnownSymbol$g,SPECIES=wellKnownSymbol$4("species"),speciesConstructor$2=function(ns,jr){var Oo,Mo=anObject$7(ns).constructor;return Mo===void 0||isNullOrUndefined$1(Oo=anObject$7(Mo)[SPECIES])?jr:aConstructor(Oo)},$$i=_export,uncurryThis$d=functionUncurryThisClause,fails$6=fails$s,ArrayBufferModule=arrayBuffer,anObject$6=anObject$g,toAbsoluteIndex=toAbsoluteIndex$4,toLength=toLength$5,speciesConstructor$1=speciesConstructor$2,ArrayBuffer$2=ArrayBufferModule.ArrayBuffer,DataView$2=ArrayBufferModule.DataView,DataViewPrototype$1=DataView$2.prototype,nativeArrayBufferSlice=uncurryThis$d(ArrayBuffer$2.prototype.slice),getUint8=uncurryThis$d(DataViewPrototype$1.getUint8),setUint8=uncurryThis$d(DataViewPrototype$1.setUint8),INCORRECT_SLICE=fails$6((function(){return!new ArrayBuffer$2(2).slice(1,void 0).byteLength}));$$i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:INCORRECT_SLICE},{slice:function(ns,jr){if(nativeArrayBufferSlice&&jr===void 0)return nativeArrayBufferSlice(anObject$6(this),ns);for(var Oo=anObject$6(this).byteLength,Mo=toAbsoluteIndex(ns,Oo),Di=toAbsoluteIndex(jr===void 0?Oo:jr,Oo),Qi=new(speciesConstructor$1(this,ArrayBuffer$2))(toLength(Di-Mo)),Tc=new DataView$2(this),$c=new DataView$2(Qi),_c=0;Mo<Di;)setUint8($c,_c++,getUint8(Tc,Mo++));return Qi}});var uncurryThisAccessor$2=functionUncurryThisAccessor,classof$2=classofRaw$2,$TypeError$4=TypeError,arrayBufferByteLength$2=uncurryThisAccessor$2(ArrayBuffer.prototype,"byteLength","get")||function(ns){if(classof$2(ns)!="ArrayBuffer")throw $TypeError$4("ArrayBuffer expected");return ns.byteLength},uncurryThis$c=functionUncurryThis,arrayBufferByteLength$1=arrayBufferByteLength$2,slice$1=uncurryThis$c(ArrayBuffer.prototype.slice),arrayBufferIsDetached=function(ns){if(arrayBufferByteLength$1(ns)!==0)return!1;try{return slice$1(ns,0,0),!1}catch{return!0}},DESCRIPTORS$7=descriptors,defineBuiltInAccessor$4=defineBuiltInAccessor$7,isDetached$1=arrayBufferIsDetached,ArrayBufferPrototype$1=ArrayBuffer.prototype;DESCRIPTORS$7&&!("detached"in ArrayBufferPrototype$1)&&defineBuiltInAccessor$4(ArrayBufferPrototype$1,"detached",{configurable:!0,get:function(){return isDetached$1(this)}});var engineIsDeno=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",IS_DENO$1=engineIsDeno,IS_NODE$1=engineIsNode,engineIsBrowser=!IS_DENO$1&&!IS_NODE$1&&typeof window=="object"&&typeof document=="object",global$8=global$q,fails$5=fails$s,V8=engineV8Version,IS_BROWSER=engineIsBrowser,IS_DENO=engineIsDeno,IS_NODE=engineIsNode,structuredClone$1=global$8.structuredClone,structuredCloneProperTransfer=!!structuredClone$1&&!fails$5((function(){if(IS_DENO&&V8>92||IS_NODE&&V8>94||IS_BROWSER&&V8>97)return!1;var ns=new ArrayBuffer(8),jr=structuredClone$1(ns,{transfer:[ns]});return ns.byteLength!=0||jr.byteLength!=8})),global$7=global$q,uncurryThis$b=functionUncurryThis,uncurryThisAccessor$1=functionUncurryThisAccessor,toIndex=toIndex$2,isDetached=arrayBufferIsDetached,arrayBufferByteLength=arrayBufferByteLength$2,PROPER_TRANSFER=structuredCloneProperTransfer,TypeError$3=global$7.TypeError,structuredClone=global$7.structuredClone,ArrayBuffer$1=global$7.ArrayBuffer,DataView$1=global$7.DataView,min=Math.min,ArrayBufferPrototype=ArrayBuffer$1.prototype,DataViewPrototype=DataView$1.prototype,slice=uncurryThis$b(ArrayBufferPrototype.slice),isResizable=uncurryThisAccessor$1(ArrayBufferPrototype,"resizable","get"),maxByteLength=uncurryThisAccessor$1(ArrayBufferPrototype,"maxByteLength","get"),getInt8=uncurryThis$b(DataViewPrototype.getInt8),setInt8=uncurryThis$b(DataViewPrototype.setInt8),arrayBufferTransfer=PROPER_TRANSFER&&function(ns,jr,Oo){var Mo=arrayBufferByteLength(ns),Di=jr===void 0?Mo:min(toIndex(jr),Mo),Qi=!isResizable||!isResizable(ns);if(isDetached(ns))throw TypeError$3("ArrayBuffer is detached");var Tc=structuredClone(ns,{transfer:[ns]});if(Mo==Di&&(Oo||Qi))return Tc;if(!Oo||Qi)return slice(Tc,0,Di);for(var $c=new ArrayBuffer$1(Di,maxByteLength&&{maxByteLength:maxByteLength(Tc)}),_c=new DataView$1(Tc),xc=new DataView$1($c),Ec=0;Ec<Di;Ec++)setInt8(xc,Ec,getInt8(_c,Ec));return $c},$$h=_export,$transfer$1=arrayBufferTransfer;$transfer$1&&$$h({target:"ArrayBuffer",proto:!0},{transfer:function(){return $transfer$1(this,arguments.length?arguments[0]:void 0,!0)}});var $$g=_export,$transfer=arrayBufferTransfer;$transfer&&$$g({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return $transfer(this,arguments.length?arguments[0]:void 0,!1)}});var charAt$2=stringMultibyte.charAt,toString$2=toString$8,InternalStateModule$2=internalState,defineIterator=iteratorDefine,createIterResultObject=createIterResultObject$2,STRING_ITERATOR="String Iterator",setInternalState$2=InternalStateModule$2.set,getInternalState=InternalStateModule$2.getterFor(STRING_ITERATOR);defineIterator(String,"String",(function(ns){setInternalState$2(this,{type:STRING_ITERATOR,string:toString$2(ns),index:0})}),(function(){var ns,jr=getInternalState(this),Oo=jr.string,Mo=jr.index;return Mo>=Oo.length?createIterResultObject(void 0,!0):(ns=charAt$2(Oo,Mo),jr.index+=ns.length,createIterResultObject(ns,!1))}));var fails$4=fails$s,wellKnownSymbol$3=wellKnownSymbol$g,DESCRIPTORS$6=descriptors,IS_PURE=isPure,ITERATOR$3=wellKnownSymbol$3("iterator"),urlConstructorDetection=!fails$4((function(){var ns=new URL("b?a=1&b=2&c=3","http://a"),jr=ns.searchParams,Oo="";return ns.pathname="c%20d",jr.forEach((function(Mo,Di){jr.delete("b"),Oo+=Di+Mo})),IS_PURE&&!ns.toJSON||!jr.size&&(IS_PURE||!DESCRIPTORS$6)||!jr.sort||ns.href!=="http://a/c%20d?a=1&c=3"||jr.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!jr[ITERATOR$3]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://ÑÐµÑÑ").host!=="xn--e1aybc"||new URL("http://a#Ð±").hash!=="#%D0%B1"||Oo!=="a1c3"||new URL("http://x",void 0).host!=="x"})),uncurryThis$a=functionUncurryThisClause,aCallable$3=aCallable$7,NATIVE_BIND=functionBindNative,bind$3=uncurryThis$a(uncurryThis$a.bind),functionBindContext=function(ns,jr){return aCallable$3(ns),jr===void 0?ns:NATIVE_BIND?bind$3(ns,jr):function(){return ns.apply(jr,arguments)}},DESCRIPTORS$5=descriptors,uncurryThis$9=functionUncurryThis,call$7=functionCall,fails$3=fails$s,objectKeys=objectKeys$2,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,propertyIsEnumerableModule=objectPropertyIsEnumerable,toObject$1=toObject$8,IndexedObject=indexedObject,$assign=Object.assign,defineProperty$1=Object.defineProperty,concat=uncurryThis$9([].concat),objectAssign=!$assign||fails$3((function(){if(DESCRIPTORS$5&&$assign({b:1},$assign(defineProperty$1({},"a",{enumerable:!0,get:function(){defineProperty$1(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ns={},jr={},Oo=Symbol(),Mo="abcdefghijklmnopqrst";return ns[Oo]=7,Mo.split("").forEach((function(Di){jr[Di]=Di})),$assign({},ns)[Oo]!=7||objectKeys($assign({},jr)).join("")!=Mo}))?function(ns,jr){for(var Oo=toObject$1(ns),Mo=arguments.length,Di=1,Qi=getOwnPropertySymbolsModule.f,Tc=propertyIsEnumerableModule.f;Mo>Di;)for(var $c,_c=IndexedObject(arguments[Di++]),xc=Qi?concat(objectKeys(_c),Qi(_c)):objectKeys(_c),Ec=xc.length,Pc=0;Ec>Pc;)$c=xc[Pc++],DESCRIPTORS$5&&!call$7(Tc,_c,$c)||(Oo[$c]=_c[$c]);return Oo}:$assign,call$6=functionCall,anObject$5=anObject$g,getMethod$1=getMethod$4,iteratorClose$3=function(ns,jr,Oo){var Mo,Di;anObject$5(ns);try{if(!(Mo=getMethod$1(ns,"return"))){if(jr==="throw")throw Oo;return Oo}Mo=call$6(Mo,ns)}catch(Qi){Di=!0,Mo=Qi}if(jr==="throw")throw Oo;if(Di)throw Mo;return anObject$5(Mo),Oo},anObject$4=anObject$g,iteratorClose$2=iteratorClose$3,callWithSafeIterationClosing$1=function(ns,jr,Oo,Mo){try{return Mo?jr(anObject$4(Oo)[0],Oo[1]):jr(Oo)}catch(Di){iteratorClose$2(ns,"throw",Di)}},wellKnownSymbol$2=wellKnownSymbol$g,Iterators$1=iterators,ITERATOR$2=wellKnownSymbol$2("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(ns){return ns!==void 0&&(Iterators$1.Array===ns||ArrayPrototype[ITERATOR$2]===ns)},classof$1=classof$9,getMethod=getMethod$4,isNullOrUndefined=isNullOrUndefined$5,Iterators=iterators,wellKnownSymbol$1=wellKnownSymbol$g,ITERATOR$1=wellKnownSymbol$1("iterator"),getIteratorMethod$3=function(ns){if(!isNullOrUndefined(ns))return getMethod(ns,ITERATOR$1)||getMethod(ns,"@@iterator")||Iterators[classof$1(ns)]},call$5=functionCall,aCallable$2=aCallable$7,anObject$3=anObject$g,tryToString=tryToString$3,getIteratorMethod$2=getIteratorMethod$3,$TypeError$3=TypeError,getIterator$2=function(ns,jr){var Oo=arguments.length<2?getIteratorMethod$2(ns):jr;if(aCallable$2(Oo))return anObject$3(call$5(Oo,ns));throw $TypeError$3(tryToString(ns)+" is not iterable")},bind$2=functionBindContext,call$4=functionCall,toObject=toObject$8,callWithSafeIterationClosing=callWithSafeIterationClosing$1,isArrayIteratorMethod=isArrayIteratorMethod$1,isConstructor=isConstructor$2,lengthOfArrayLike=lengthOfArrayLike$6,createProperty=createProperty$2,getIterator$1=getIterator$2,getIteratorMethod$1=getIteratorMethod$3,$Array=Array,arrayFrom$1=function(ns){var jr=toObject(ns),Oo=isConstructor(this),Mo=arguments.length,Di=Mo>1?arguments[1]:void 0,Qi=Di!==void 0;Qi&&(Di=bind$2(Di,Mo>2?arguments[2]:void 0));var Tc,$c,_c,xc,Ec,Pc,Ac=getIteratorMethod$1(jr),Oc=0;if(!Ac||this===$Array&&isArrayIteratorMethod(Ac))for(Tc=lengthOfArrayLike(jr),$c=Oo?new this(Tc):$Array(Tc);Tc>Oc;Oc++)Pc=Qi?Di(jr[Oc],Oc):jr[Oc],createProperty($c,Oc,Pc);else for(Ec=(xc=getIterator$1(jr,Ac)).next,$c=Oo?new this:[];!(_c=call$4(Ec,xc)).done;Oc++)Pc=Qi?callWithSafeIterationClosing(xc,Di,[_c.value,Oc],!0):_c.value,createProperty($c,Oc,Pc);return $c.length=Oc,$c},uncurryThis$8=functionUncurryThis,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,$RangeError=RangeError,exec$1=uncurryThis$8(regexSeparators.exec),floor$2=Math.floor,fromCharCode=String.fromCharCode,charCodeAt=uncurryThis$8("".charCodeAt),join$2=uncurryThis$8([].join),push$2=uncurryThis$8([].push),replace$4=uncurryThis$8("".replace),split$2=uncurryThis$8("".split),toLowerCase$1=uncurryThis$8("".toLowerCase),ucs2decode=function(ns){for(var jr=[],Oo=0,Mo=ns.length;Oo<Mo;){var Di=charCodeAt(ns,Oo++);if(Di>=55296&&Di<=56319&&Oo<Mo){var Qi=charCodeAt(ns,Oo++);(64512&Qi)==56320?push$2(jr,((1023&Di)<<10)+(1023&Qi)+65536):(push$2(jr,Di),Oo--)}else push$2(jr,Di)}return jr},digitToBasic=function(ns){return ns+22+75*(ns<26)},adapt=function(ns,jr,Oo){var Mo=0;for(ns=Oo?floor$2(ns/damp):ns>>1,ns+=floor$2(ns/jr);ns>baseMinusTMin*tMax>>1;)ns=floor$2(ns/baseMinusTMin),Mo+=base;return floor$2(Mo+(baseMinusTMin+1)*ns/(ns+skew))},encode=function(ns){var jr,Oo,Mo=[],Di=(ns=ucs2decode(ns)).length,Qi=initialN,Tc=0,$c=initialBias;for(jr=0;jr<ns.length;jr++)(Oo=ns[jr])<128&&push$2(Mo,fromCharCode(Oo));var _c=Mo.length,xc=_c;for(_c&&push$2(Mo,delimiter);xc<Di;){var Ec=maxInt;for(jr=0;jr<ns.length;jr++)(Oo=ns[jr])>=Qi&&Oo<Ec&&(Ec=Oo);var Pc=xc+1;if(Ec-Qi>floor$2((maxInt-Tc)/Pc))throw $RangeError(OVERFLOW_ERROR);for(Tc+=(Ec-Qi)*Pc,Qi=Ec,jr=0;jr<ns.length;jr++){if((Oo=ns[jr])<Qi&&++Tc>maxInt)throw $RangeError(OVERFLOW_ERROR);if(Oo==Qi){for(var Ac=Tc,Oc=base;;){var Mc=Oc<=$c?tMin:Oc>=$c+tMax?tMax:Oc-$c;if(Ac<Mc)break;var Rc=Ac-Mc,Uc=base-Mc;push$2(Mo,fromCharCode(digitToBasic(Mc+Rc%Uc))),Ac=floor$2(Rc/Uc),Oc+=base}push$2(Mo,fromCharCode(digitToBasic(Ac))),$c=adapt(Tc,Pc,xc==_c),Tc=0,xc++}}Tc++,Qi++}return join$2(Mo,"")},stringPunycodeToAscii=function(ns){var jr,Oo,Mo=[],Di=split$2(replace$4(toLowerCase$1(ns),regexSeparators,"."),".");for(jr=0;jr<Di.length;jr++)Oo=Di[jr],push$2(Mo,exec$1(regexNonASCII,Oo)?"xn--"+encode(Oo):Oo);return join$2(Mo,".")},$TypeError$2=TypeError,validateArgumentsLength$2=function(ns,jr){if(ns<jr)throw $TypeError$2("Not enough arguments");return ns},arraySlice$1=arraySliceSimple,floor$1=Math.floor,mergeSort=function(ns,jr){var Oo=ns.length,Mo=floor$1(Oo/2);return Oo<8?insertionSort(ns,jr):merge(ns,mergeSort(arraySlice$1(ns,0,Mo),jr),mergeSort(arraySlice$1(ns,Mo),jr),jr)},insertionSort=function(ns,jr){for(var Oo,Mo,Di=ns.length,Qi=1;Qi<Di;){for(Mo=Qi,Oo=ns[Qi];Mo&&jr(ns[Mo-1],Oo)>0;)ns[Mo]=ns[--Mo];Mo!==Qi++&&(ns[Mo]=Oo)}return ns},merge=function(ns,jr,Oo,Mo){for(var Di=jr.length,Qi=Oo.length,Tc=0,$c=0;Tc<Di||$c<Qi;)ns[Tc+$c]=Tc<Di&&$c<Qi?Mo(jr[Tc],Oo[$c])<=0?jr[Tc++]:Oo[$c++]:Tc<Di?jr[Tc++]:Oo[$c++];return ns},arraySort$1=mergeSort,$$f=_export,global$6=global$q,call$3=functionCall,uncurryThis$7=functionUncurryThis,DESCRIPTORS$4=descriptors,USE_NATIVE_URL$1=urlConstructorDetection,defineBuiltIn$2=defineBuiltIn$8,defineBuiltInAccessor$3=defineBuiltInAccessor$7,defineBuiltIns=defineBuiltIns$2,setToStringTag$2=setToStringTag$6,createIteratorConstructor=iteratorCreateConstructor,InternalStateModule$1=internalState,anInstance$2=anInstance$4,isCallable$2=isCallable$o,hasOwn$3=hasOwnProperty_1,bind$1=functionBindContext,classof=classof$9,anObject$2=anObject$g,isObject$1=isObject$a,$toString$1=toString$8,create=objectCreate,createPropertyDescriptor$1=createPropertyDescriptor$7,getIterator=getIterator$2,getIteratorMethod=getIteratorMethod$3,validateArgumentsLength$1=validateArgumentsLength$2,wellKnownSymbol=wellKnownSymbol$g,arraySort=arraySort$1,ITERATOR=wellKnownSymbol("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1=InternalStateModule$1.set,getInternalParamsState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=InternalStateModule$1.getterFor(URL_SEARCH_PARAMS_ITERATOR),getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,safeGetBuiltIn=function(ns){if(!DESCRIPTORS$4)return global$6[ns];var jr=getOwnPropertyDescriptor(global$6,ns);return jr&&jr.value},nativeFetch=safeGetBuiltIn("fetch"),NativeRequest=safeGetBuiltIn("Request"),Headers$1=safeGetBuiltIn("Headers"),RequestPrototype=NativeRequest&&NativeRequest.prototype,HeadersPrototype=Headers$1&&Headers$1.prototype,RegExp$1=global$6.RegExp,TypeError$2=global$6.TypeError,decodeURIComponent$1=global$6.decodeURIComponent,encodeURIComponent$1=global$6.encodeURIComponent,charAt$1=uncurryThis$7("".charAt),join$1=uncurryThis$7([].join),push$1=uncurryThis$7([].push),replace$3=uncurryThis$7("".replace),shift$1=uncurryThis$7([].shift),splice=uncurryThis$7([].splice),split$1=uncurryThis$7("".split),stringSlice$2=uncurryThis$7("".slice),plus=/\+/g,sequences=Array(4),percentSequence=function(ns){return sequences[ns-1]||(sequences[ns-1]=RegExp$1("((?:%[\\da-f]{2}){"+ns+"})","gi"))},percentDecode=function(ns){try{return decodeURIComponent$1(ns)}catch{return ns}},deserialize=function(ns){var jr=replace$3(ns,plus," "),Oo=4;try{return decodeURIComponent$1(jr)}catch{for(;Oo;)jr=replace$3(jr,percentSequence(Oo--),percentDecode);return jr}},find=/[!'()~]|%20/g,replacements={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(ns){return replacements[ns]},serialize=function(ns){return replace$3(encodeURIComponent$1(ns),find,replacer)},URLSearchParamsIterator=createIteratorConstructor((function(ns,jr){setInternalState$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator(getInternalParamsState(ns).entries),kind:jr})}),"Iterator",(function(){var ns=getInternalIteratorState(this),jr=ns.kind,Oo=ns.iterator.next(),Mo=Oo.value;return Oo.done||(Oo.value=jr==="keys"?Mo.key:jr==="values"?Mo.value:[Mo.key,Mo.value]),Oo}),!0),URLSearchParamsState=function(ns){this.entries=[],this.url=null,ns!==void 0&&(isObject$1(ns)?this.parseObject(ns):this.parseQuery(typeof ns=="string"?charAt$1(ns,0)==="?"?stringSlice$2(ns,1):ns:$toString$1(ns)))};URLSearchParamsState.prototype={type:URL_SEARCH_PARAMS,bindURL:function(ns){this.url=ns,this.update()},parseObject:function(ns){var jr,Oo,Mo,Di,Qi,Tc,$c,_c=getIteratorMethod(ns);if(_c)for(Oo=(jr=getIterator(ns,_c)).next;!(Mo=call$3(Oo,jr)).done;){if(Qi=(Di=getIterator(anObject$2(Mo.value))).next,(Tc=call$3(Qi,Di)).done||($c=call$3(Qi,Di)).done||!call$3(Qi,Di).done)throw TypeError$2("Expected sequence with length 2");push$1(this.entries,{key:$toString$1(Tc.value),value:$toString$1($c.value)})}else for(var xc in ns)hasOwn$3(ns,xc)&&push$1(this.entries,{key:xc,value:$toString$1(ns[xc])})},parseQuery:function(ns){if(ns)for(var jr,Oo,Mo=split$1(ns,"&"),Di=0;Di<Mo.length;)(jr=Mo[Di++]).length&&(Oo=split$1(jr,"="),push$1(this.entries,{key:deserialize(shift$1(Oo)),value:deserialize(join$1(Oo,"="))}))},serialize:function(){for(var ns,jr=this.entries,Oo=[],Mo=0;Mo<jr.length;)ns=jr[Mo++],push$1(Oo,serialize(ns.key)+"="+serialize(ns.value));return join$1(Oo,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var URLSearchParamsConstructor=function(){anInstance$2(this,URLSearchParamsPrototype$1);var ns=setInternalState$1(this,new URLSearchParamsState(arguments.length>0?arguments[0]:void 0));DESCRIPTORS$4||(this.length=ns.entries.length)},URLSearchParamsPrototype$1=URLSearchParamsConstructor.prototype;if(defineBuiltIns(URLSearchParamsPrototype$1,{append:function(ns,jr){validateArgumentsLength$1(arguments.length,2);var Oo=getInternalParamsState(this);push$1(Oo.entries,{key:$toString$1(ns),value:$toString$1(jr)}),DESCRIPTORS$4||this.length++,Oo.updateURL()},delete:function(ns){validateArgumentsLength$1(arguments.length,1);for(var jr=getInternalParamsState(this),Oo=jr.entries,Mo=$toString$1(ns),Di=0;Di<Oo.length;)Oo[Di].key===Mo?splice(Oo,Di,1):Di++;DESCRIPTORS$4||(this.length=Oo.length),jr.updateURL()},get:function(ns){validateArgumentsLength$1(arguments.length,1);for(var jr=getInternalParamsState(this).entries,Oo=$toString$1(ns),Mo=0;Mo<jr.length;Mo++)if(jr[Mo].key===Oo)return jr[Mo].value;return null},getAll:function(ns){validateArgumentsLength$1(arguments.length,1);for(var jr=getInternalParamsState(this).entries,Oo=$toString$1(ns),Mo=[],Di=0;Di<jr.length;Di++)jr[Di].key===Oo&&push$1(Mo,jr[Di].value);return Mo},has:function(ns){validateArgumentsLength$1(arguments.length,1);for(var jr=getInternalParamsState(this).entries,Oo=$toString$1(ns),Mo=0;Mo<jr.length;)if(jr[Mo++].key===Oo)return!0;return!1},set:function(ns,jr){validateArgumentsLength$1(arguments.length,1);for(var Oo,Mo=getInternalParamsState(this),Di=Mo.entries,Qi=!1,Tc=$toString$1(ns),$c=$toString$1(jr),_c=0;_c<Di.length;_c++)(Oo=Di[_c]).key===Tc&&(Qi?splice(Di,_c--,1):(Qi=!0,Oo.value=$c));Qi||push$1(Di,{key:Tc,value:$c}),DESCRIPTORS$4||(this.length=Di.length),Mo.updateURL()},sort:function(){var ns=getInternalParamsState(this);arraySort(ns.entries,(function(jr,Oo){return jr.key>Oo.key?1:-1})),ns.updateURL()},forEach:function(ns){for(var jr,Oo=getInternalParamsState(this).entries,Mo=bind$1(ns,arguments.length>1?arguments[1]:void 0),Di=0;Di<Oo.length;)Mo((jr=Oo[Di++]).value,jr.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),defineBuiltIn$2(URLSearchParamsPrototype$1,ITERATOR,URLSearchParamsPrototype$1.entries,{name:"entries"}),defineBuiltIn$2(URLSearchParamsPrototype$1,"toString",(function(){return getInternalParamsState(this).serialize()}),{enumerable:!0}),DESCRIPTORS$4&&defineBuiltInAccessor$3(URLSearchParamsPrototype$1,"size",{get:function(){return getInternalParamsState(this).entries.length},configurable:!0,enumerable:!0}),setToStringTag$2(URLSearchParamsConstructor,URL_SEARCH_PARAMS),$$f({global:!0,constructor:!0,forced:!USE_NATIVE_URL$1},{URLSearchParams:URLSearchParamsConstructor}),!USE_NATIVE_URL$1&&isCallable$2(Headers$1)){var headersHas=uncurryThis$7(HeadersPrototype.has),headersSet=uncurryThis$7(HeadersPrototype.set),wrapRequestOptions=function(ns){if(isObject$1(ns)){var jr,Oo=ns.body;if(classof(Oo)===URL_SEARCH_PARAMS)return jr=ns.headers?new Headers$1(ns.headers):new Headers$1,headersHas(jr,"content-type")||headersSet(jr,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),create(ns,{body:createPropertyDescriptor$1(0,$toString$1(Oo)),headers:createPropertyDescriptor$1(0,jr)})}return ns};if(isCallable$2(nativeFetch)&&$$f({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(ns){return nativeFetch(ns,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable$2(NativeRequest)){var RequestConstructor=function(ns){return anInstance$2(this,RequestPrototype),new NativeRequest(ns,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,$$f({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams_constructor={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},$$e=_export,DESCRIPTORS$3=descriptors,USE_NATIVE_URL=urlConstructorDetection,global$5=global$q,bind=functionBindContext,uncurryThis$6=functionUncurryThis,defineBuiltIn$1=defineBuiltIn$8,defineBuiltInAccessor$2=defineBuiltInAccessor$7,anInstance$1=anInstance$4,hasOwn$2=hasOwnProperty_1,assign=objectAssign,arrayFrom=arrayFrom$1,arraySlice=arraySliceSimple,codeAt=stringMultibyte.codeAt,toASCII=stringPunycodeToAscii,$toString=toString$8,setToStringTag$1=setToStringTag$6,validateArgumentsLength=validateArgumentsLength$2,URLSearchParamsModule=web_urlSearchParams_constructor,InternalStateModule=internalState,setInternalState=InternalStateModule.set,getInternalURLState=InternalStateModule.getterFor("URL"),URLSearchParams$1=URLSearchParamsModule.URLSearchParams,getInternalSearchParamsState=URLSearchParamsModule.getState,NativeURL=global$5.URL,TypeError$1=global$5.TypeError,parseInt$1=global$5.parseInt,floor=Math.floor,pow=Math.pow,charAt=uncurryThis$6("".charAt),exec=uncurryThis$6(/./.exec),join=uncurryThis$6([].join),numberToString=uncurryThis$6(1 .toString),pop=uncurryThis$6([].pop),push=uncurryThis$6([].push),replace$2=uncurryThis$6("".replace),shift=uncurryThis$6([].shift),split=uncurryThis$6("".split),stringSlice$1=uncurryThis$6("".slice),toLowerCase=uncurryThis$6("".toLowerCase),unshift=uncurryThis$6([].unshift),INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[a-z]/i,ALPHANUMERIC=/[\d+-.a-z]/i,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\da-f]+$/i,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+/,TRAILING_C0_CONTROL_OR_SPACE=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseIPv4=function(ns){var jr,Oo,Mo,Di,Qi,Tc,$c,_c=split(ns,".");if(_c.length&&_c[_c.length-1]==""&&_c.length--,(jr=_c.length)>4)return ns;for(Oo=[],Mo=0;Mo<jr;Mo++){if((Di=_c[Mo])=="")return ns;if(Qi=10,Di.length>1&&charAt(Di,0)=="0"&&(Qi=exec(HEX_START,Di)?16:8,Di=stringSlice$1(Di,Qi==8?1:2)),Di==="")Tc=0;else{if(!exec(Qi==10?DEC:Qi==8?OCT:HEX,Di))return ns;Tc=parseInt$1(Di,Qi)}push(Oo,Tc)}for(Mo=0;Mo<jr;Mo++)if(Tc=Oo[Mo],Mo==jr-1){if(Tc>=pow(256,5-jr))return null}else if(Tc>255)return null;for($c=pop(Oo),Mo=0;Mo<Oo.length;Mo++)$c+=Oo[Mo]*pow(256,3-Mo);return $c},parseIPv6=function(ns){var jr,Oo,Mo,Di,Qi,Tc,$c,_c=[0,0,0,0,0,0,0,0],xc=0,Ec=null,Pc=0,Ac=function(){return charAt(ns,Pc)};if(Ac()==":"){if(charAt(ns,1)!=":")return;Pc+=2,Ec=++xc}for(;Ac();){if(xc==8)return;if(Ac()!=":"){for(jr=Oo=0;Oo<4&&exec(HEX,Ac());)jr=16*jr+parseInt$1(Ac(),16),Pc++,Oo++;if(Ac()=="."){if(Oo==0||(Pc-=Oo,xc>6))return;for(Mo=0;Ac();){if(Di=null,Mo>0){if(!(Ac()=="."&&Mo<4))return;Pc++}if(!exec(DIGIT,Ac()))return;for(;exec(DIGIT,Ac());){if(Qi=parseInt$1(Ac(),10),Di===null)Di=Qi;else{if(Di==0)return;Di=10*Di+Qi}if(Di>255)return;Pc++}_c[xc]=256*_c[xc]+Di,++Mo!=2&&Mo!=4||xc++}if(Mo!=4)return;break}if(Ac()==":"){if(Pc++,!Ac())return}else if(Ac())return;_c[xc++]=jr}else{if(Ec!==null)return;Pc++,Ec=++xc}}if(Ec!==null)for(Tc=xc-Ec,xc=7;xc!=0&&Tc>0;)$c=_c[xc],_c[xc--]=_c[Ec+Tc-1],_c[Ec+--Tc]=$c;else if(xc!=8)return;return _c},findLongestZeroSequence=function(ns){for(var jr=null,Oo=1,Mo=null,Di=0,Qi=0;Qi<8;Qi++)ns[Qi]!==0?(Di>Oo&&(jr=Mo,Oo=Di),Mo=null,Di=0):(Mo===null&&(Mo=Qi),++Di);return Di>Oo&&(jr=Mo,Oo=Di),jr},serializeHost=function(ns){var jr,Oo,Mo,Di;if(typeof ns=="number"){for(jr=[],Oo=0;Oo<4;Oo++)unshift(jr,ns%256),ns=floor(ns/256);return join(jr,".")}if(typeof ns=="object"){for(jr="",Mo=findLongestZeroSequence(ns),Oo=0;Oo<8;Oo++)Di&&ns[Oo]===0||(Di&&(Di=!1),Mo===Oo?(jr+=Oo?":":"::",Di=!0):(jr+=numberToString(ns[Oo],16),Oo<7&&(jr+=":")));return"["+jr+"]"}return ns},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(ns,jr){var Oo=codeAt(ns,0);return Oo>32&&Oo<127&&!hasOwn$2(jr,ns)?ns:encodeURIComponent(ns)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function(ns,jr){var Oo;return ns.length==2&&exec(ALPHA,charAt(ns,0))&&((Oo=charAt(ns,1))==":"||!jr&&Oo=="|")},startsWithWindowsDriveLetter=function(ns){var jr;return ns.length>1&&isWindowsDriveLetter(stringSlice$1(ns,0,2))&&(ns.length==2||(jr=charAt(ns,2))==="/"||jr==="\\"||jr==="?"||jr==="#")},isSingleDot=function(ns){return ns==="."||toLowerCase(ns)==="%2e"},isDoubleDot=function(ns){return(ns=toLowerCase(ns))===".."||ns==="%2e."||ns===".%2e"||ns==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},URLState=function(ns,jr,Oo){var Mo,Di,Qi,Tc=$toString(ns);if(jr){if(Di=this.parse(Tc))throw TypeError$1(Di);this.searchParams=null}else{if(Oo!==void 0&&(Mo=new URLState(Oo,!0)),Di=this.parse(Tc,null,Mo))throw TypeError$1(Di);(Qi=getInternalSearchParamsState(new URLSearchParams$1)).bindURL(this),this.searchParams=Qi}};URLState.prototype={type:"URL",parse:function(ns,jr,Oo){var Mo,Di,Qi,Tc,$c=this,_c=jr||SCHEME_START,xc=0,Ec="",Pc=!1,Ac=!1,Oc=!1;for(ns=$toString(ns),jr||($c.scheme="",$c.username="",$c.password="",$c.host=null,$c.port=null,$c.path=[],$c.query=null,$c.fragment=null,$c.cannotBeABaseURL=!1,ns=replace$2(ns,LEADING_C0_CONTROL_OR_SPACE,""),ns=replace$2(ns,TRAILING_C0_CONTROL_OR_SPACE,"$1")),ns=replace$2(ns,TAB_AND_NEW_LINE,""),Mo=arrayFrom(ns);xc<=Mo.length;){switch(Di=Mo[xc],_c){case SCHEME_START:if(!Di||!exec(ALPHA,Di)){if(jr)return INVALID_SCHEME;_c=NO_SCHEME;continue}Ec+=toLowerCase(Di),_c=SCHEME;break;case SCHEME:if(Di&&(exec(ALPHANUMERIC,Di)||Di=="+"||Di=="-"||Di=="."))Ec+=toLowerCase(Di);else{if(Di!=":"){if(jr)return INVALID_SCHEME;Ec="",_c=NO_SCHEME,xc=0;continue}if(jr&&($c.isSpecial()!=hasOwn$2(specialSchemes,Ec)||Ec=="file"&&($c.includesCredentials()||$c.port!==null)||$c.scheme=="file"&&!$c.host))return;if($c.scheme=Ec,jr)return void($c.isSpecial()&&specialSchemes[$c.scheme]==$c.port&&($c.port=null));Ec="",$c.scheme=="file"?_c=FILE:$c.isSpecial()&&Oo&&Oo.scheme==$c.scheme?_c=SPECIAL_RELATIVE_OR_AUTHORITY:$c.isSpecial()?_c=SPECIAL_AUTHORITY_SLASHES:Mo[xc+1]=="/"?(_c=PATH_OR_AUTHORITY,xc++):($c.cannotBeABaseURL=!0,push($c.path,""),_c=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!Oo||Oo.cannotBeABaseURL&&Di!="#")return INVALID_SCHEME;if(Oo.cannotBeABaseURL&&Di=="#"){$c.scheme=Oo.scheme,$c.path=arraySlice(Oo.path),$c.query=Oo.query,$c.fragment="",$c.cannotBeABaseURL=!0,_c=FRAGMENT;break}_c=Oo.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(Di!="/"||Mo[xc+1]!="/"){_c=RELATIVE;continue}_c=SPECIAL_AUTHORITY_IGNORE_SLASHES,xc++;break;case PATH_OR_AUTHORITY:if(Di=="/"){_c=AUTHORITY;break}_c=PATH;continue;case RELATIVE:if($c.scheme=Oo.scheme,Di==EOF)$c.username=Oo.username,$c.password=Oo.password,$c.host=Oo.host,$c.port=Oo.port,$c.path=arraySlice(Oo.path),$c.query=Oo.query;else if(Di=="/"||Di=="\\"&&$c.isSpecial())_c=RELATIVE_SLASH;else if(Di=="?")$c.username=Oo.username,$c.password=Oo.password,$c.host=Oo.host,$c.port=Oo.port,$c.path=arraySlice(Oo.path),$c.query="",_c=QUERY;else{if(Di!="#"){$c.username=Oo.username,$c.password=Oo.password,$c.host=Oo.host,$c.port=Oo.port,$c.path=arraySlice(Oo.path),$c.path.length--,_c=PATH;continue}$c.username=Oo.username,$c.password=Oo.password,$c.host=Oo.host,$c.port=Oo.port,$c.path=arraySlice(Oo.path),$c.query=Oo.query,$c.fragment="",_c=FRAGMENT}break;case RELATIVE_SLASH:if(!$c.isSpecial()||Di!="/"&&Di!="\\"){if(Di!="/"){$c.username=Oo.username,$c.password=Oo.password,$c.host=Oo.host,$c.port=Oo.port,_c=PATH;continue}_c=AUTHORITY}else _c=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(_c=SPECIAL_AUTHORITY_IGNORE_SLASHES,Di!="/"||charAt(Ec,xc+1)!="/")continue;xc++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(Di!="/"&&Di!="\\"){_c=AUTHORITY;continue}break;case AUTHORITY:if(Di=="@"){Pc&&(Ec="%40"+Ec),Pc=!0,Qi=arrayFrom(Ec);for(var Mc=0;Mc<Qi.length;Mc++){var Rc=Qi[Mc];if(Rc!=":"||Oc){var Uc=percentEncode(Rc,userinfoPercentEncodeSet);Oc?$c.password+=Uc:$c.username+=Uc}else Oc=!0}Ec=""}else if(Di==EOF||Di=="/"||Di=="?"||Di=="#"||Di=="\\"&&$c.isSpecial()){if(Pc&&Ec=="")return INVALID_AUTHORITY;xc-=arrayFrom(Ec).length+1,Ec="",_c=HOST}else Ec+=Di;break;case HOST:case HOSTNAME:if(jr&&$c.scheme=="file"){_c=FILE_HOST;continue}if(Di!=":"||Ac){if(Di==EOF||Di=="/"||Di=="?"||Di=="#"||Di=="\\"&&$c.isSpecial()){if($c.isSpecial()&&Ec=="")return INVALID_HOST;if(jr&&Ec==""&&($c.includesCredentials()||$c.port!==null))return;if(Tc=$c.parseHost(Ec))return Tc;if(Ec="",_c=PATH_START,jr)return;continue}Di=="["?Ac=!0:Di=="]"&&(Ac=!1),Ec+=Di}else{if(Ec=="")return INVALID_HOST;if(Tc=$c.parseHost(Ec))return Tc;if(Ec="",_c=PORT,jr==HOSTNAME)return}break;case PORT:if(!exec(DIGIT,Di)){if(Di==EOF||Di=="/"||Di=="?"||Di=="#"||Di=="\\"&&$c.isSpecial()||jr){if(Ec!=""){var Dc=parseInt$1(Ec,10);if(Dc>65535)return INVALID_PORT;$c.port=$c.isSpecial()&&Dc===specialSchemes[$c.scheme]?null:Dc,Ec=""}if(jr)return;_c=PATH_START;continue}return INVALID_PORT}Ec+=Di;break;case FILE:if($c.scheme="file",Di=="/"||Di=="\\")_c=FILE_SLASH;else{if(!Oo||Oo.scheme!="file"){_c=PATH;continue}if(Di==EOF)$c.host=Oo.host,$c.path=arraySlice(Oo.path),$c.query=Oo.query;else if(Di=="?")$c.host=Oo.host,$c.path=arraySlice(Oo.path),$c.query="",_c=QUERY;else{if(Di!="#"){startsWithWindowsDriveLetter(join(arraySlice(Mo,xc),""))||($c.host=Oo.host,$c.path=arraySlice(Oo.path),$c.shortenPath()),_c=PATH;continue}$c.host=Oo.host,$c.path=arraySlice(Oo.path),$c.query=Oo.query,$c.fragment="",_c=FRAGMENT}}break;case FILE_SLASH:if(Di=="/"||Di=="\\"){_c=FILE_HOST;break}Oo&&Oo.scheme=="file"&&!startsWithWindowsDriveLetter(join(arraySlice(Mo,xc),""))&&(isWindowsDriveLetter(Oo.path[0],!0)?push($c.path,Oo.path[0]):$c.host=Oo.host),_c=PATH;continue;case FILE_HOST:if(Di==EOF||Di=="/"||Di=="\\"||Di=="?"||Di=="#"){if(!jr&&isWindowsDriveLetter(Ec))_c=PATH;else if(Ec==""){if($c.host="",jr)return;_c=PATH_START}else{if(Tc=$c.parseHost(Ec))return Tc;if($c.host=="localhost"&&($c.host=""),jr)return;Ec="",_c=PATH_START}continue}Ec+=Di;break;case PATH_START:if($c.isSpecial()){if(_c=PATH,Di!="/"&&Di!="\\")continue}else if(jr||Di!="?")if(jr||Di!="#"){if(Di!=EOF&&(_c=PATH,Di!="/"))continue}else $c.fragment="",_c=FRAGMENT;else $c.query="",_c=QUERY;break;case PATH:if(Di==EOF||Di=="/"||Di=="\\"&&$c.isSpecial()||!jr&&(Di=="?"||Di=="#")){if(isDoubleDot(Ec)?($c.shortenPath(),Di=="/"||Di=="\\"&&$c.isSpecial()||push($c.path,"")):isSingleDot(Ec)?Di=="/"||Di=="\\"&&$c.isSpecial()||push($c.path,""):($c.scheme=="file"&&!$c.path.length&&isWindowsDriveLetter(Ec)&&($c.host&&($c.host=""),Ec=charAt(Ec,0)+":"),push($c.path,Ec)),Ec="",$c.scheme=="file"&&(Di==EOF||Di=="?"||Di=="#"))for(;$c.path.length>1&&$c.path[0]==="";)shift($c.path);Di=="?"?($c.query="",_c=QUERY):Di=="#"&&($c.fragment="",_c=FRAGMENT)}else Ec+=percentEncode(Di,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:Di=="?"?($c.query="",_c=QUERY):Di=="#"?($c.fragment="",_c=FRAGMENT):Di!=EOF&&($c.path[0]+=percentEncode(Di,C0ControlPercentEncodeSet));break;case QUERY:jr||Di!="#"?Di!=EOF&&(Di=="'"&&$c.isSpecial()?$c.query+="%27":$c.query+=Di=="#"?"%23":percentEncode(Di,C0ControlPercentEncodeSet)):($c.fragment="",_c=FRAGMENT);break;case FRAGMENT:Di!=EOF&&($c.fragment+=percentEncode(Di,fragmentPercentEncodeSet))}xc++}},parseHost:function(ns){var jr,Oo,Mo;if(charAt(ns,0)=="["){if(charAt(ns,ns.length-1)!="]"||!(jr=parseIPv6(stringSlice$1(ns,1,-1))))return INVALID_HOST;this.host=jr}else if(this.isSpecial()){if(ns=toASCII(ns),exec(FORBIDDEN_HOST_CODE_POINT,ns)||(jr=parseIPv4(ns))===null)return INVALID_HOST;this.host=jr}else{if(exec(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT,ns))return INVALID_HOST;for(jr="",Oo=arrayFrom(ns),Mo=0;Mo<Oo.length;Mo++)jr+=percentEncode(Oo[Mo],C0ControlPercentEncodeSet);this.host=jr}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return hasOwn$2(specialSchemes,this.scheme)},shortenPath:function(){var ns=this.path,jr=ns.length;!jr||this.scheme=="file"&&jr==1&&isWindowsDriveLetter(ns[0],!0)||ns.length--},serialize:function(){var ns=this,jr=ns.scheme,Oo=ns.username,Mo=ns.password,Di=ns.host,Qi=ns.port,Tc=ns.path,$c=ns.query,_c=ns.fragment,xc=jr+":";return Di!==null?(xc+="//",ns.includesCredentials()&&(xc+=Oo+(Mo?":"+Mo:"")+"@"),xc+=serializeHost(Di),Qi!==null&&(xc+=":"+Qi)):jr=="file"&&(xc+="//"),xc+=ns.cannotBeABaseURL?Tc[0]:Tc.length?"/"+join(Tc,"/"):"",$c!==null&&(xc+="?"+$c),_c!==null&&(xc+="#"+_c),xc},setHref:function(ns){var jr=this.parse(ns);if(jr)throw TypeError$1(jr);this.searchParams.update()},getOrigin:function(){var ns=this.scheme,jr=this.port;if(ns=="blob")try{return new URLConstructor(ns.path[0]).origin}catch{return"null"}return ns!="file"&&this.isSpecial()?ns+"://"+serializeHost(this.host)+(jr!==null?":"+jr:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(ns){this.parse($toString(ns)+":",SCHEME_START)},getUsername:function(){return this.username},setUsername:function(ns){var jr=arrayFrom($toString(ns));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Oo=0;Oo<jr.length;Oo++)this.username+=percentEncode(jr[Oo],userinfoPercentEncodeSet)}},getPassword:function(){return this.password},setPassword:function(ns){var jr=arrayFrom($toString(ns));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Oo=0;Oo<jr.length;Oo++)this.password+=percentEncode(jr[Oo],userinfoPercentEncodeSet)}},getHost:function(){var ns=this.host,jr=this.port;return ns===null?"":jr===null?serializeHost(ns):serializeHost(ns)+":"+jr},setHost:function(ns){this.cannotBeABaseURL||this.parse(ns,HOST)},getHostname:function(){var ns=this.host;return ns===null?"":serializeHost(ns)},setHostname:function(ns){this.cannotBeABaseURL||this.parse(ns,HOSTNAME)},getPort:function(){var ns=this.port;return ns===null?"":$toString(ns)},setPort:function(ns){this.cannotHaveUsernamePasswordPort()||((ns=$toString(ns))==""?this.port=null:this.parse(ns,PORT))},getPathname:function(){var ns=this.path;return this.cannotBeABaseURL?ns[0]:ns.length?"/"+join(ns,"/"):""},setPathname:function(ns){this.cannotBeABaseURL||(this.path=[],this.parse(ns,PATH_START))},getSearch:function(){var ns=this.query;return ns?"?"+ns:""},setSearch:function(ns){(ns=$toString(ns))==""?this.query=null:(charAt(ns,0)=="?"&&(ns=stringSlice$1(ns,1)),this.query="",this.parse(ns,QUERY)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var ns=this.fragment;return ns?"#"+ns:""},setHash:function(ns){(ns=$toString(ns))!=""?(charAt(ns,0)=="#"&&(ns=stringSlice$1(ns,1)),this.fragment="",this.parse(ns,FRAGMENT)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var URLConstructor=function(ns){var jr=anInstance$1(this,URLPrototype),Oo=validateArgumentsLength(arguments.length,1)>1?arguments[1]:void 0,Mo=setInternalState(jr,new URLState(ns,!1,Oo));DESCRIPTORS$3||(jr.href=Mo.serialize(),jr.origin=Mo.getOrigin(),jr.protocol=Mo.getProtocol(),jr.username=Mo.getUsername(),jr.password=Mo.getPassword(),jr.host=Mo.getHost(),jr.hostname=Mo.getHostname(),jr.port=Mo.getPort(),jr.pathname=Mo.getPathname(),jr.search=Mo.getSearch(),jr.searchParams=Mo.getSearchParams(),jr.hash=Mo.getHash())},URLPrototype=URLConstructor.prototype,accessorDescriptor=function(ns,jr){return{get:function(){return getInternalURLState(this)[ns]()},set:jr&&function(Oo){return getInternalURLState(this)[jr](Oo)},configurable:!0,enumerable:!0}};if(DESCRIPTORS$3&&(defineBuiltInAccessor$2(URLPrototype,"href",accessorDescriptor("serialize","setHref")),defineBuiltInAccessor$2(URLPrototype,"origin",accessorDescriptor("getOrigin")),defineBuiltInAccessor$2(URLPrototype,"protocol",accessorDescriptor("getProtocol","setProtocol")),defineBuiltInAccessor$2(URLPrototype,"username",accessorDescriptor("getUsername","setUsername")),defineBuiltInAccessor$2(URLPrototype,"password",accessorDescriptor("getPassword","setPassword")),defineBuiltInAccessor$2(URLPrototype,"host",accessorDescriptor("getHost","setHost")),defineBuiltInAccessor$2(URLPrototype,"hostname",accessorDescriptor("getHostname","setHostname")),defineBuiltInAccessor$2(URLPrototype,"port",accessorDescriptor("getPort","setPort")),defineBuiltInAccessor$2(URLPrototype,"pathname",accessorDescriptor("getPathname","setPathname")),defineBuiltInAccessor$2(URLPrototype,"search",accessorDescriptor("getSearch","setSearch")),defineBuiltInAccessor$2(URLPrototype,"searchParams",accessorDescriptor("getSearchParams")),defineBuiltInAccessor$2(URLPrototype,"hash",accessorDescriptor("getHash","setHash"))),defineBuiltIn$1(URLPrototype,"toJSON",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),defineBuiltIn$1(URLPrototype,"toString",(function(){return getInternalURLState(this).serialize()}),{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&defineBuiltIn$1(URLConstructor,"createObjectURL",bind(nativeCreateObjectURL,NativeURL)),nativeRevokeObjectURL&&defineBuiltIn$1(URLConstructor,"revokeObjectURL",bind(nativeRevokeObjectURL,NativeURL))}setToStringTag$1(URLConstructor,"URL"),$$e({global:!0,constructor:!0,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS$3},{URL:URLConstructor});var $$d=_export,call$2=functionCall;$$d({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return call$2(URL.prototype.toString,this)}});var DESCRIPTORS$2=descriptors,uncurryThis$5=functionUncurryThis,defineBuiltInAccessor$1=defineBuiltInAccessor$7,URLSearchParamsPrototype=URLSearchParams.prototype,forEach$1=uncurryThis$5(URLSearchParamsPrototype.forEach);function isBrowser(){return typeof window=="object"&&typeof document=="object"&&Object.prototype.toString.call(document)==="[object HTMLDocument]"}function getRandomId(){return Math.random().toString(36).slice(2)}function getObjectKeys(ns){return Object.keys(ns)}function toStringTag(ns){return Object.prototype.toString.call(ns)}function hasOwnProperty(ns,jr){return Object.prototype.hasOwnProperty.call(ns,jr)}function isString(ns){return typeof ns=="string"}function isNumber(ns){return typeof ns=="number"}function isBigInt(ns){return toStringTag(ns)==="[object BigInt]"}function isArray$1(ns){return ns instanceof Array}function isArrayLike(ns){return typeof NodeList=="function"&&NodeList.name==="NodeList"&&ns instanceof NodeList||typeof HTMLCollection=="function"&&HTMLCollection.name==="HTMLCollection"&&ns instanceof HTMLCollection}function isObjectLike(ns){return typeof ns=="object"&&ns!==null}function isPlainObject(ns){return!(!isObjectLike(ns)||toStringTag(ns)!=="[object Object]")}function isPrototype(ns){return!(!isObjectLike(ns)||!hasOwnProperty(ns,"constructor")||typeof ns.constructor!="function")}function isBlob(ns){return ns instanceof Blob}function isArrayBuffer(ns){return ns instanceof ArrayBuffer}function isURLSearchParams(ns){return ns instanceof URLSearchParams}function isFormData(ns){return ns instanceof FormData}function isFile(ns){return ns instanceof File}function isHeaders(ns){return ns instanceof Headers}function isDocument(ns){return ns instanceof Document}function isURL(ns){return ns instanceof URL}function isClass(ns){return typeof ns=="function"&&ns.prototype!==void 0}DESCRIPTORS$2&&!("size"in URLSearchParamsPrototype)&&defineBuiltInAccessor$1(URLSearchParamsPrototype,"size",{get:function(){var ns=0;return forEach$1(this,(function(){ns++})),ns},configurable:!0,enumerable:!0});const CN_IDs=["zh-CN","zh-HK","zh-TW","zh","zh-Hans-CN"];function isCN(){if(isBrowser()){const{lang:ns}=document.documentElement;return ns?CN_IDs.some((jr=>jr===ns)):CN_IDs.some((jr=>jr===navigator.language))}return!1}function isTypedArray(ns){return ArrayBuffer.isView(ns)}const stringify=ns=>"".concat(ns),primitive=ns=>({ok:!0,value:ns});function makePrimitiveValue(ns){return ns===void 0?primitive(stringify(ns)):ns===null?primitive(ns):isNumber(ns)&&(ns===-1/0||ns===1/0||Number.isNaN(ns))?primitive(stringify(ns)):isBigInt(ns)?primitive("".concat(ns,"n")):typeof ns=="symbol"||typeof ns=="function"?primitive(stringify(ns.toString())):ns instanceof Error?primitive(stringify(ns.stack)):ns===Object.prototype?{value:null,ok:!1}:ns instanceof Object||typeof ns=="object"?{value:ns,ok:!1}:primitive(ns)}function stringifyData(ns){const{ok:jr,value:Oo}=makePrimitiveValue(ns);return jr?Oo:JSON.stringify(ns,((Mo,Di)=>makePrimitiveValue(Di).value),2)}function getValueType(ns){return ns===void 0?"undefined":ns===null?"null":isBigInt(ns)?"bigint":ns instanceof Object?ns instanceof Error?"error":typeof ns=="function"?"function":"object":typeof ns}const unproxyConsole={...console},psLog=["log","info","error","warn","debug"].reduce(((ns,jr)=>(ns[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];console[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns.unproxy[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];unproxyConsole[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns)),{unproxy:{}});function getAuthSecret(){const ns=Math.floor(1e6*Math.random());return String(ns).padStart(6,"0")}const formatErrorObj=ns=>{if(typeof ns!="object")return null;const{name:jr,message:Oo,stack:Mo}=Object(ns);return[jr,Oo,Mo].every(Boolean)===!1?null:{name:jr,message:Oo,stack:Mo}},blob2base64Async=ns=>new Promise(((jr,Oo)=>{const Mo=new FileReader;Mo.onload=Di=>{var Qi;jr((Qi=Di.target)===null||Qi===void 0?void 0:Qi.result)},Mo.onerror=()=>{Oo(new Error("blob2base64Async: can not convert"))},Mo.readAsDataURL(ns)})),CONNECT="connect",JOIN="join",LEAVE="leave",CLOSE="close",MESSAGE="message",BROADCAST="broadcast",ERROR="error",PING="ping",PONG="pong",UPDATE_ROOM_INFO="updateRoomInfo";var SERVER_MESSAGE_TYPE=Object.freeze({__proto__:null,BROADCAST,CLOSE,CONNECT,ERROR,JOIN,LEAVE,MESSAGE,PING,PONG,UPDATE_ROOM_INFO});function makeMessage(ns,jr){return{role:"client",type:ns,data:{...(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])&&{id:getRandomId()},...jr}}}function makeUnicastMessage(ns,jr,Oo){return{type:MESSAGE,content:{data:ns,from:jr,to:Oo}}}function makeBroadcastMessage(ns){return{type:BROADCAST,content:{data:ns}}}class RequestItem{constructor(jr){_defineProperty(this,"id",""),_defineProperty(this,"method",""),_defineProperty(this,"url",""),_defineProperty(this,"requestType","xhr"),_defineProperty(this,"requestHeader",null),_defineProperty(this,"status",0),_defineProperty(this,"statusText",""),_defineProperty(this,"readyState",0),_defineProperty(this,"response","__PLACEHOLDER_RESPONSE_DEFINED_BY_PAGE_SPY__"),_defineProperty(this,"responseReason",null),_defineProperty(this,"responseType",""),_defineProperty(this,"responseHeader",null),_defineProperty(this,"startTime",0),_defineProperty(this,"endTime",0),_defineProperty(this,"costTime",0),_defineProperty(this,"postData",null),_defineProperty(this,"requestPayload",null),_defineProperty(this,"withCredentials",!1),_defineProperty(this,"lastEventId",""),this.id=jr}}const MAX_SIZE=2097152,Reason={EXCEED_SIZE:"Exceed maximum limit"},PAGE_SPY_WS_ENDPOINT="/api/v1/ws/room/join";var ReqReadyState;(function(ns){ns[ns.UNSENT=0]="UNSENT",ns[ns.OPENED=1]="OPENED",ns[ns.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",ns[ns.LOADING=3]="LOADING",ns[ns.DONE=4]="DONE"})(ReqReadyState||(ReqReadyState={}));const BINARY_FILE_VARIANT="(file)";function formatEntries(ns){const jr=[];let Oo=ns.next();for(;!Oo.done;){const[Mo,Di]=Oo.value;let Qi;Qi=isFile(Di)?BINARY_FILE_VARIANT:String(Di),jr.push([Mo,Qi]),Oo=ns.next()}return jr}function getContentType(ns){return ns?isFormData(ns)?"multipart/form-data":isURLSearchParams(ns)?"application/x-www-form-urlencoded;charset=UTF-8":isDocument(ns)?"application/xml":isBlob(ns)?ns.type:"text/plain;charset=UTF-8":null}const CONTENT_TYPE_HEADER="Content-Type";function addContentTypeHeader(ns,jr){if(!jr)return ns;const Oo=getContentType(jr);if(!Oo)return ns;const Mo=[CONTENT_TYPE_HEADER,Oo];if(!ns)return[Mo];for(let Di=0;Di<ns.length;Di++){const[Qi]=ns[Di];if(Qi.toUpperCase()===CONTENT_TYPE_HEADER.toUpperCase())return ns}return[...ns,Mo]}async function getFormattedBody(ns){return ns?isURLSearchParams(ns)||isFormData(ns)?formatEntries(ns.entries()):isBlob(ns)?"[object Blob]":isTypedArray(ns)?"[object TypedArray]":isDocument(ns)?new XMLSerializer().serializeToString(ns):isString(ns)?ns:toStringTag(ns):null}class NetworkProxyBase{constructor(jr){_defineProperty(this,"socketStore",void 0),_defineProperty(this,"reqMap",Object.create(null)),this.socketStore=jr}getRequestMap(){return this.reqMap}getRequest(jr){return this.reqMap[jr]}removeRequest(jr){delete this.reqMap[jr]}createRequest(jr){return jr?this.reqMap[jr]?(psLog.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[jr]=new RequestItem(jr),!0):(psLog.warn('The "id" is required when init request object'),!1)}setRequest(jr,Oo){return!(!jr||!Oo)&&(this.reqMap[jr]=Oo,!0)}sendRequestItem(jr,Oo){var Mo;if(((Mo=NetworkProxyBase.dataProcessor)===null||Mo===void 0?void 0:Mo.call(NetworkProxyBase,Oo))!==!1)try{this.reqMap[jr]||(this.reqMap[jr]=Oo);const Di=makeMessage("network",{...Oo},!1);this.socketStore.dispatchEvent("public-data",Di),this.socketStore.broadcastMessage(Di,Oo.readyState!==ReqReadyState.DONE),this.deferDeleteRequest(jr)}catch(Di){psLog.error(Di.message)}}deferDeleteRequest(jr){const Oo=this.getRequest(jr);Oo&&Oo.readyState===ReqReadyState.DONE&&setTimeout((()=>{delete this.reqMap[jr]}),3e3)}}_defineProperty(NetworkProxyBase,"dataProcessor",void 0);var uncurryThis$4=functionUncurryThis,SetPrototype$1=Set.prototype,setHelpers={Set,add:uncurryThis$4(SetPrototype$1.add),has:uncurryThis$4(SetPrototype$1.has),remove:uncurryThis$4(SetPrototype$1.delete),proto:SetPrototype$1},has$5=setHelpers.has,aSet$7=function(ns){return has$5(ns),ns},call$1=functionCall,iterateSimple$7=function(ns,jr,Oo){for(var Mo,Di,Qi=Oo||ns.next;!(Mo=call$1(Qi,ns)).done;)if((Di=jr(Mo.value))!==void 0)return Di},uncurryThis$3=functionUncurryThis,iterateSimple$6=iterateSimple$7,SetHelpers$5=setHelpers,Set$3=SetHelpers$5.Set,SetPrototype=SetHelpers$5.proto,forEach=uncurryThis$3(SetPrototype.forEach),keys=uncurryThis$3(SetPrototype.keys),next=keys(new Set$3).next,setIterate=function(ns,jr,Oo){return Oo?iterateSimple$6(keys(ns),jr,next):forEach(ns,jr)},SetHelpers$4=setHelpers,iterate$1=setIterate,Set$2=SetHelpers$4.Set,add$3=SetHelpers$4.add,setClone=function(ns){var jr=new Set$2;return iterate$1(ns,(function(Oo){add$3(jr,Oo)})),jr},uncurryThisAccessor=functionUncurryThisAccessor,SetHelpers$3=setHelpers,setSize=uncurryThisAccessor(SetHelpers$3.proto,"size","get")||function(ns){return ns.size},aCallable$1=aCallable$7,anObject$1=anObject$g,call=functionCall,toIntegerOrInfinity=toIntegerOrInfinity$7,$TypeError$1=TypeError,max=Math.max,SetRecord=function(ns,jr,Oo,Mo){this.set=ns,this.size=jr,this.has=Oo,this.keys=Mo};SetRecord.prototype={getIterator:function(){return anObject$1(call(this.keys,this.set))},includes:function(ns){return call(this.has,this.set,ns)}};var getSetRecord$7=function(ns){anObject$1(ns);var jr=+ns.size;if(jr!=jr)throw $TypeError$1("Invalid size");return new SetRecord(ns,max(toIntegerOrInfinity(jr),0),aCallable$1(ns.has),aCallable$1(ns.keys))},aSet$6=aSet$7,SetHelpers$2=setHelpers,clone$2=setClone,size$4=setSize,getSetRecord$6=getSetRecord$7,iterateSet$2=setIterate,iterateSimple$5=iterateSimple$7,has$4=SetHelpers$2.has,remove$1=SetHelpers$2.remove,setDifference=function(ns){var jr=aSet$6(this),Oo=getSetRecord$6(ns),Mo=clone$2(jr);return size$4(jr)<=Oo.size?iterateSet$2(jr,(function(Di){Oo.includes(Di)&&remove$1(Mo,Di)})):iterateSimple$5(Oo.getIterator(),(function(Di){has$4(jr,Di)&&remove$1(Mo,Di)})),Mo},getBuiltIn$2=getBuiltIn$a,createEmptySetLike=function(){return{size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},setMethodAcceptSetLike$7=function(ns){try{return new(getBuiltIn$2("Set"))()[ns](createEmptySetLike()),!0}catch{return!1}},$$c=_export,difference=setDifference,setMethodAcceptSetLike$6=setMethodAcceptSetLike$7;$$c({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$6("difference")},{difference});var aSet$5=aSet$7,SetHelpers$1=setHelpers,size$3=setSize,getSetRecord$5=getSetRecord$7,iterateSet$1=setIterate,iterateSimple$4=iterateSimple$7,Set$1=SetHelpers$1.Set,add$2=SetHelpers$1.add,has$3=SetHelpers$1.has,setIntersection=function(ns){var jr=aSet$5(this),Oo=getSetRecord$5(ns),Mo=new Set$1;return size$3(jr)>Oo.size?iterateSimple$4(Oo.getIterator(),(function(Di){has$3(jr,Di)&&add$2(Mo,Di)})):iterateSet$1(jr,(function(Di){Oo.includes(Di)&&add$2(Mo,Di)})),Mo},$$b=_export,fails$2=fails$s,intersection=setIntersection,setMethodAcceptSetLike$5=setMethodAcceptSetLike$7,INCORRECT=!setMethodAcceptSetLike$5("intersection")||fails$2((function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!="3,2"}));$$b({target:"Set",proto:!0,real:!0,forced:INCORRECT},{intersection});var aSet$4=aSet$7,has$2=setHelpers.has,size$2=setSize,getSetRecord$4=getSetRecord$7,iterateSet=setIterate,iterateSimple$3=iterateSimple$7,iteratorClose$1=iteratorClose$3,setIsDisjointFrom=function(ns){var jr=aSet$4(this),Oo=getSetRecord$4(ns);if(size$2(jr)<=Oo.size)return iterateSet(jr,(function(Di){if(Oo.includes(Di))return!1}),!0)!==!1;var Mo=Oo.getIterator();return iterateSimple$3(Mo,(function(Di){if(has$2(jr,Di))return iteratorClose$1(Mo,"normal",!1)}))!==!1},$$a=_export,isDisjointFrom=setIsDisjointFrom,setMethodAcceptSetLike$4=setMethodAcceptSetLike$7;$$a({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$4("isDisjointFrom")},{isDisjointFrom});var aSet$3=aSet$7,size$1=setSize,iterate=setIterate,getSetRecord$3=getSetRecord$7,setIsSubsetOf=function(ns){var jr=aSet$3(this),Oo=getSetRecord$3(ns);return!(size$1(jr)>Oo.size)&&iterate(jr,(function(Mo){if(!Oo.includes(Mo))return!1}),!0)!==!1},$$9=_export,isSubsetOf=setIsSubsetOf,setMethodAcceptSetLike$3=setMethodAcceptSetLike$7;$$9({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$3("isSubsetOf")},{isSubsetOf});var aSet$2=aSet$7,has$1=setHelpers.has,size=setSize,getSetRecord$2=getSetRecord$7,iterateSimple$2=iterateSimple$7,iteratorClose=iteratorClose$3,setIsSupersetOf=function(ns){var jr=aSet$2(this),Oo=getSetRecord$2(ns);if(size(jr)<Oo.size)return!1;var Mo=Oo.getIterator();return iterateSimple$2(Mo,(function(Di){if(!has$1(jr,Di))return iteratorClose(Mo,"normal",!1)}))!==!1},$$8=_export,isSupersetOf=setIsSupersetOf,setMethodAcceptSetLike$2=setMethodAcceptSetLike$7;$$8({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$2("isSupersetOf")},{isSupersetOf});var aSet$1=aSet$7,SetHelpers=setHelpers,clone$1=setClone,getSetRecord$1=getSetRecord$7,iterateSimple$1=iterateSimple$7,add$1=SetHelpers.add,has=SetHelpers.has,remove=SetHelpers.remove,setSymmetricDifference=function(ns){var jr=aSet$1(this),Oo=getSetRecord$1(ns).getIterator(),Mo=clone$1(jr);return iterateSimple$1(Oo,(function(Di){has(jr,Di)?remove(Mo,Di):add$1(Mo,Di)})),Mo},$$7=_export,symmetricDifference=setSymmetricDifference,setMethodAcceptSetLike$1=setMethodAcceptSetLike$7;$$7({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike$1("symmetricDifference")},{symmetricDifference});var aSet=aSet$7,add=setHelpers.add,clone=setClone,getSetRecord=getSetRecord$7,iterateSimple=iterateSimple$7,setUnion=function(ns){var jr=aSet(this),Oo=getSetRecord(ns).getIterator(),Mo=clone(jr);return iterateSimple(Oo,(function(Di){add(Mo,Di)})),Mo},$$6=_export,union=setUnion,setMethodAcceptSetLike=setMethodAcceptSetLike$7;$$6({target:"Set",proto:!0,real:!0,forced:!setMethodAcceptSetLike("union")},{union});class Atom{constructor(){_defineProperty(this,"store",{}),_defineProperty(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const{value:Mo,ok:Di}=makePrimitiveValue(jr),Qi=getRandomId();if(Di)return{id:Qi,type:getValueType(jr),value:Mo};if(Oo)try{return{id:Qi,type:"json",value:JSON.stringify(jr)}}catch{return{id:Qi,type:"json",value:null}}return this.add(jr)}get(jr){const Oo=this.store[jr],Mo=this.instanceStore[jr];if(!Oo)return null;const Di={},Qi=Object.getOwnPropertyDescriptors(Oo);Object.keys(Qi).forEach(($c=>{const _c=Qi[$c];hasOwnProperty(_c,"value")&&(_c.value=this.transformToAtom(_c.value)),Di[$c]=Atom.getAtomOverview({atomId:getRandomId(),instanceId:Mo,value:_c})}));const Tc=this.addExtraProperty(jr);return{...Di,...Tc}}getOrigin(jr){return this.store[jr]||null}add(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const Mo=getRandomId();let Di=Mo;isPrototype(jr)&&(Di=Oo),this.store[Mo]=jr,this.instanceStore[Mo]=Di;const Qi=Atom.getSemanticValue(jr);return Atom.getAtomOverview({atomId:Mo,value:Qi,instanceId:Di})}static getAtomOverview(jr){let{instanceId:Oo="",atomId:Mo,value:Di}=jr;return{id:getRandomId(),type:"atom",__atomId:Mo,instanceId:Oo,value:Di}}static getSemanticValue(jr){return isPlainObject(jr)?"Object {...}":isArray$1(jr)?"Array (".concat(jr.length,")"):jr.constructor.name}addExtraProperty(jr){const Oo=this.store[jr],Mo=this.instanceStore[jr],Di={};if((Oo instanceof String||Oo instanceof Number||Oo instanceof Boolean)&&(Di["[[PrimitiveValue]]"]=this.transformToAtom(Oo.valueOf())),Oo instanceof Set){const Qi={};let Tc=0;for(const $c of Oo)Qi[Tc++]=$c;Qi.size=Oo.size,Di["[[Entries]]"]=this.transformToAtom(Qi)}if(Oo instanceof Map){const Qi={};let Tc=0;for(const[$c,_c]of Oo.entries())Qi[Tc++]={key:$c,value:_c};Qi.size=Oo.size,Di["[[Entries]]"]=this.transformToAtom(Qi)}return(isArray$1(Oo)||isArrayLike(Oo))&&(Di.length=this.transformToAtom(Oo.length)),Object.getPrototypeOf(Oo)!==null?Di["[[Prototype]]"]=this.add(Object.getPrototypeOf(Oo),Mo):Di.___proto___=this.transformToAtom(null),Di}}const atom=new Atom;class Client{constructor(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{osType:"unknown",osVersion:"unknown",browserType:"unknown",browserVersion:"unknown",framework:"unknown",isDevTools:!1,sdk:"unknown",sdkVersion:"0.0.0"},Oo=arguments.length>1?arguments[1]:void 0;_defineProperty(this,"info",void 0),_defineProperty(this,"rawInfo",void 0),_defineProperty(this,"plugins",[]),_defineProperty(this,"_name",""),this.info=jr,this.rawInfo=Oo}makeClientInfoMsg(){return{sdk:this.info.sdk,isDevTools:this.info.isDevTools,ua:this.getName(),plugins:this.plugins}}getName(){if(!this._name){const{ua:jr,osType:Oo,osVersion:Mo,browserType:Di,browserVersion:Qi}=this.info;this._name=jr||"".concat(Oo,"/").concat(Mo," ").concat(Di,"/").concat(Qi)}return this._name}}var $$5=_export,DESCRIPTORS$1=descriptors,global$4=global$q,uncurryThis$2=functionUncurryThis,hasOwn$1=hasOwnProperty_1,isCallable$1=isCallable$o,isPrototypeOf=objectIsPrototypeOf,toString$1=toString$8,defineBuiltInAccessor=defineBuiltInAccessor$7,copyConstructorProperties=copyConstructorProperties$3,NativeSymbol=global$4.Symbol,SymbolPrototype=NativeSymbol&&NativeSymbol.prototype;if(DESCRIPTORS$1&&isCallable$1(NativeSymbol)&&(!("description"in SymbolPrototype)||NativeSymbol().description!==void 0)){var EmptyStringDescriptionStore={},SymbolWrapper=function(){var ns=arguments.length<1||arguments[0]===void 0?void 0:toString$1(arguments[0]),jr=isPrototypeOf(SymbolPrototype,this)?new NativeSymbol(ns):ns===void 0?NativeSymbol():NativeSymbol(ns);return ns===""&&(EmptyStringDescriptionStore[jr]=!0),jr};copyConstructorProperties(SymbolWrapper,NativeSymbol),SymbolWrapper.prototype=SymbolPrototype,SymbolPrototype.constructor=SymbolWrapper;var NATIVE_SYMBOL=String(NativeSymbol("test"))=="Symbol(test)",thisSymbolValue=uncurryThis$2(SymbolPrototype.valueOf),symbolDescriptiveString=uncurryThis$2(SymbolPrototype.toString),regexp=/^Symbol\((.*)\)[^)]+$/,replace$1=uncurryThis$2("".replace),stringSlice=uncurryThis$2("".slice);defineBuiltInAccessor(SymbolPrototype,"description",{configurable:!0,get:function(){var ns=thisSymbolValue(this);if(hasOwn$1(EmptyStringDescriptionStore,ns))return"";var jr=symbolDescriptiveString(ns),Oo=NATIVE_SYMBOL?stringSlice(jr,7,-1):replace$1(jr,regexp,"$1");return Oo===""?void 0:Oo}}),$$5({global:!0,constructor:!0,forced:!0},{Symbol:SymbolWrapper})}var $$4=_export,uncurryThis$1=functionUncurryThis,isArray=isArray$4,nativeReverse=uncurryThis$1([].reverse),test=[1,2];$$4({target:"Array",proto:!0,forced:String(test)===String(test.reverse())},{reverse:function(){return isArray(this)&&(this.length=this.length),nativeReverse(this)}});var whitespaces$2=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,uncurryThis=functionUncurryThis,requireObjectCoercible=requireObjectCoercible$5,toString=toString$8,whitespaces$1=whitespaces$2,replace=uncurryThis("".replace),ltrim=RegExp("^["+whitespaces$1+"]+"),rtrim=RegExp("(^|[^"+whitespaces$1+"])["+whitespaces$1+"]+$"),createMethod=function(ns){return function(jr){var Oo=toString(requireObjectCoercible(jr));return 1&ns&&(Oo=replace(Oo,ltrim,"")),2&ns&&(Oo=replace(Oo,rtrim,"$1")),Oo}},stringTrim={trim:createMethod(3)},PROPER_FUNCTION_NAME=functionName.PROPER,fails$1=fails$s,whitespaces=whitespaces$2,non="âÂá ",stringTrimForced=function(ns){return fails$1((function(){return!!whitespaces[ns]()||non[ns]()!==non||PROPER_FUNCTION_NAME&&whitespaces[ns].name!==ns}))},$$3=_export,$trim=stringTrim.trim,forcedStringTrimMethod=stringTrimForced;$$3({target:"String",proto:!0,forced:forcedStringTrimMethod("trim")},{trim:function(){return $trim(this)}});var domExceptionConstants={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},$$2=_export,global$3=global$q,getBuiltIn$1=getBuiltIn$a,createPropertyDescriptor=createPropertyDescriptor$7,defineProperty=objectDefineProperty.f,hasOwn=hasOwnProperty_1,anInstance=anInstance$4,inheritIfRequired=inheritIfRequired$2,normalizeStringArgument=normalizeStringArgument$2,DOMExceptionConstants=domExceptionConstants,clearErrorStack=errorStackClear,DESCRIPTORS=descriptors,DOM_EXCEPTION="DOMException",Error$1=getBuiltIn$1("Error"),NativeDOMException=getBuiltIn$1(DOM_EXCEPTION),$DOMException=function(){anInstance(this,DOMExceptionPrototype);var ns=arguments.length,jr=normalizeStringArgument(ns<1?void 0:arguments[0]),Oo=normalizeStringArgument(ns<2?void 0:arguments[1],"Error"),Mo=new NativeDOMException(jr,Oo),Di=Error$1(jr);return Di.name=DOM_EXCEPTION,defineProperty(Mo,"stack",createPropertyDescriptor(1,clearErrorStack(Di.stack,1))),inheritIfRequired(Mo,this,$DOMException),Mo},DOMExceptionPrototype=$DOMException.prototype=NativeDOMException.prototype,ERROR_HAS_STACK="stack"in Error$1(DOM_EXCEPTION),DOM_EXCEPTION_HAS_STACK="stack"in new NativeDOMException(1,2),descriptor=NativeDOMException&&DESCRIPTORS&&Object.getOwnPropertyDescriptor(global$3,DOM_EXCEPTION),BUGGY_DESCRIPTOR=!(!descriptor||descriptor.writable&&descriptor.configurable),FORCED_CONSTRUCTOR=ERROR_HAS_STACK&&!BUGGY_DESCRIPTOR&&!DOM_EXCEPTION_HAS_STACK;$$2({global:!0,constructor:!0,forced:FORCED_CONSTRUCTOR},{DOMException:FORCED_CONSTRUCTOR?$DOMException:NativeDOMException});var PolyfilledDOMException=getBuiltIn$1(DOM_EXCEPTION),PolyfilledDOMExceptionPrototype=PolyfilledDOMException.prototype,util,objectUtil;if(PolyfilledDOMExceptionPrototype.constructor!==PolyfilledDOMException){for(var key in defineProperty(PolyfilledDOMExceptionPrototype,"constructor",createPropertyDescriptor(1,PolyfilledDOMException)),DOMExceptionConstants)if(hasOwn(DOMExceptionConstants,key)){var constant=DOMExceptionConstants[key],constantName=constant.s;hasOwn(PolyfilledDOMException,constantName)||defineProperty(PolyfilledDOMException,constantName,createPropertyDescriptor(6,constant.c))}}(function(ns){ns.assertEqual=jr=>jr,ns.assertIs=function(jr){},ns.assertNever=function(jr){throw new Error},ns.arrayToEnum=jr=>{const Oo={};for(const Mo of jr)Oo[Mo]=Mo;return Oo},ns.getValidEnumValues=jr=>{const Oo=ns.objectKeys(jr).filter((Di=>typeof jr[jr[Di]]!="number")),Mo={};for(const Di of Oo)Mo[Di]=jr[Di];return ns.objectValues(Mo)},ns.objectValues=jr=>ns.objectKeys(jr).map((function(Oo){return jr[Oo]})),ns.objectKeys=typeof Object.keys=="function"?jr=>Object.keys(jr):jr=>{const Oo=[];for(const Mo in jr)Object.prototype.hasOwnProperty.call(jr,Mo)&&Oo.push(Mo);return Oo},ns.find=(jr,Oo)=>{for(const Mo of jr)if(Oo(Mo))return Mo},ns.isInteger=typeof Number.isInteger=="function"?jr=>Number.isInteger(jr):jr=>typeof jr=="number"&&isFinite(jr)&&Math.floor(jr)===jr,ns.joinValues=function(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" | ";return jr.map((Mo=>typeof Mo=="string"?"'".concat(Mo,"'"):Mo)).join(Oo)},ns.jsonStringifyReplacer=(jr,Oo)=>typeof Oo=="bigint"?Oo.toString():Oo})(util||(util={})),(function(ns){ns.mergeShapes=(jr,Oo)=>({...jr,...Oo})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=ns=>{switch(typeof ns){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(ns)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(ns)?ZodParsedType.array:ns===null?ZodParsedType.null:ns.then&&typeof ns.then=="function"&&ns.catch&&typeof ns.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&ns instanceof Map?ZodParsedType.map:typeof Set<"u"&&ns instanceof Set?ZodParsedType.set:typeof Date<"u"&&ns instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=ns=>JSON.stringify(ns,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(jr){var Oo;super(),Oo=this,this.issues=[],this.addIssue=Di=>{this.issues=[...this.issues,Di]},this.addIssues=function(){let Di=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Oo.issues=[...Oo.issues,...Di]};const Mo=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,Mo):this.__proto__=Mo,this.name="ZodError",this.issues=jr}format(jr){const Oo=jr||function(Qi){return Qi.message},Mo={_errors:[]},Di=Qi=>{for(const Tc of Qi.issues)if(Tc.code==="invalid_union")Tc.unionErrors.map(Di);else if(Tc.code==="invalid_return_type")Di(Tc.returnTypeError);else if(Tc.code==="invalid_arguments")Di(Tc.argumentsError);else if(Tc.path.length===0)Mo._errors.push(Oo(Tc));else{let $c=Mo,_c=0;for(;_c<Tc.path.length;){const xc=Tc.path[_c];_c===Tc.path.length-1?($c[xc]=$c[xc]||{_errors:[]},$c[xc]._errors.push(Oo(Tc))):$c[xc]=$c[xc]||{_errors:[]},$c=$c[xc],_c++}}};return Di(this),Mo}static assert(jr){if(!(jr instanceof ZodError))throw new Error("Not a ZodError: ".concat(jr))}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Di=>Di.message;const Oo={},Mo=[];for(const Di of this.issues)Di.path.length>0?(Oo[Di.path[0]]=Oo[Di.path[0]]||[],Oo[Di.path[0]].push(jr(Di))):Mo.push(jr(Di));return{formErrors:Mo,fieldErrors:Oo}}get formErrors(){return this.flatten()}}ZodError.create=ns=>new ZodError(ns);const errorMap=(ns,jr)=>{let Oo;switch(ns.code){case ZodIssueCode.invalid_type:Oo=ns.received===ZodParsedType.undefined?"Required":"Expected ".concat(ns.expected,", received ").concat(ns.received);break;case ZodIssueCode.invalid_literal:Oo="Invalid literal value, expected ".concat(JSON.stringify(ns.expected,util.jsonStringifyReplacer));break;case ZodIssueCode.unrecognized_keys:Oo="Unrecognized key(s) in object: ".concat(util.joinValues(ns.keys,", "));break;case ZodIssueCode.invalid_union:Oo="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:Oo="Invalid discriminator value. Expected ".concat(util.joinValues(ns.options));break;case ZodIssueCode.invalid_enum_value:Oo="Invalid enum value. Expected ".concat(util.joinValues(ns.options),", received '").concat(ns.received,"'");break;case ZodIssueCode.invalid_arguments:Oo="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:Oo="Invalid function return type";break;case ZodIssueCode.invalid_date:Oo="Invalid date";break;case ZodIssueCode.invalid_string:typeof ns.validation=="object"?"includes"in ns.validation?(Oo='Invalid input: must include "'.concat(ns.validation.includes,'"'),typeof ns.validation.position=="number"&&(Oo="".concat(Oo," at one or more positions greater than or equal to ").concat(ns.validation.position))):"startsWith"in ns.validation?Oo='Invalid input: must start with "'.concat(ns.validation.startsWith,'"'):"endsWith"in ns.validation?Oo='Invalid input: must end with "'.concat(ns.validation.endsWith,'"'):util.assertNever(ns.validation):Oo=ns.validation!=="regex"?"Invalid ".concat(ns.validation):"Invalid";break;case ZodIssueCode.too_small:Oo=ns.type==="array"?"Array must contain ".concat(ns.exact?"exactly":ns.inclusive?"at least":"more than"," ").concat(ns.minimum," element(s)"):ns.type==="string"?"String must contain ".concat(ns.exact?"exactly":ns.inclusive?"at least":"over"," ").concat(ns.minimum," character(s)"):ns.type==="number"?"Number must be ".concat(ns.exact?"exactly equal to ":ns.inclusive?"greater than or equal to ":"greater than ").concat(ns.minimum):ns.type==="date"?"Date must be ".concat(ns.exact?"exactly equal to ":ns.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(ns.minimum))):"Invalid input";break;case ZodIssueCode.too_big:Oo=ns.type==="array"?"Array must contain ".concat(ns.exact?"exactly":ns.inclusive?"at most":"less than"," ").concat(ns.maximum," element(s)"):ns.type==="string"?"String must contain ".concat(ns.exact?"exactly":ns.inclusive?"at most":"under"," ").concat(ns.maximum," character(s)"):ns.type==="number"?"Number must be ".concat(ns.exact?"exactly":ns.inclusive?"less than or equal to":"less than"," ").concat(ns.maximum):ns.type==="bigint"?"BigInt must be ".concat(ns.exact?"exactly":ns.inclusive?"less than or equal to":"less than"," ").concat(ns.maximum):ns.type==="date"?"Date must be ".concat(ns.exact?"exactly":ns.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(ns.maximum))):"Invalid input";break;case ZodIssueCode.custom:Oo="Invalid input";break;case ZodIssueCode.invalid_intersection_types:Oo="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:Oo="Number must be a multiple of ".concat(ns.multipleOf);break;case ZodIssueCode.not_finite:Oo="Number must be finite";break;default:Oo=jr.defaultError,util.assertNever(ns)}return{message:Oo}};let overrideErrorMap=errorMap;function setErrorMap(ns){overrideErrorMap=ns}function getErrorMap(){return overrideErrorMap}const makeIssue=ns=>{const{data:jr,path:Oo,errorMaps:Mo,issueData:Di}=ns,Qi=[...Oo,...Di.path||[]],Tc={...Di,path:Qi};if(Di.message!==void 0)return{...Di,path:Qi,message:Di.message};let $c="";const _c=Mo.filter((xc=>!!xc)).slice().reverse();for(const xc of _c)$c=xc(Tc,{data:jr,defaultError:$c}).message;return{...Di,path:Qi,message:$c}},EMPTY_PATH=[];function addIssueToContext(ns,jr){const Oo=getErrorMap(),Mo=makeIssue({issueData:jr,data:ns.data,path:ns.path,errorMaps:[ns.common.contextualErrorMap,ns.schemaErrorMap,Oo,Oo===errorMap?void 0:errorMap].filter((Di=>!!Di))});ns.common.issues.push(Mo)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(jr,Oo){const Mo=[];for(const Di of Oo){if(Di.status==="aborted")return INVALID;Di.status==="dirty"&&jr.dirty(),Mo.push(Di.value)}return{status:jr.value,value:Mo}}static async mergeObjectAsync(jr,Oo){const Mo=[];for(const Di of Oo){const Qi=await Di.key,Tc=await Di.value;Mo.push({key:Qi,value:Tc})}return ParseStatus.mergeObjectSync(jr,Mo)}static mergeObjectSync(jr,Oo){const Mo={};for(const Di of Oo){const{key:Qi,value:Tc}=Di;if(Qi.status==="aborted"||Tc.status==="aborted")return INVALID;Qi.status==="dirty"&&jr.dirty(),Tc.status==="dirty"&&jr.dirty(),Qi.value==="__proto__"||Tc.value===void 0&&!Di.alwaysSet||(Mo[Qi.value]=Tc.value)}return{status:jr.value,value:Mo}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=ns=>({status:"dirty",value:ns}),OK=ns=>({status:"valid",value:ns}),isAborted=ns=>ns.status==="aborted",isDirty=ns=>ns.status==="dirty",isValid=ns=>ns.status==="valid",isAsync=ns=>typeof Promise<"u"&&ns instanceof Promise;function __classPrivateFieldGet(ns,jr,Oo,Mo){if(typeof jr=="function"?ns!==jr||!0:!jr.has(ns))throw new TypeError("Cannot read private member from an object whose class did not declare it");return jr.get(ns)}function __classPrivateFieldSet(ns,jr,Oo,Mo,Di){if(typeof jr=="function"?ns!==jr||!0:!jr.has(ns))throw new TypeError("Cannot write private member to an object whose class did not declare it");return jr.set(ns,Oo),Oo}var errorUtil,_ZodEnum_cache,_ZodNativeEnum_cache;typeof SuppressedError=="function"&&SuppressedError,(function(ns){ns.errToObj=jr=>typeof jr=="string"?{message:jr}:jr||{},ns.toString=jr=>typeof jr=="string"?jr:jr?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(jr,Oo,Mo,Di){this._cachedPath=[],this.parent=jr,this.data=Oo,this._path=Mo,this._key=Di}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(ns,jr)=>{if(isValid(jr))return{success:!0,data:jr.value};if(!ns.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const Oo=new ZodError(ns.common.issues);return this._error=Oo,this._error}}};function processCreateParams(ns){if(!ns)return{};const{errorMap:jr,invalid_type_error:Oo,required_error:Mo,description:Di}=ns;if(jr&&(Oo||Mo))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return jr?{errorMap:jr,description:Di}:{errorMap:(Qi,Tc)=>{var $c,_c;const{message:xc}=ns;return Qi.code==="invalid_enum_value"?{message:xc??Tc.defaultError}:Tc.data===void 0?{message:($c=xc??Mo)!==null&&$c!==void 0?$c:Tc.defaultError}:Qi.code!=="invalid_type"?{message:Tc.defaultError}:{message:(_c=xc??Oo)!==null&&_c!==void 0?_c:Tc.defaultError}},description:Di}}class ZodType{get description(){return this._def.description}_getType(jr){return getParsedType(jr.data)}_getOrReturnCtx(jr,Oo){return Oo||{common:jr.parent.common,data:jr.data,parsedType:getParsedType(jr.data),schemaErrorMap:this._def.errorMap,path:jr.path,parent:jr.parent}}_processInputParams(jr){return{status:new ParseStatus,ctx:{common:jr.parent.common,data:jr.data,parsedType:getParsedType(jr.data),schemaErrorMap:this._def.errorMap,path:jr.path,parent:jr.parent}}}_parseSync(jr){const Oo=this._parse(jr);if(isAsync(Oo))throw new Error("Synchronous parse encountered promise.");return Oo}_parseAsync(jr){const Oo=this._parse(jr);return Promise.resolve(Oo)}parse(jr,Oo){const Mo=this.safeParse(jr,Oo);if(Mo.success)return Mo.data;throw Mo.error}safeParse(jr,Oo){var Mo;const Di={common:{issues:[],async:(Mo=Oo?.async)!==null&&Mo!==void 0&&Mo,contextualErrorMap:Oo?.errorMap},path:Oo?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:getParsedType(jr)},Qi=this._parseSync({data:jr,path:Di.path,parent:Di});return handleResult(Di,Qi)}"~validate"(jr){var Oo,Mo;const Di={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:getParsedType(jr)};if(!this["~standard"].async)try{const Qi=this._parseSync({data:jr,path:[],parent:Di});return isValid(Qi)?{value:Qi.value}:{issues:Di.common.issues}}catch(Qi){!((Mo=(Oo=Qi?.message)===null||Oo===void 0?void 0:Oo.toLowerCase())===null||Mo===void 0)&&Mo.includes("encountered")&&(this["~standard"].async=!0),Di.common={issues:[],async:!0}}return this._parseAsync({data:jr,path:[],parent:Di}).then((Qi=>isValid(Qi)?{value:Qi.value}:{issues:Di.common.issues}))}async parseAsync(jr,Oo){const Mo=await this.safeParseAsync(jr,Oo);if(Mo.success)return Mo.data;throw Mo.error}async safeParseAsync(jr,Oo){const Mo={common:{issues:[],contextualErrorMap:Oo?.errorMap,async:!0},path:Oo?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:getParsedType(jr)},Di=this._parse({data:jr,path:Mo.path,parent:Mo}),Qi=await(isAsync(Di)?Di:Promise.resolve(Di));return handleResult(Mo,Qi)}refine(jr,Oo){const Mo=Di=>typeof Oo=="string"||Oo===void 0?{message:Oo}:typeof Oo=="function"?Oo(Di):Oo;return this._refinement(((Di,Qi)=>{const Tc=jr(Di),$c=()=>Qi.addIssue({code:ZodIssueCode.custom,...Mo(Di)});return typeof Promise<"u"&&Tc instanceof Promise?Tc.then((_c=>!!_c||($c(),!1))):!!Tc||($c(),!1)}))}refinement(jr,Oo){return this._refinement(((Mo,Di)=>!!jr(Mo)||(Di.addIssue(typeof Oo=="function"?Oo(Mo,Di):Oo),!1)))}_refinement(jr){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:jr}})}superRefine(jr){return this._refinement(jr)}constructor(jr){this.spa=this.safeParseAsync,this._def=jr,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:Oo=>this["~validate"](Oo)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(jr){return ZodUnion.create([this,jr],this._def)}and(jr){return ZodIntersection.create(this,jr,this._def)}transform(jr){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:jr}})}default(jr){const Oo=typeof jr=="function"?jr:()=>jr;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:Oo,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(jr){const Oo=typeof jr=="function"?jr:()=>jr;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:Oo,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(jr){return new this.constructor({...this._def,description:jr})}pipe(jr){return ZodPipeline.create(this,jr)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp("^".concat(dateRegexSource,"$"));function timeRegexSource(ns){let jr="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return ns.precision?jr="".concat(jr,"\\.\\d{").concat(ns.precision,"}"):ns.precision==null&&(jr="".concat(jr,"(\\.\\d+)?")),jr}function timeRegex(ns){return new RegExp("^".concat(timeRegexSource(ns),"$"))}function datetimeRegex(ns){let jr="".concat(dateRegexSource,"T").concat(timeRegexSource(ns));const Oo=[];return Oo.push(ns.local?"Z?":"Z"),ns.offset&&Oo.push("([+-]\\d{2}:?\\d{2})"),jr="".concat(jr,"(").concat(Oo.join("|"),")"),new RegExp("^".concat(jr,"$"))}function isValidIP(ns,jr){return!(jr!=="v4"&&jr||!ipv4Regex.test(ns))||!(jr!=="v6"&&jr||!ipv6Regex.test(ns))}function isValidJWT(ns,jr){if(!jwtRegex.test(ns))return!1;try{const[Oo]=ns.split("."),Mo=Oo.replace(/-/g,"+").replace(/_/g,"/").padEnd(Oo.length+(4-Oo.length%4)%4,"="),Di=JSON.parse(atob(Mo));return typeof Di=="object"&&Di!==null&&!(!Di.typ||!Di.alg)&&(!jr||Di.alg===jr)}catch{return!1}}function isValidCidr(ns,jr){return!(jr!=="v4"&&jr||!ipv4CidrRegex.test(ns))||!(jr!=="v6"&&jr||!ipv6CidrRegex.test(ns))}class ZodString extends ZodType{_parse(jr){if(this._def.coerce&&(jr.data=String(jr.data)),this._getType(jr)!==ZodParsedType.string){const Di=this._getOrReturnCtx(jr);return addIssueToContext(Di,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:Di.parsedType}),INVALID}const Oo=new ParseStatus;let Mo;for(const Di of this._def.checks)if(Di.kind==="min")jr.data.length<Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.too_small,minimum:Di.value,type:"string",inclusive:!0,exact:!1,message:Di.message}),Oo.dirty());else if(Di.kind==="max")jr.data.length>Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.too_big,maximum:Di.value,type:"string",inclusive:!0,exact:!1,message:Di.message}),Oo.dirty());else if(Di.kind==="length"){const Qi=jr.data.length>Di.value,Tc=jr.data.length<Di.value;(Qi||Tc)&&(Mo=this._getOrReturnCtx(jr,Mo),Qi?addIssueToContext(Mo,{code:ZodIssueCode.too_big,maximum:Di.value,type:"string",inclusive:!0,exact:!0,message:Di.message}):Tc&&addIssueToContext(Mo,{code:ZodIssueCode.too_small,minimum:Di.value,type:"string",inclusive:!0,exact:!0,message:Di.message}),Oo.dirty())}else if(Di.kind==="email")emailRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"email",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"emoji",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="uuid")uuidRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"uuid",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="nanoid")nanoidRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="cuid")cuidRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"cuid",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="cuid2")cuid2Regex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="ulid")ulidRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"ulid",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty());else if(Di.kind==="url")try{new URL(jr.data)}catch{Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"url",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()}else Di.kind==="regex"?(Di.regex.lastIndex=0,Di.regex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"regex",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty())):Di.kind==="trim"?jr.data=jr.data.trim():Di.kind==="includes"?jr.data.includes(Di.value,Di.position)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:{includes:Di.value,position:Di.position},message:Di.message}),Oo.dirty()):Di.kind==="toLowerCase"?jr.data=jr.data.toLowerCase():Di.kind==="toUpperCase"?jr.data=jr.data.toUpperCase():Di.kind==="startsWith"?jr.data.startsWith(Di.value)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:{startsWith:Di.value},message:Di.message}),Oo.dirty()):Di.kind==="endsWith"?jr.data.endsWith(Di.value)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:{endsWith:Di.value},message:Di.message}),Oo.dirty()):Di.kind==="datetime"?datetimeRegex(Di).test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:"datetime",message:Di.message}),Oo.dirty()):Di.kind==="date"?dateRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:"date",message:Di.message}),Oo.dirty()):Di.kind==="time"?timeRegex(Di).test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.invalid_string,validation:"time",message:Di.message}),Oo.dirty()):Di.kind==="duration"?durationRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"duration",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):Di.kind==="ip"?isValidIP(jr.data,Di.version)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"ip",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):Di.kind==="jwt"?isValidJWT(jr.data,Di.alg)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"jwt",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):Di.kind==="cidr"?isValidCidr(jr.data,Di.version)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"cidr",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):Di.kind==="base64"?base64Regex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"base64",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):Di.kind==="base64url"?base64urlRegex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{validation:"base64url",code:ZodIssueCode.invalid_string,message:Di.message}),Oo.dirty()):util.assertNever(Di);return{status:Oo.value,value:jr.data}}_regex(jr,Oo,Mo){return this.refinement((Di=>jr.test(Di)),{validation:Oo,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(Mo)})}_addCheck(jr){return new ZodString({...this._def,checks:[...this._def.checks,jr]})}email(jr){return this._addCheck({kind:"email",...errorUtil.errToObj(jr)})}url(jr){return this._addCheck({kind:"url",...errorUtil.errToObj(jr)})}emoji(jr){return this._addCheck({kind:"emoji",...errorUtil.errToObj(jr)})}uuid(jr){return this._addCheck({kind:"uuid",...errorUtil.errToObj(jr)})}nanoid(jr){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(jr)})}cuid(jr){return this._addCheck({kind:"cuid",...errorUtil.errToObj(jr)})}cuid2(jr){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(jr)})}ulid(jr){return this._addCheck({kind:"ulid",...errorUtil.errToObj(jr)})}base64(jr){return this._addCheck({kind:"base64",...errorUtil.errToObj(jr)})}base64url(jr){return this._addCheck({kind:"base64url",...errorUtil.errToObj(jr)})}jwt(jr){return this._addCheck({kind:"jwt",...errorUtil.errToObj(jr)})}ip(jr){return this._addCheck({kind:"ip",...errorUtil.errToObj(jr)})}cidr(jr){return this._addCheck({kind:"cidr",...errorUtil.errToObj(jr)})}datetime(jr){var Oo,Mo;return typeof jr=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:jr}):this._addCheck({kind:"datetime",precision:jr?.precision===void 0?null:jr?.precision,offset:(Oo=jr?.offset)!==null&&Oo!==void 0&&Oo,local:(Mo=jr?.local)!==null&&Mo!==void 0&&Mo,...errorUtil.errToObj(jr?.message)})}date(jr){return this._addCheck({kind:"date",message:jr})}time(jr){return typeof jr=="string"?this._addCheck({kind:"time",precision:null,message:jr}):this._addCheck({kind:"time",precision:jr?.precision===void 0?null:jr?.precision,...errorUtil.errToObj(jr?.message)})}duration(jr){return this._addCheck({kind:"duration",...errorUtil.errToObj(jr)})}regex(jr,Oo){return this._addCheck({kind:"regex",regex:jr,...errorUtil.errToObj(Oo)})}includes(jr,Oo){return this._addCheck({kind:"includes",value:jr,position:Oo?.position,...errorUtil.errToObj(Oo?.message)})}startsWith(jr,Oo){return this._addCheck({kind:"startsWith",value:jr,...errorUtil.errToObj(Oo)})}endsWith(jr,Oo){return this._addCheck({kind:"endsWith",value:jr,...errorUtil.errToObj(Oo)})}min(jr,Oo){return this._addCheck({kind:"min",value:jr,...errorUtil.errToObj(Oo)})}max(jr,Oo){return this._addCheck({kind:"max",value:jr,...errorUtil.errToObj(Oo)})}length(jr,Oo){return this._addCheck({kind:"length",value:jr,...errorUtil.errToObj(Oo)})}nonempty(jr){return this.min(1,errorUtil.errToObj(jr))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((jr=>jr.kind==="datetime"))}get isDate(){return!!this._def.checks.find((jr=>jr.kind==="date"))}get isTime(){return!!this._def.checks.find((jr=>jr.kind==="time"))}get isDuration(){return!!this._def.checks.find((jr=>jr.kind==="duration"))}get isEmail(){return!!this._def.checks.find((jr=>jr.kind==="email"))}get isURL(){return!!this._def.checks.find((jr=>jr.kind==="url"))}get isEmoji(){return!!this._def.checks.find((jr=>jr.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((jr=>jr.kind==="uuid"))}get isNANOID(){return!!this._def.checks.find((jr=>jr.kind==="nanoid"))}get isCUID(){return!!this._def.checks.find((jr=>jr.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((jr=>jr.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((jr=>jr.kind==="ulid"))}get isIP(){return!!this._def.checks.find((jr=>jr.kind==="ip"))}get isCIDR(){return!!this._def.checks.find((jr=>jr.kind==="cidr"))}get isBase64(){return!!this._def.checks.find((jr=>jr.kind==="base64"))}get isBase64url(){return!!this._def.checks.find((jr=>jr.kind==="base64url"))}get minLength(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxLength(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}}function floatSafeRemainder(ns,jr){const Oo=(ns.toString().split(".")[1]||"").length,Mo=(jr.toString().split(".")[1]||"").length,Di=Oo>Mo?Oo:Mo;return parseInt(ns.toFixed(Di).replace(".",""))%parseInt(jr.toFixed(Di).replace(".",""))/Math.pow(10,Di)}ZodString.create=ns=>{var jr;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(jr=ns?.coerce)!==null&&jr!==void 0&&jr,...processCreateParams(ns)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(jr){if(this._def.coerce&&(jr.data=Number(jr.data)),this._getType(jr)!==ZodParsedType.number){const Di=this._getOrReturnCtx(jr);return addIssueToContext(Di,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:Di.parsedType}),INVALID}let Oo;const Mo=new ParseStatus;for(const Di of this._def.checks)Di.kind==="int"?util.isInteger(jr.data)||(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:Di.message}),Mo.dirty()):Di.kind==="min"?(Di.inclusive?jr.data<Di.value:jr.data<=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.too_small,minimum:Di.value,type:"number",inclusive:Di.inclusive,exact:!1,message:Di.message}),Mo.dirty()):Di.kind==="max"?(Di.inclusive?jr.data>Di.value:jr.data>=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.too_big,maximum:Di.value,type:"number",inclusive:Di.inclusive,exact:!1,message:Di.message}),Mo.dirty()):Di.kind==="multipleOf"?floatSafeRemainder(jr.data,Di.value)!==0&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.not_multiple_of,multipleOf:Di.value,message:Di.message}),Mo.dirty()):Di.kind==="finite"?Number.isFinite(jr.data)||(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.not_finite,message:Di.message}),Mo.dirty()):util.assertNever(Di);return{status:Mo.value,value:jr.data}}gte(jr,Oo){return this.setLimit("min",jr,!0,errorUtil.toString(Oo))}gt(jr,Oo){return this.setLimit("min",jr,!1,errorUtil.toString(Oo))}lte(jr,Oo){return this.setLimit("max",jr,!0,errorUtil.toString(Oo))}lt(jr,Oo){return this.setLimit("max",jr,!1,errorUtil.toString(Oo))}setLimit(jr,Oo,Mo,Di){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:jr,value:Oo,inclusive:Mo,message:errorUtil.toString(Di)}]})}_addCheck(jr){return new ZodNumber({...this._def,checks:[...this._def.checks,jr]})}int(jr){return this._addCheck({kind:"int",message:errorUtil.toString(jr)})}positive(jr){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(jr)})}negative(jr){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(jr)})}nonpositive(jr){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(jr)})}nonnegative(jr){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(jr)})}multipleOf(jr,Oo){return this._addCheck({kind:"multipleOf",value:jr,message:errorUtil.toString(Oo)})}finite(jr){return this._addCheck({kind:"finite",message:errorUtil.toString(jr)})}safe(jr){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(jr)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(jr)})}get minValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}get isInt(){return!!this._def.checks.find((jr=>jr.kind==="int"||jr.kind==="multipleOf"&&util.isInteger(jr.value)))}get isFinite(){let jr=null,Oo=null;for(const Mo of this._def.checks){if(Mo.kind==="finite"||Mo.kind==="int"||Mo.kind==="multipleOf")return!0;Mo.kind==="min"?(Oo===null||Mo.value>Oo)&&(Oo=Mo.value):Mo.kind==="max"&&(jr===null||Mo.value<jr)&&(jr=Mo.value)}return Number.isFinite(Oo)&&Number.isFinite(jr)}}ZodNumber.create=ns=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:ns?.coerce||!1,...processCreateParams(ns)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(jr){if(this._def.coerce)try{jr.data=BigInt(jr.data)}catch{return this._getInvalidInput(jr)}if(this._getType(jr)!==ZodParsedType.bigint)return this._getInvalidInput(jr);let Oo;const Mo=new ParseStatus;for(const Di of this._def.checks)Di.kind==="min"?(Di.inclusive?jr.data<Di.value:jr.data<=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.too_small,type:"bigint",minimum:Di.value,inclusive:Di.inclusive,message:Di.message}),Mo.dirty()):Di.kind==="max"?(Di.inclusive?jr.data>Di.value:jr.data>=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.too_big,type:"bigint",maximum:Di.value,inclusive:Di.inclusive,message:Di.message}),Mo.dirty()):Di.kind==="multipleOf"?jr.data%Di.value!==BigInt(0)&&(Oo=this._getOrReturnCtx(jr,Oo),addIssueToContext(Oo,{code:ZodIssueCode.not_multiple_of,multipleOf:Di.value,message:Di.message}),Mo.dirty()):util.assertNever(Di);return{status:Mo.value,value:jr.data}}_getInvalidInput(jr){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:Oo.parsedType}),INVALID}gte(jr,Oo){return this.setLimit("min",jr,!0,errorUtil.toString(Oo))}gt(jr,Oo){return this.setLimit("min",jr,!1,errorUtil.toString(Oo))}lte(jr,Oo){return this.setLimit("max",jr,!0,errorUtil.toString(Oo))}lt(jr,Oo){return this.setLimit("max",jr,!1,errorUtil.toString(Oo))}setLimit(jr,Oo,Mo,Di){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:jr,value:Oo,inclusive:Mo,message:errorUtil.toString(Di)}]})}_addCheck(jr){return new ZodBigInt({...this._def,checks:[...this._def.checks,jr]})}positive(jr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(jr)})}negative(jr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(jr)})}nonpositive(jr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(jr)})}nonnegative(jr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(jr)})}multipleOf(jr,Oo){return this._addCheck({kind:"multipleOf",value:jr,message:errorUtil.toString(Oo)})}get minValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}}ZodBigInt.create=ns=>{var jr;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(jr=ns?.coerce)!==null&&jr!==void 0&&jr,...processCreateParams(ns)})};class ZodBoolean extends ZodType{_parse(jr){if(this._def.coerce&&(jr.data=!!jr.data),this._getType(jr)!==ZodParsedType.boolean){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:Oo.parsedType}),INVALID}return OK(jr.data)}}ZodBoolean.create=ns=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:ns?.coerce||!1,...processCreateParams(ns)});class ZodDate extends ZodType{_parse(jr){if(this._def.coerce&&(jr.data=new Date(jr.data)),this._getType(jr)!==ZodParsedType.date){const Di=this._getOrReturnCtx(jr);return addIssueToContext(Di,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:Di.parsedType}),INVALID}if(isNaN(jr.data.getTime()))return addIssueToContext(this._getOrReturnCtx(jr),{code:ZodIssueCode.invalid_date}),INVALID;const Oo=new ParseStatus;let Mo;for(const Di of this._def.checks)Di.kind==="min"?jr.data.getTime()<Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.too_small,message:Di.message,inclusive:!0,exact:!1,minimum:Di.value,type:"date"}),Oo.dirty()):Di.kind==="max"?jr.data.getTime()>Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),addIssueToContext(Mo,{code:ZodIssueCode.too_big,message:Di.message,inclusive:!0,exact:!1,maximum:Di.value,type:"date"}),Oo.dirty()):util.assertNever(Di);return{status:Oo.value,value:new Date(jr.data.getTime())}}_addCheck(jr){return new ZodDate({...this._def,checks:[...this._def.checks,jr]})}min(jr,Oo){return this._addCheck({kind:"min",value:jr.getTime(),message:errorUtil.toString(Oo)})}max(jr,Oo){return this._addCheck({kind:"max",value:jr.getTime(),message:errorUtil.toString(Oo)})}get minDate(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr!=null?new Date(jr):null}get maxDate(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr!=null?new Date(jr):null}}ZodDate.create=ns=>new ZodDate({checks:[],coerce:ns?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(ns)});class ZodSymbol extends ZodType{_parse(jr){if(this._getType(jr)!==ZodParsedType.symbol){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:Oo.parsedType}),INVALID}return OK(jr.data)}}ZodSymbol.create=ns=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(ns)});class ZodUndefined extends ZodType{_parse(jr){if(this._getType(jr)!==ZodParsedType.undefined){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:Oo.parsedType}),INVALID}return OK(jr.data)}}ZodUndefined.create=ns=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(ns)});class ZodNull extends ZodType{_parse(jr){if(this._getType(jr)!==ZodParsedType.null){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:Oo.parsedType}),INVALID}return OK(jr.data)}}ZodNull.create=ns=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(ns)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(jr){return OK(jr.data)}}ZodAny.create=ns=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(ns)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(jr){return OK(jr.data)}}ZodUnknown.create=ns=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(ns)});class ZodNever extends ZodType{_parse(jr){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:Oo.parsedType}),INVALID}}ZodNever.create=ns=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(ns)});class ZodVoid extends ZodType{_parse(jr){if(this._getType(jr)!==ZodParsedType.undefined){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:Oo.parsedType}),INVALID}return OK(jr.data)}}ZodVoid.create=ns=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(ns)});class ZodArray extends ZodType{_parse(jr){const{ctx:Oo,status:Mo}=this._processInputParams(jr),Di=this._def;if(Oo.parsedType!==ZodParsedType.array)return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:Oo.parsedType}),INVALID;if(Di.exactLength!==null){const Tc=Oo.data.length>Di.exactLength.value,$c=Oo.data.length<Di.exactLength.value;(Tc||$c)&&(addIssueToContext(Oo,{code:Tc?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:$c?Di.exactLength.value:void 0,maximum:Tc?Di.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Di.exactLength.message}),Mo.dirty())}if(Di.minLength!==null&&Oo.data.length<Di.minLength.value&&(addIssueToContext(Oo,{code:ZodIssueCode.too_small,minimum:Di.minLength.value,type:"array",inclusive:!0,exact:!1,message:Di.minLength.message}),Mo.dirty()),Di.maxLength!==null&&Oo.data.length>Di.maxLength.value&&(addIssueToContext(Oo,{code:ZodIssueCode.too_big,maximum:Di.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Di.maxLength.message}),Mo.dirty()),Oo.common.async)return Promise.all([...Oo.data].map(((Tc,$c)=>Di.type._parseAsync(new ParseInputLazyPath(Oo,Tc,Oo.path,$c))))).then((Tc=>ParseStatus.mergeArray(Mo,Tc)));const Qi=[...Oo.data].map(((Tc,$c)=>Di.type._parseSync(new ParseInputLazyPath(Oo,Tc,Oo.path,$c))));return ParseStatus.mergeArray(Mo,Qi)}get element(){return this._def.type}min(jr,Oo){return new ZodArray({...this._def,minLength:{value:jr,message:errorUtil.toString(Oo)}})}max(jr,Oo){return new ZodArray({...this._def,maxLength:{value:jr,message:errorUtil.toString(Oo)}})}length(jr,Oo){return new ZodArray({...this._def,exactLength:{value:jr,message:errorUtil.toString(Oo)}})}nonempty(jr){return this.min(1,jr)}}function deepPartialify(ns){if(ns instanceof ZodObject){const jr={};for(const Oo in ns.shape){const Mo=ns.shape[Oo];jr[Oo]=ZodOptional.create(deepPartialify(Mo))}return new ZodObject({...ns._def,shape:()=>jr})}return ns instanceof ZodArray?new ZodArray({...ns._def,type:deepPartialify(ns.element)}):ns instanceof ZodOptional?ZodOptional.create(deepPartialify(ns.unwrap())):ns instanceof ZodNullable?ZodNullable.create(deepPartialify(ns.unwrap())):ns instanceof ZodTuple?ZodTuple.create(ns.items.map((jr=>deepPartialify(jr)))):ns}ZodArray.create=(ns,jr)=>new ZodArray({type:ns,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(jr)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const jr=this._def.shape(),Oo=util.objectKeys(jr);return this._cached={shape:jr,keys:Oo}}_parse(jr){if(this._getType(jr)!==ZodParsedType.object){const _c=this._getOrReturnCtx(jr);return addIssueToContext(_c,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:_c.parsedType}),INVALID}const{status:Oo,ctx:Mo}=this._processInputParams(jr),{shape:Di,keys:Qi}=this._getCached(),Tc=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const _c in Mo.data)Qi.includes(_c)||Tc.push(_c);const $c=[];for(const _c of Qi){const xc=Di[_c],Ec=Mo.data[_c];$c.push({key:{status:"valid",value:_c},value:xc._parse(new ParseInputLazyPath(Mo,Ec,Mo.path,_c)),alwaysSet:_c in Mo.data})}if(this._def.catchall instanceof ZodNever){const _c=this._def.unknownKeys;if(_c==="passthrough")for(const xc of Tc)$c.push({key:{status:"valid",value:xc},value:{status:"valid",value:Mo.data[xc]}});else if(_c==="strict")Tc.length>0&&(addIssueToContext(Mo,{code:ZodIssueCode.unrecognized_keys,keys:Tc}),Oo.dirty());else if(_c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const _c=this._def.catchall;for(const xc of Tc){const Ec=Mo.data[xc];$c.push({key:{status:"valid",value:xc},value:_c._parse(new ParseInputLazyPath(Mo,Ec,Mo.path,xc)),alwaysSet:xc in Mo.data})}}return Mo.common.async?Promise.resolve().then((async()=>{const _c=[];for(const xc of $c){const Ec=await xc.key,Pc=await xc.value;_c.push({key:Ec,value:Pc,alwaysSet:xc.alwaysSet})}return _c})).then((_c=>ParseStatus.mergeObjectSync(Oo,_c))):ParseStatus.mergeObjectSync(Oo,$c)}get shape(){return this._def.shape()}strict(jr){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...jr!==void 0?{errorMap:(Oo,Mo)=>{var Di,Qi,Tc,$c;const _c=(Tc=(Qi=(Di=this._def).errorMap)===null||Qi===void 0?void 0:Qi.call(Di,Oo,Mo).message)!==null&&Tc!==void 0?Tc:Mo.defaultError;return Oo.code==="unrecognized_keys"?{message:($c=errorUtil.errToObj(jr).message)!==null&&$c!==void 0?$c:_c}:{message:_c}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(jr){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...jr})})}merge(jr){return new ZodObject({unknownKeys:jr._def.unknownKeys,catchall:jr._def.catchall,shape:()=>({...this._def.shape(),...jr._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(jr,Oo){return this.augment({[jr]:Oo})}catchall(jr){return new ZodObject({...this._def,catchall:jr})}pick(jr){const Oo={};return util.objectKeys(jr).forEach((Mo=>{jr[Mo]&&this.shape[Mo]&&(Oo[Mo]=this.shape[Mo])})),new ZodObject({...this._def,shape:()=>Oo})}omit(jr){const Oo={};return util.objectKeys(this.shape).forEach((Mo=>{jr[Mo]||(Oo[Mo]=this.shape[Mo])})),new ZodObject({...this._def,shape:()=>Oo})}deepPartial(){return deepPartialify(this)}partial(jr){const Oo={};return util.objectKeys(this.shape).forEach((Mo=>{const Di=this.shape[Mo];jr&&!jr[Mo]?Oo[Mo]=Di:Oo[Mo]=Di.optional()})),new ZodObject({...this._def,shape:()=>Oo})}required(jr){const Oo={};return util.objectKeys(this.shape).forEach((Mo=>{if(jr&&!jr[Mo])Oo[Mo]=this.shape[Mo];else{let Di=this.shape[Mo];for(;Di instanceof ZodOptional;)Di=Di._def.innerType;Oo[Mo]=Di}})),new ZodObject({...this._def,shape:()=>Oo})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(ns,jr)=>new ZodObject({shape:()=>ns,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(jr)}),ZodObject.strictCreate=(ns,jr)=>new ZodObject({shape:()=>ns,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(jr)}),ZodObject.lazycreate=(ns,jr)=>new ZodObject({shape:ns,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(jr)});class ZodUnion extends ZodType{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo=this._def.options;if(Oo.common.async)return Promise.all(Mo.map((async Di=>{const Qi={...Oo,common:{...Oo.common,issues:[]},parent:null};return{result:await Di._parseAsync({data:Oo.data,path:Oo.path,parent:Qi}),ctx:Qi}}))).then((function(Di){for(const Tc of Di)if(Tc.result.status==="valid")return Tc.result;for(const Tc of Di)if(Tc.result.status==="dirty")return Oo.common.issues.push(...Tc.ctx.common.issues),Tc.result;const Qi=Di.map((Tc=>new ZodError(Tc.ctx.common.issues)));return addIssueToContext(Oo,{code:ZodIssueCode.invalid_union,unionErrors:Qi}),INVALID}));{let Di;const Qi=[];for(const $c of Mo){const _c={...Oo,common:{...Oo.common,issues:[]},parent:null},xc=$c._parseSync({data:Oo.data,path:Oo.path,parent:_c});if(xc.status==="valid")return xc;xc.status!=="dirty"||Di||(Di={result:xc,ctx:_c}),_c.common.issues.length&&Qi.push(_c.common.issues)}if(Di)return Oo.common.issues.push(...Di.ctx.common.issues),Di.result;const Tc=Qi.map(($c=>new ZodError($c)));return addIssueToContext(Oo,{code:ZodIssueCode.invalid_union,unionErrors:Tc}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(ns,jr)=>new ZodUnion({options:ns,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(jr)});const getDiscriminator=ns=>ns instanceof ZodLazy?getDiscriminator(ns.schema):ns instanceof ZodEffects?getDiscriminator(ns.innerType()):ns instanceof ZodLiteral?[ns.value]:ns instanceof ZodEnum?ns.options:ns instanceof ZodNativeEnum?util.objectValues(ns.enum):ns instanceof ZodDefault?getDiscriminator(ns._def.innerType):ns instanceof ZodUndefined?[void 0]:ns instanceof ZodNull?[null]:ns instanceof ZodOptional?[void 0,...getDiscriminator(ns.unwrap())]:ns instanceof ZodNullable?[null,...getDiscriminator(ns.unwrap())]:ns instanceof ZodBranded||ns instanceof ZodReadonly?getDiscriminator(ns.unwrap()):ns instanceof ZodCatch?getDiscriminator(ns._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ZodParsedType.object)return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:Oo.parsedType}),INVALID;const Mo=this.discriminator,Di=Oo.data[Mo],Qi=this.optionsMap.get(Di);return Qi?Oo.common.async?Qi._parseAsync({data:Oo.data,path:Oo.path,parent:Oo}):Qi._parseSync({data:Oo.data,path:Oo.path,parent:Oo}):(addIssueToContext(Oo,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Mo]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(jr,Oo,Mo){const Di=new Map;for(const Qi of Oo){const Tc=getDiscriminator(Qi.shape[jr]);if(!Tc.length)throw new Error("A discriminator value for key `".concat(jr,"` could not be extracted from all schema options"));for(const $c of Tc){if(Di.has($c))throw new Error("Discriminator property ".concat(String(jr)," has duplicate value ").concat(String($c)));Di.set($c,Qi)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:jr,options:Oo,optionsMap:Di,...processCreateParams(Mo)})}}function mergeValues(ns,jr){const Oo=getParsedType(ns),Mo=getParsedType(jr);if(ns===jr)return{valid:!0,data:ns};if(Oo===ZodParsedType.object&&Mo===ZodParsedType.object){const Di=util.objectKeys(jr),Qi=util.objectKeys(ns).filter(($c=>Di.indexOf($c)!==-1)),Tc={...ns,...jr};for(const $c of Qi){const _c=mergeValues(ns[$c],jr[$c]);if(!_c.valid)return{valid:!1};Tc[$c]=_c.data}return{valid:!0,data:Tc}}if(Oo===ZodParsedType.array&&Mo===ZodParsedType.array){if(ns.length!==jr.length)return{valid:!1};const Di=[];for(let Qi=0;Qi<ns.length;Qi++){const Tc=mergeValues(ns[Qi],jr[Qi]);if(!Tc.valid)return{valid:!1};Di.push(Tc.data)}return{valid:!0,data:Di}}return Oo===ZodParsedType.date&&Mo===ZodParsedType.date&&+ns==+jr?{valid:!0,data:ns}:{valid:!1}}class ZodIntersection extends ZodType{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr),Di=(Qi,Tc)=>{if(isAborted(Qi)||isAborted(Tc))return INVALID;const $c=mergeValues(Qi.value,Tc.value);return $c.valid?((isDirty(Qi)||isDirty(Tc))&&Oo.dirty(),{status:Oo.value,value:$c.data}):(addIssueToContext(Mo,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return Mo.common.async?Promise.all([this._def.left._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}),this._def.right._parseAsync({data:Mo.data,path:Mo.path,parent:Mo})]).then((Qi=>{let[Tc,$c]=Qi;return Di(Tc,$c)})):Di(this._def.left._parseSync({data:Mo.data,path:Mo.path,parent:Mo}),this._def.right._parseSync({data:Mo.data,path:Mo.path,parent:Mo}))}}ZodIntersection.create=(ns,jr,Oo)=>new ZodIntersection({left:ns,right:jr,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(Oo)});class ZodTuple extends ZodType{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ZodParsedType.array)return addIssueToContext(Mo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:Mo.parsedType}),INVALID;if(Mo.data.length<this._def.items.length)return addIssueToContext(Mo,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&Mo.data.length>this._def.items.length&&(addIssueToContext(Mo,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oo.dirty());const Di=[...Mo.data].map(((Qi,Tc)=>{const $c=this._def.items[Tc]||this._def.rest;return $c?$c._parse(new ParseInputLazyPath(Mo,Qi,Mo.path,Tc)):null})).filter((Qi=>!!Qi));return Mo.common.async?Promise.all(Di).then((Qi=>ParseStatus.mergeArray(Oo,Qi))):ParseStatus.mergeArray(Oo,Di)}get items(){return this._def.items}rest(jr){return new ZodTuple({...this._def,rest:jr})}}ZodTuple.create=(ns,jr)=>{if(!Array.isArray(ns))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:ns,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(jr)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ZodParsedType.object)return addIssueToContext(Mo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:Mo.parsedType}),INVALID;const Di=[],Qi=this._def.keyType,Tc=this._def.valueType;for(const $c in Mo.data)Di.push({key:Qi._parse(new ParseInputLazyPath(Mo,$c,Mo.path,$c)),value:Tc._parse(new ParseInputLazyPath(Mo,Mo.data[$c],Mo.path,$c)),alwaysSet:$c in Mo.data});return Mo.common.async?ParseStatus.mergeObjectAsync(Oo,Di):ParseStatus.mergeObjectSync(Oo,Di)}get element(){return this._def.valueType}static create(jr,Oo,Mo){return new ZodRecord(Oo instanceof ZodType?{keyType:jr,valueType:Oo,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(Mo)}:{keyType:ZodString.create(),valueType:jr,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(Oo)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ZodParsedType.map)return addIssueToContext(Mo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:Mo.parsedType}),INVALID;const Di=this._def.keyType,Qi=this._def.valueType,Tc=[...Mo.data.entries()].map((($c,_c)=>{let[xc,Ec]=$c;return{key:Di._parse(new ParseInputLazyPath(Mo,xc,Mo.path,[_c,"key"])),value:Qi._parse(new ParseInputLazyPath(Mo,Ec,Mo.path,[_c,"value"]))}}));if(Mo.common.async){const $c=new Map;return Promise.resolve().then((async()=>{for(const _c of Tc){const xc=await _c.key,Ec=await _c.value;if(xc.status==="aborted"||Ec.status==="aborted")return INVALID;xc.status!=="dirty"&&Ec.status!=="dirty"||Oo.dirty(),$c.set(xc.value,Ec.value)}return{status:Oo.value,value:$c}}))}{const $c=new Map;for(const _c of Tc){const xc=_c.key,Ec=_c.value;if(xc.status==="aborted"||Ec.status==="aborted")return INVALID;xc.status!=="dirty"&&Ec.status!=="dirty"||Oo.dirty(),$c.set(xc.value,Ec.value)}return{status:Oo.value,value:$c}}}}ZodMap.create=(ns,jr,Oo)=>new ZodMap({valueType:jr,keyType:ns,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(Oo)});class ZodSet extends ZodType{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ZodParsedType.set)return addIssueToContext(Mo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:Mo.parsedType}),INVALID;const Di=this._def;Di.minSize!==null&&Mo.data.size<Di.minSize.value&&(addIssueToContext(Mo,{code:ZodIssueCode.too_small,minimum:Di.minSize.value,type:"set",inclusive:!0,exact:!1,message:Di.minSize.message}),Oo.dirty()),Di.maxSize!==null&&Mo.data.size>Di.maxSize.value&&(addIssueToContext(Mo,{code:ZodIssueCode.too_big,maximum:Di.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Di.maxSize.message}),Oo.dirty());const Qi=this._def.valueType;function Tc(_c){const xc=new Set;for(const Ec of _c){if(Ec.status==="aborted")return INVALID;Ec.status==="dirty"&&Oo.dirty(),xc.add(Ec.value)}return{status:Oo.value,value:xc}}const $c=[...Mo.data.values()].map(((_c,xc)=>Qi._parse(new ParseInputLazyPath(Mo,_c,Mo.path,xc))));return Mo.common.async?Promise.all($c).then((_c=>Tc(_c))):Tc($c)}min(jr,Oo){return new ZodSet({...this._def,minSize:{value:jr,message:errorUtil.toString(Oo)}})}max(jr,Oo){return new ZodSet({...this._def,maxSize:{value:jr,message:errorUtil.toString(Oo)}})}size(jr,Oo){return this.min(jr,Oo).max(jr,Oo)}nonempty(jr){return this.min(1,jr)}}ZodSet.create=(ns,jr)=>new ZodSet({valueType:ns,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(jr)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ZodParsedType.function)return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:Oo.parsedType}),INVALID;function Mo($c,_c){return makeIssue({data:$c,path:Oo.path,errorMaps:[Oo.common.contextualErrorMap,Oo.schemaErrorMap,getErrorMap(),errorMap].filter((xc=>!!xc)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:_c}})}function Di($c,_c){return makeIssue({data:$c,path:Oo.path,errorMaps:[Oo.common.contextualErrorMap,Oo.schemaErrorMap,getErrorMap(),errorMap].filter((xc=>!!xc)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:_c}})}const Qi={errorMap:Oo.common.contextualErrorMap},Tc=Oo.data;if(this._def.returns instanceof ZodPromise){const $c=this;return OK((async function(){for(var _c=arguments.length,xc=new Array(_c),Ec=0;Ec<_c;Ec++)xc[Ec]=arguments[Ec];const Pc=new ZodError([]),Ac=await $c._def.args.parseAsync(xc,Qi).catch((Rc=>{throw Pc.addIssue(Mo(xc,Rc)),Pc})),Oc=await Reflect.apply(Tc,this,Ac);return await $c._def.returns._def.type.parseAsync(Oc,Qi).catch((Rc=>{throw Pc.addIssue(Di(Oc,Rc)),Pc}))}))}{const $c=this;return OK((function(){for(var _c=arguments.length,xc=new Array(_c),Ec=0;Ec<_c;Ec++)xc[Ec]=arguments[Ec];const Pc=$c._def.args.safeParse(xc,Qi);if(!Pc.success)throw new ZodError([Mo(xc,Pc.error)]);const Ac=Reflect.apply(Tc,this,Pc.data),Oc=$c._def.returns.safeParse(Ac,Qi);if(!Oc.success)throw new ZodError([Di(Ac,Oc.error)]);return Oc.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];return new ZodFunction({...this._def,args:ZodTuple.create(Oo).rest(ZodUnknown.create())})}returns(jr){return new ZodFunction({...this._def,returns:jr})}implement(jr){return this.parse(jr)}strictImplement(jr){return this.parse(jr)}static create(jr,Oo,Mo){return new ZodFunction({args:jr||ZodTuple.create([]).rest(ZodUnknown.create()),returns:Oo||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(Mo)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);return this._def.getter()._parse({data:Oo.data,path:Oo.path,parent:Oo})}}ZodLazy.create=(ns,jr)=>new ZodLazy({getter:ns,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(jr)});class ZodLiteral extends ZodType{_parse(jr){if(jr.data!==this._def.value){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{received:Oo.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:jr.data}}get value(){return this._def.value}}function createZodEnum(ns,jr){return new ZodEnum({values:ns,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(jr)})}ZodLiteral.create=(ns,jr)=>new ZodLiteral({value:ns,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(jr)});class ZodEnum extends ZodType{constructor(){super(...arguments),_ZodEnum_cache.set(this,void 0)}_parse(jr){if(typeof jr.data!="string"){const Oo=this._getOrReturnCtx(jr),Mo=this._def.values;return addIssueToContext(Oo,{expected:util.joinValues(Mo),received:Oo.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodEnum_cache)||__classPrivateFieldSet(this,_ZodEnum_cache,new Set(this._def.values)),!__classPrivateFieldGet(this,_ZodEnum_cache).has(jr.data)){const Oo=this._getOrReturnCtx(jr),Mo=this._def.values;return addIssueToContext(Oo,{received:Oo.data,code:ZodIssueCode.invalid_enum_value,options:Mo}),INVALID}return OK(jr.data)}get options(){return this._def.values}get enum(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}get Values(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}get Enum(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}extract(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._def;return ZodEnum.create(jr,{...this._def,...Oo})}exclude(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._def;return ZodEnum.create(this.options.filter((Mo=>!jr.includes(Mo))),{...this._def,...Oo})}}_ZodEnum_cache=new WeakMap,ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{constructor(){super(...arguments),_ZodNativeEnum_cache.set(this,void 0)}_parse(jr){const Oo=util.getValidEnumValues(this._def.values),Mo=this._getOrReturnCtx(jr);if(Mo.parsedType!==ZodParsedType.string&&Mo.parsedType!==ZodParsedType.number){const Di=util.objectValues(Oo);return addIssueToContext(Mo,{expected:util.joinValues(Di),received:Mo.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(__classPrivateFieldGet(this,_ZodNativeEnum_cache)||__classPrivateFieldSet(this,_ZodNativeEnum_cache,new Set(util.getValidEnumValues(this._def.values))),!__classPrivateFieldGet(this,_ZodNativeEnum_cache).has(jr.data)){const Di=util.objectValues(Oo);return addIssueToContext(Mo,{received:Mo.data,code:ZodIssueCode.invalid_enum_value,options:Di}),INVALID}return OK(jr.data)}get enum(){return this._def.values}}_ZodNativeEnum_cache=new WeakMap,ZodNativeEnum.create=(ns,jr)=>new ZodNativeEnum({values:ns,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(jr)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ZodParsedType.promise&&Oo.common.async===!1)return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:Oo.parsedType}),INVALID;const Mo=Oo.parsedType===ZodParsedType.promise?Oo.data:Promise.resolve(Oo.data);return OK(Mo.then((Di=>this._def.type.parseAsync(Di,{path:Oo.path,errorMap:Oo.common.contextualErrorMap}))))}}ZodPromise.create=(ns,jr)=>new ZodPromise({type:ns,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(jr)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr),Di=this._def.effect||null,Qi={addIssue:Tc=>{addIssueToContext(Mo,Tc),Tc.fatal?Oo.abort():Oo.dirty()},get path(){return Mo.path}};if(Qi.addIssue=Qi.addIssue.bind(Qi),Di.type==="preprocess"){const Tc=Di.transform(Mo.data,Qi);if(Mo.common.async)return Promise.resolve(Tc).then((async $c=>{if(Oo.value==="aborted")return INVALID;const _c=await this._def.schema._parseAsync({data:$c,path:Mo.path,parent:Mo});return _c.status==="aborted"?INVALID:_c.status==="dirty"||Oo.value==="dirty"?DIRTY(_c.value):_c}));{if(Oo.value==="aborted")return INVALID;const $c=this._def.schema._parseSync({data:Tc,path:Mo.path,parent:Mo});return $c.status==="aborted"?INVALID:$c.status==="dirty"||Oo.value==="dirty"?DIRTY($c.value):$c}}if(Di.type==="refinement"){const Tc=$c=>{const _c=Di.refinement($c,Qi);if(Mo.common.async)return Promise.resolve(_c);if(_c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $c};if(Mo.common.async===!1){const $c=this._def.schema._parseSync({data:Mo.data,path:Mo.path,parent:Mo});return $c.status==="aborted"?INVALID:($c.status==="dirty"&&Oo.dirty(),Tc($c.value),{status:Oo.value,value:$c.value})}return this._def.schema._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}).then(($c=>$c.status==="aborted"?INVALID:($c.status==="dirty"&&Oo.dirty(),Tc($c.value).then((()=>({status:Oo.value,value:$c.value}))))))}if(Di.type==="transform"){if(Mo.common.async===!1){const Tc=this._def.schema._parseSync({data:Mo.data,path:Mo.path,parent:Mo});if(!isValid(Tc))return Tc;const $c=Di.transform(Tc.value,Qi);if($c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:Oo.value,value:$c}}return this._def.schema._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}).then((Tc=>isValid(Tc)?Promise.resolve(Di.transform(Tc.value,Qi)).then(($c=>({status:Oo.value,value:$c}))):Tc))}util.assertNever(Di)}}ZodEffects.create=(ns,jr,Oo)=>new ZodEffects({schema:ns,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:jr,...processCreateParams(Oo)}),ZodEffects.createWithPreprocess=(ns,jr,Oo)=>new ZodEffects({schema:jr,effect:{type:"preprocess",transform:ns},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(Oo)});class ZodOptional extends ZodType{_parse(jr){return this._getType(jr)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(jr)}unwrap(){return this._def.innerType}}ZodOptional.create=(ns,jr)=>new ZodOptional({innerType:ns,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(jr)});class ZodNullable extends ZodType{_parse(jr){return this._getType(jr)===ZodParsedType.null?OK(null):this._def.innerType._parse(jr)}unwrap(){return this._def.innerType}}ZodNullable.create=(ns,jr)=>new ZodNullable({innerType:ns,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(jr)});class ZodDefault extends ZodType{_parse(jr){const{ctx:Oo}=this._processInputParams(jr);let Mo=Oo.data;return Oo.parsedType===ZodParsedType.undefined&&(Mo=this._def.defaultValue()),this._def.innerType._parse({data:Mo,path:Oo.path,parent:Oo})}removeDefault(){return this._def.innerType}}ZodDefault.create=(ns,jr)=>new ZodDefault({innerType:ns,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof jr.default=="function"?jr.default:()=>jr.default,...processCreateParams(jr)});class ZodCatch extends ZodType{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo={...Oo,common:{...Oo.common,issues:[]}},Di=this._def.innerType._parse({data:Mo.data,path:Mo.path,parent:{...Mo}});return isAsync(Di)?Di.then((Qi=>({status:"valid",value:Qi.status==="valid"?Qi.value:this._def.catchValue({get error(){return new ZodError(Mo.common.issues)},input:Mo.data})}))):{status:"valid",value:Di.status==="valid"?Di.value:this._def.catchValue({get error(){return new ZodError(Mo.common.issues)},input:Mo.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(ns,jr)=>new ZodCatch({innerType:ns,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof jr.catch=="function"?jr.catch:()=>jr.catch,...processCreateParams(jr)});class ZodNaN extends ZodType{_parse(jr){if(this._getType(jr)!==ZodParsedType.nan){const Oo=this._getOrReturnCtx(jr);return addIssueToContext(Oo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:Oo.parsedType}),INVALID}return{status:"valid",value:jr.data}}}ZodNaN.create=ns=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(ns)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo=Oo.data;return this._def.type._parse({data:Mo,path:Oo.path,parent:Oo})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.common.async)return(async()=>{const Di=await this._def.in._parseAsync({data:Mo.data,path:Mo.path,parent:Mo});return Di.status==="aborted"?INVALID:Di.status==="dirty"?(Oo.dirty(),DIRTY(Di.value)):this._def.out._parseAsync({data:Di.value,path:Mo.path,parent:Mo})})();{const Di=this._def.in._parseSync({data:Mo.data,path:Mo.path,parent:Mo});return Di.status==="aborted"?INVALID:Di.status==="dirty"?(Oo.dirty(),{status:"dirty",value:Di.value}):this._def.out._parseSync({data:Di.value,path:Mo.path,parent:Mo})}}static create(jr,Oo){return new ZodPipeline({in:jr,out:Oo,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(jr){const Oo=this._def.innerType._parse(jr),Mo=Di=>(isValid(Di)&&(Di.value=Object.freeze(Di.value)),Di);return isAsync(Oo)?Oo.then((Di=>Mo(Di))):Mo(Oo)}unwrap(){return this._def.innerType}}function cleanParams(ns,jr){const Oo=typeof ns=="function"?ns(jr):typeof ns=="string"?{message:ns}:ns;return typeof Oo=="string"?{message:Oo}:Oo}function custom(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oo=arguments.length>2?arguments[2]:void 0;return ns?ZodAny.create().superRefine(((Mo,Di)=>{var Qi,Tc;const $c=ns(Mo);if($c instanceof Promise)return $c.then((_c=>{var xc,Ec;if(!_c){const Pc=cleanParams(jr,Mo),Ac=(Ec=(xc=Pc.fatal)!==null&&xc!==void 0?xc:Oo)===null||Ec===void 0||Ec;Di.addIssue({code:"custom",...Pc,fatal:Ac})}}));if(!$c){const _c=cleanParams(jr,Mo),xc=(Tc=(Qi=_c.fatal)!==null&&Qi!==void 0?Qi:Oo)===null||Tc===void 0||Tc;Di.addIssue({code:"custom",..._c,fatal:xc})}})):ZodAny.create()}ZodReadonly.create=(ns,jr)=>new ZodReadonly({innerType:ns,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(jr)});const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(ns){ns.ZodString="ZodString",ns.ZodNumber="ZodNumber",ns.ZodNaN="ZodNaN",ns.ZodBigInt="ZodBigInt",ns.ZodBoolean="ZodBoolean",ns.ZodDate="ZodDate",ns.ZodSymbol="ZodSymbol",ns.ZodUndefined="ZodUndefined",ns.ZodNull="ZodNull",ns.ZodAny="ZodAny",ns.ZodUnknown="ZodUnknown",ns.ZodNever="ZodNever",ns.ZodVoid="ZodVoid",ns.ZodArray="ZodArray",ns.ZodObject="ZodObject",ns.ZodUnion="ZodUnion",ns.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ns.ZodIntersection="ZodIntersection",ns.ZodTuple="ZodTuple",ns.ZodRecord="ZodRecord",ns.ZodMap="ZodMap",ns.ZodSet="ZodSet",ns.ZodFunction="ZodFunction",ns.ZodLazy="ZodLazy",ns.ZodLiteral="ZodLiteral",ns.ZodEnum="ZodEnum",ns.ZodEffects="ZodEffects",ns.ZodNativeEnum="ZodNativeEnum",ns.ZodOptional="ZodOptional",ns.ZodNullable="ZodNullable",ns.ZodDefault="ZodDefault",ns.ZodCatch="ZodCatch",ns.ZodPromise="ZodPromise",ns.ZodBranded="ZodBranded",ns.ZodPipeline="ZodPipeline",ns.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=function(ns){return custom((jr=>jr instanceof ns),arguments.length>1&&arguments[1]!==void 0?arguments[1]:{message:"Input not instance of ".concat(ns.name)})},stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:ns=>ZodString.create({...ns,coerce:!0}),number:ns=>ZodNumber.create({...ns,coerce:!0}),boolean:ns=>ZodBoolean.create({...ns,coerce:!0}),bigint:ns=>ZodBigInt.create({...ns,coerce:!0}),date:ns=>ZodDate.create({...ns,coerce:!0})},NEVER=INVALID;var z$1=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,datetimeRegex,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const processorFn=()=>z$1.function().args(z$1.custom()).returns(z$1.boolean().optional()),baseSchema=z$1.object({api:z$1.string().refine((ns=>!ns.startsWith("http")),{message:"Just need host part in url"}),project:z$1.string().min(1,"Missing value"),title:z$1.string().min(1,"Missing value"),enableSSL:z$1.boolean(),messageCapacity:z$1.number(),useSecret:z$1.boolean(),secret:z$1.string().refine((ns=>!ns),{message:"Secret is not allowed to be set manually"}),offline:z$1.boolean(),serializeData:z$1.boolean(),disabledPlugins:z$1.array(z$1.string()),dataProcessor:z$1.object({console:processorFn(),network:processorFn(),storage:processorFn(),database:processorFn(),page:processorFn(),system:processorFn()}).partial().strict()}).partial().strict(),extendConfigSchema=ns=>baseSchema.merge(ns(z$1));class InvalidConfigError extends Error{constructor(jr,Oo){const Mo=jr.issues.map((Qi=>Qi.code==="unrecognized_keys"?"- ".concat(Qi.message,";"):"- ".concat(Qi.path.join("."),": ").concat(Qi.message,";"))).join(`
`);let Di=`config values validation failed.

`.concat(Mo);try{Di="".concat(Di,`
      
Current config: `).concat(JSON.stringify(Oo,null,2))}catch{}super(Di),this.name="InvalidConfigError"}}class ConfigBase{constructor(){_defineProperty(this,"value",{...this.base}),_defineProperty(this,"mergeConfig",(jr=>{const Oo={...this.base,...this.platform,...jr};try{this.schema.parse(Oo)}catch(Mo){throw new InvalidConfigError(Mo,Oo)}return this.value=Oo,this.value}))}get base(){return{api:"",project:"--",title:"--",enableSSL:!0,messageCapacity:1e3,useSecret:!1,secret:"",offline:!1,serializeData:!1,disabledPlugins:[],dataProcessor:{}}}get(){return this.value}set(jr,Oo){this.value[jr]=Oo}}const ROOM_SESSION_KEY="page-spy-room";var SocketState;(function(ns){ns[ns.CONNECTING=0]="CONNECTING",ns[ns.OPEN=1]="OPEN",ns[ns.CLOSING=2]="CLOSING",ns[ns.CLOSED=3]="CLOSED"})(SocketState||(SocketState={}));const HEARTBEAT_INTERVAL=5e3,INIT_RETRY_INTERVAL=2e3,RETRY_TIME_INCR=1.5,MAX_RETRY_INTERVAL=Math.pow(RETRY_TIME_INCR,4)*INIT_RETRY_INTERVAL;class SocketWrapper{constructor(){_defineProperty(this,"events",{open:[],close:[],error:[],message:[]})}emit(jr,Oo){this.events[jr].forEach((Mo=>{Mo(Oo)})),jr!=="close"&&jr!=="error"||this.clearListeners()}onOpen(jr){this.events.open.push(jr)}onClose(jr){this.events.close.push(jr)}onError(jr){this.events.error.push(jr)}onMessage(jr){this.events.message.push(jr)}clearListeners(){Object.entries(this.events).forEach((jr=>{let[,Oo]=jr;Oo.splice(0)}))}}class SocketStoreBase{getSocket(){return this.socketWrapper}updateRoomInfo(){if(this.getPageSpyConfig){var jr;const{project:Oo,title:Mo}=this.getPageSpyConfig(),Di=(jr=this.getClient)===null||jr===void 0?void 0:jr.call(this).getName();this.send({type:UPDATE_ROOM_INFO,content:{info:{name:Di,group:Oo,tags:{title:Mo,name:Di,group:Oo}}}},!0)}}constructor(){_defineProperty(this,"socketUrl",""),_defineProperty(this,"socketConnection",null),_defineProperty(this,"debuggerConnection",null),_defineProperty(this,"pingTimer",null),_defineProperty(this,"pongTimer",null),_defineProperty(this,"retryTimer",null),_defineProperty(this,"isOffline",!1),_defineProperty(this,"messageCapacity",0),_defineProperty(this,"messages",[]),_defineProperty(this,"events",{debug:[],refresh:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[],"public-data":[],"harbor-clear":[]}),_defineProperty(this,"retryInterval",INIT_RETRY_INTERVAL),_defineProperty(this,"connectable",!0),_defineProperty(this,"getPageSpyConfig",null),_defineProperty(this,"getClient",null),this.addListener("atom-detail",SocketStoreBase.handleResolveAtom),this.addListener("atom-getter",SocketStoreBase.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}async init(jr){try{var Oo,Mo,Di,Qi,Tc;if(!jr)throw Error("WebSocket url cannot be empty");this.socketWrapper.clearListeners(),this.socketWrapper.getState()===SocketState.OPEN&&await new Promise(($c=>{this.socketWrapper.onClose((()=>{this.socketWrapper.clearListeners(),$c()})),this.socketWrapper.close()})),(Oo=this.socketWrapper)===null||Oo===void 0||Oo.onOpen((()=>{this.connectOnline()})),(Mo=this.socketWrapper)===null||Mo===void 0||Mo.onMessage(($c=>{this.handleMessage($c)})),(Di=this.socketWrapper)===null||Di===void 0||Di.onClose((()=>{this.connectOffline()})),(Qi=this.socketWrapper)===null||Qi===void 0||Qi.onError((()=>{this.connectOffline()})),this.socketUrl=jr,(Tc=this.socketWrapper)===null||Tc===void 0||Tc.init(jr)}catch($c){psLog.error($c.message)}}addListener(jr,Oo){this.events[jr]||(this.events[jr]=[]),this.events[jr].push(Oo)}removeListener(jr,Oo){const Mo=this.events[jr]||[],Di=Mo.indexOf(Oo);Di>-1&&Mo.splice(Di,1)}broadcastMessage(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const Mo=makeBroadcastMessage(jr);this.send(Mo,Oo)}close(){var jr;this.connectable=!1,this.clearPing(),(jr=this.socketWrapper)===null||jr===void 0||jr.close(),this.messages=[],Object.entries(this.events).forEach((Oo=>{let[Mo,Di]=Oo;["atom-detail","atom-getter","debugger-online"].includes(Mo)||Di.splice(0)}))}connectOnline(){this.retryInterval=INIT_RETRY_INTERVAL,this.updateRoomInfo(),this.ping()}connectOffline(){this.socketConnection=null,this.debuggerConnection=null,this.clearPing(),this.retryTimer&&clearTimeout(this.retryTimer),this.connectable&&(this.retryTimer=setTimeout((()=>{this.retryInterval<MAX_RETRY_INTERVAL&&(this.retryInterval*=RETRY_TIME_INCR),this.retryTimer=null,this.tryReconnect()}),this.retryInterval))}tryReconnect(){this.init(this.socketUrl)}ping(){this.pingTimer&&clearTimeout(this.pingTimer),this.pongTimer&&clearTimeout(this.pongTimer),this.pingTimer=setTimeout((()=>{this.send({type:"ping",content:null}),this.pingTimer=null,this.pongTimer=setTimeout((()=>{this.connectOffline(),this.pongTimer=null}),HEARTBEAT_INTERVAL)}),HEARTBEAT_INTERVAL)}clearPing(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}handlePong(){clearTimeout(this.pongTimer),this.pongTimer=null,this.ping()}handleMessage(jr){var Oo;SocketStoreBase.messageFilters.length&&SocketStoreBase.messageFilters.forEach((Mc=>{jr=Mc(jr)}));const{CONNECT:Mo,MESSAGE:Di,ERROR:Qi,JOIN:Tc,PING:$c,PONG:_c,LEAVE:xc,CLOSE:Ec,BROADCAST:Pc}=SERVER_MESSAGE_TYPE,Ac=JSON.parse(jr.data),{type:Oc}=Ac;switch(Oc){case Mo:const{selfConnection:Mc,roomConnections:Rc}=Ac.content;this.socketConnection=Mc,this.debuggerConnection=Rc.find((Gc=>Gc.userId==="Debugger"))||null;break;case Tc:case xc:const{connection:Uc}=Ac.content;Uc.userId==="Debugger"&&(Oc===Tc?(this.debuggerConnection=Uc,this.sendClientInfo()):this.debuggerConnection=null);break;case Di:const{data:Dc,from:Nc,to:zc}=Ac.content;zc.address===((Oo=this.socketConnection)===null||Oo===void 0?void 0:Oo.address)&&this.dispatchEvent(Dc.type,{source:Dc,from:Nc,to:zc});break;case Ec:case Qi:this.connectOffline()}this.handlePong()}dispatchEvent(jr,Oo){var Mo;["public-data"].includes(jr)?this.events["public-data"].forEach((Di=>{Di(Oo)})):(Mo=this.events[jr])===null||Mo===void 0||Mo.forEach((Di=>{Di.call(this,Oo,(Qi=>{this.unicastMessage(Qi,Oo.from)}))}))}unicastMessage(jr,Oo){const Mo=makeUnicastMessage(jr,this.socketConnection,Oo);this.send(Mo)}handleFlushBuffer(jr){const{latestId:Oo}=jr.source.data,Mo=this.messages.findIndex((Di=>Di.content.data.data.id===Oo));this.messages.slice(Mo+1).forEach((Di=>{const Qi={type:MESSAGE,content:{data:Di.content.data,from:this.socketConnection,to:jr.from}};this.send(Qi,!0)}))}static handleResolveAtom(jr,Oo){let{source:Mo}=jr;const{type:Di,data:Qi}=Mo;if(Di==="atom-detail"){const Tc=atom.get(Qi)||{};Oo(makeMessage("atom-detail-".concat(Qi),Tc,!1))}}static handleAtomPropertyGetter(jr,Oo){let{source:Mo}=jr;const{type:Di,data:Qi}=Mo;if(Di==="atom-getter"){const{id:$c,parentId:_c,key:xc,instanceId:Ec}=Qi,Pc=atom.getOrigin(Ec),Ac=atom.getOrigin(_c);let Oc={};var Tc;Pc&&Ac?Oc=(Tc=Object.getOwnPropertyDescriptor(Ac,xc))===null||Tc===void 0||(Tc=Tc.get)===null||Tc===void 0?void 0:Tc.call(Pc):Oc=new Error("Getter computed failed"),Oo(makeMessage("atom-getter-".concat($c),atom.transformToAtom(Oc)))}}send(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.checkIfSend(jr))try{var Mo;const Di=jr;Di.createdAt=Date.now(),Di.requestId=getRandomId();const Qi=stringifyData(Di);(Mo=this.socketWrapper)===null||Mo===void 0||Mo.send(Qi)}catch(Di){psLog.error("Incompatible: ".concat(Di.message)),this.connectOffline()}this.checkIfCache(jr,Oo)&&(this.messageCapacity!==0&&this.messages.length>=this.messageCapacity&&this.messages.shift(),this.messages.push(jr))}checkIfSend(jr){return this.socketWrapper.getState()===SocketState.OPEN&&(!![UPDATE_ROOM_INFO,PING].includes(jr.type)||!!this.debuggerConnection)}checkIfCache(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!this.isOffline&&!Oo&&![MESSAGE,PING].includes(jr.type)}sendClientInfo(){var jr;const Oo=(jr=this.getClient)===null||jr===void 0?void 0:jr.call(this).makeClientInfoMsg();this.broadcastMessage({role:"client",type:"client-info",data:Oo},!0)}}_defineProperty(SocketStoreBase,"messageFilters",[]);const systemLang=isCN()?"zh":"en";class Translation{constructor(jr){_defineProperty(this,"locales",void 0),_defineProperty(this,"currentLang",void 0);const{locales:Oo,defaultLang:Mo=systemLang}=jr;if(!Oo||Object.keys(Oo).length===0)throw new Error("[PageSpy] Locales cannot be empty");if(!Oo[Mo])throw new Error('[PageSpy] Language "'.concat(Mo,'" not found'));this.locales=Oo,this.currentLang=Mo}t(jr,Oo){const Mo=Oo||this.currentLang,Di=this.locales[Mo];return Di?Di[jr]||jr:(psLog.warn("Language '".concat(Mo,"' not found, falling back to default")),jr)}setLang(jr){this.locales[jr]?this.currentLang=jr:psLog.error("Language '".concat(jr,"' is not supported"))}getCurrentLang(){return this.currentLang}getSupportedLangs(){return Object.keys(this.locales)}}var n$2=["U","R","D","L"],t$2={capture:!0,passive:!0};function r$2(ns,jr){window.addEventListener(ns,jr,t$2)}function e$2(ns,jr){window.removeEventListener(ns,jr,t$2)}var o$2=function(ns){return Math.sqrt(ns[0]*ns[0]+ns[1]*ns[1])},u$2=function(ns,jr){return[ns[0]-jr[0],ns[1]-jr[1]]},i$2=function(ns){var jr=Math.atan2(ns[0],-ns[1]);return jr=jr/Math.PI*2,jr=(Math.round(jr)+4)%4,n$2[jr]};function a$2(ns,jr){var Oo=ns.length;if(Oo===0)throw new TypeError("The `command` must not be an empty array");var Mo=[],Di=0,Qi=function(Tc){if(Tc===null)return Di=0,void(Mo.length=0);if(Mo[Di]=Tc,Di=(Di+1)%Oo,Mo.length==Oo){for(var $c=0;$c<Oo;$c++)if(ns[$c]!==Mo[(Di+$c)%Oo])return;jr()}};(function(Tc){r$2("touchstart",(function($c){var _c=[],xc=function(Pc){var Ac=Pc.targetTouches;if(Ac.length===1){var Oc=Ac[0],Mc=Oc.clientX,Rc=Oc.clientY;_c.push([Mc,Rc])}};xc($c),r$2("touchmove",xc);var Ec=function(){if(e$2("touchmove",xc),e$2("touchend",Ec),_c.length<2)return Tc(null);var Pc=u$2(_c[_c.length-1],_c[0]);if(o$2(Pc)<10)return Tc(null);for(var Ac=i$2(Pc),Oc=1;Oc<_c.length;Oc++){var Mc=u$2(_c[Oc],_c[Oc-1]);if(!(o$2(Mc)<10)&&i$2(Mc)!=Ac)return Tc(null)}Tc(Ac)};r$2("touchend",Ec)}))})(Qi),(function(Tc){r$2("keydown",(function($c){var _c=["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].indexOf($c.key);Tc(_c>=0?n$2[_c]:null)}))})(Qi)}class WebSocketWrapper extends SocketWrapper{constructor(){super(...arguments),_defineProperty(this,"socketInstance",null)}init(jr){this.socketInstance=new WebSocket(jr),["open","close","error","message"].forEach((Oo=>{this.socketInstance.addEventListener(Oo,(Mo=>{this.events[Oo].forEach((Di=>{Di(Mo)}))}))}))}send(jr){var Oo;(Oo=this.socketInstance)===null||Oo===void 0||Oo.send(stringifyData(jr))}close(){var jr;(jr=this.socketInstance)===null||jr===void 0||jr.close()}getState(){var jr;return(jr=this.socketInstance)===null||jr===void 0?void 0:jr.readyState}}class WebSocketStore extends SocketStoreBase{constructor(){super(...arguments),_defineProperty(this,"socketWrapper",new WebSocketWrapper)}onOffline(){window.dispatchEvent(new CustomEvent("sdk-inactive")),sessionStorage.removeItem(ROOM_SESSION_KEY)}}var socketStore=new WebSocketStore;class ConsolePlugin{constructor(){_defineProperty(this,"name","ConsolePlugin"),_defineProperty(this,"proxyTypes",["log","info","error","warn","debug"]),_defineProperty(this,"console",{}),_defineProperty(this,"$pageSpyConfig",null)}async onInit(jr){let{config:Oo}=jr;ConsolePlugin.hasInitd||(ConsolePlugin.hasInitd=!0,socketStore.addListener("debug",ConsolePlugin.handleDebugger),this.$pageSpyConfig=Oo,this.init())}init(){var jr=this;this.proxyTypes.forEach((Oo=>{this.console[Oo]=window.console[Oo]||window.console.log||(()=>{}),window.console[Oo]=function(){for(var Mo=arguments.length,Di=new Array(Mo),Qi=0;Qi<Mo;Qi++)Di[Qi]=arguments[Qi];jr.printLog({logType:Oo,logs:Di,url:window.location.href})}}))}reset(){this.proxyTypes.forEach((jr=>{window.console[jr]=this.console[jr]}))}onReset(){this.reset(),ConsolePlugin.hasInitd=!1}static handleDebugger(jr,Oo){let{source:Mo}=jr;const{type:Di,data:Qi}=Mo;if(Di==="debug"){Oo(makeMessage("console",{logType:"debug-origin",logs:[{id:getRandomId(),type:"debug-origin",value:Qi}]}));try{const Tc=new Function("return ".concat(Qi))();Oo(makeMessage("console",{logType:"debug-eval",logs:[atom.transformToAtom(Tc)]}))}catch(Tc){Oo(makeMessage("console",{logType:"error",logs:[{type:"error",value:Tc.stack}]}))}}}printLog(jr){if(jr.logs&&jr.logs.length){var Oo,Mo;const Di=(Oo=this.$pageSpyConfig)===null||Oo===void 0||(Oo=Oo.dataProcessor)===null||Oo===void 0?void 0:Oo.console;if(Di){this.reset();const Tc=Di(jr);if(this.init(),Tc===!1)return}this.console[jr.logType](...jr.logs);const Qi=makeMessage("console",{...jr,time:Date.now(),logs:jr.logs.map((Tc=>atom.transformToAtom(Tc,!1)))});if(socketStore.broadcastMessage(Qi),(Mo=this.$pageSpyConfig)!==null&&Mo!==void 0&&Mo.serializeData){const Tc={...Qi,data:{...Qi.data,logs:jr.logs.map(($c=>atom.transformToAtom($c,!0)))}};socketStore.dispatchEvent("public-data",Tc)}else socketStore.dispatchEvent("public-data",Qi)}}}_defineProperty(ConsolePlugin,"hasInitd",!1);class ErrorPlugin{constructor(){_defineProperty(this,"name","ErrorPlugin"),_defineProperty(this,"$pageSpyConfig",null),_defineProperty(this,"uncaughtErrorListener",(jr=>{if(jr.error){const{message:Oo,stack:Mo}=jr.error,Di=formatErrorObj(jr.error);this.sendMessage(Mo||Oo,Di)}else{const Oo=jr.message||"[PageSpy] An unknown error occurred and no stack trace available";this.sendMessage(Oo,null)}})),_defineProperty(this,"resourceLoadErrorListener",(jr=>{if(!(jr instanceof ErrorEvent)){const{target:Oo}=jr;this.sendMessage("[PageSpy] Resource Load Error: Cannot load resource of (".concat(Oo.src||Oo.href,")"),null)}})),_defineProperty(this,"rejectionListener",(jr=>{const Oo=formatErrorObj(jr.reason);this.sendMessage(jr.reason,Oo)}))}onInit(jr){let{config:Oo}=jr;ErrorPlugin.hasInitd||(ErrorPlugin.hasInitd=!0,this.$pageSpyConfig=Oo,this.onUncaughtError(),this.onResourceLoadError(),this.onUnhandledRejectionError())}onReset(){window.removeEventListener("error",this.uncaughtErrorListener),window.removeEventListener("error",this.resourceLoadErrorListener),window.removeEventListener("unhandledrejection",this.rejectionListener),ErrorPlugin.hasInitd=!1}onUncaughtError(){window.addEventListener("error",this.uncaughtErrorListener)}onResourceLoadError(){window.addEventListener("error",this.resourceLoadErrorListener,!0)}onUnhandledRejectionError(){window.addEventListener("unhandledrejection",this.rejectionListener)}sendMessage(jr,Oo){var Mo,Di;const Qi={logType:"error",logs:[jr],time:Date.now(),url:window.location.href,errorDetail:Oo};if(((Mo=this.$pageSpyConfig)===null||Mo===void 0||(Mo=Mo.dataProcessor)===null||Mo===void 0||(Di=Mo.console)===null||Di===void 0?void 0:Di.call(Mo,Qi))===!1)return;Qi.logs=Qi.logs.map(($c=>atom.transformToAtom($c)));const Tc=makeMessage("console",Qi);socketStore.dispatchEvent("public-data",Tc),socketStore.broadcastMessage(Tc)}}_defineProperty(ErrorPlugin,"hasInitd",!1);class WebNetworkProxyBase extends NetworkProxyBase{constructor(){super(socketStore)}}class XhrProxy extends WebNetworkProxyBase{constructor(){super(),_defineProperty(this,"xhrOpen",null),_defineProperty(this,"xhrSend",null),_defineProperty(this,"xhrSetRequestHeader",null),this.initProxyHandler()}initProxyHandler(){const jr=this;if(!window.XMLHttpRequest)return;const{open:Oo,send:Mo,setRequestHeader:Di}=window.XMLHttpRequest.prototype;this.xhrOpen=Oo,this.xhrSend=Mo,this.xhrSetRequestHeader=Di,window.XMLHttpRequest.prototype.open=function(){const Qi=this;for(var Tc=arguments.length,$c=new Array(Tc),_c=0;_c<Tc;_c++)$c[_c]=arguments[_c];const xc=$c[0],Ec=$c[1],Pc=getRandomId();jr.createRequest(Pc);const Ac=jr.getRequest(Pc);return Ac&&(Ac.url=new URL(Ec,window.location.href).toString(),Ac.method=xc.toUpperCase(),Ac.requestType="xhr"),this.pageSpyRequestId=Pc,this.pageSpyRequestMethod=xc,this.pageSpyRequestUrl=Ec,Qi.addEventListener("readystatechange",(async()=>{if(Ac){switch(Ac.readyState=Qi.readyState,Qi.readyState){case Qi.UNSENT:case Qi.OPENED:Ac.status=Qi.status,Ac.statusText="Pending",Ac.startTime||(Ac.startTime=Date.now());break;case Qi.HEADERS_RECEIVED:Ac.status=Qi.status,Ac.statusText="Loading";const Oc=(Qi.getAllResponseHeaders()||"").trim().split(/[\r\n]+/);Ac.responseHeader=Oc.reduce(((Rc,Uc)=>{const[Dc,...Nc]=Uc.split(": ");return Rc.push([Dc,Nc.join(": ")]),Rc}),[]);break;case Qi.LOADING:Ac.status=Qi.status,Ac.statusText="Loading";break;case Qi.DONE:Ac.status=Qi.status,Ac.statusText="Done",Ac.endTime=Date.now(),Ac.costTime=Ac.endTime-(Ac.startTime||Ac.endTime);const Mc=await jr.formatResponse(Qi);getObjectKeys(Mc).forEach((Rc=>{Ac[Rc]=Mc[Rc]}));break;default:Ac.status=Qi.status,Ac.statusText="Unknown"}jr.sendRequestItem(Qi.pageSpyRequestId,Ac)}else psLog.warn("The request object is not found on XMLHttpRequest's readystatechange event")})),Oo.apply(Qi,$c)},window.XMLHttpRequest.prototype.setRequestHeader=function(Qi,Tc){const $c=jr.getRequest(this.pageSpyRequestId);return $c?($c.requestHeader||($c.requestHeader=[]),$c.requestHeader.push([String(Qi),String(Tc)])):psLog.warn("The request object is not found on XMLHttpRequest's setRequestHeader event"),Di.apply(this,[Qi,Tc])},window.XMLHttpRequest.prototype.send=function(Qi){const Tc=this,{pageSpyRequestId:$c}=Tc,_c=jr.getRequest($c);return _c?(_c.responseType=Tc.responseType,_c.withCredentials=Tc.withCredentials,_c.method!=="GET"&&(_c.requestHeader=addContentTypeHeader(_c.requestHeader,Qi),getFormattedBody(Qi).then((xc=>{_c.requestPayload=xc,jr.sendRequestItem(Tc.pageSpyRequestId,_c)})))):psLog.warn("The request object is not found on XMLHttpRequest's send event"),Mo.apply(Tc,[Qi])}}reset(){this.xhrOpen&&(window.XMLHttpRequest.prototype.open=this.xhrOpen),this.xhrSend&&(window.XMLHttpRequest.prototype.send=this.xhrSend),this.xhrSetRequestHeader&&(window.XMLHttpRequest.prototype.setRequestHeader=this.xhrSetRequestHeader)}async formatResponse(jr){const Oo={response:"",responseReason:null};switch(jr.responseType){case"":case"text":if(isString(jr.response))try{Oo.response=JSON.parse(jr.response)}catch{Oo.response=jr.response}else jr.response!==void 0&&(Oo.response=toStringTag(jr.response));break;case"json":jr.response!==void 0&&(Oo.response=jr.response);break;case"blob":case"arraybuffer":if(jr.response){let Mo=jr.response;if(isArrayBuffer(Mo)){const Di=jr.getResponseHeader("content-type");Di&&(Mo=new Blob([Mo],{type:Di}))}if(isBlob(Mo))if(Mo.size<=MAX_SIZE)try{Oo.response=await blob2base64Async(Mo)}catch(Di){Oo.response=await Mo.text(),psLog.error(Di.message)}else Oo.response="[object Blob]",Oo.responseReason=Reason.EXCEED_SIZE}break;default:jr.response!==void 0&&(Oo.response=Object.prototype.toString.call(jr.response))}return Oo}}var global$2=global$q,promiseNativeConstructor=global$2.Promise,newPromiseCapability$1={},aCallable=aCallable$7,$TypeError=TypeError,PromiseCapability=function(ns){var jr,Oo;this.promise=new ns((function(Mo,Di){if(jr!==void 0||Oo!==void 0)throw $TypeError("Bad Promise constructor");jr=Mo,Oo=Di})),this.resolve=aCallable(jr),this.reject=aCallable(Oo)};newPromiseCapability$1.f=function(ns){return new PromiseCapability(ns)};var anObject=anObject$g,isObject=isObject$a,newPromiseCapability=newPromiseCapability$1,promiseResolve$1=function(ns,jr){if(anObject(ns),isObject(jr)&&jr.constructor===ns)return jr;var Oo=newPromiseCapability.f(ns);return(0,Oo.resolve)(jr),Oo.promise},$$1$1=_export,NativePromiseConstructor=promiseNativeConstructor,fails=fails$s,getBuiltIn=getBuiltIn$a,isCallable=isCallable$o,speciesConstructor=speciesConstructor$2,promiseResolve=promiseResolve$1,defineBuiltIn=defineBuiltIn$8,NativePromisePrototype=NativePromiseConstructor&&NativePromiseConstructor.prototype,NON_GENERIC=!!NativePromiseConstructor&&fails((function(){NativePromisePrototype.finally.call({then:function(){}},(function(){}))}));if($$1$1({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(ns){var jr=speciesConstructor(this,getBuiltIn("Promise")),Oo=isCallable(ns);return this.then(Oo?function(Mo){return promiseResolve(jr,ns()).then((function(){return Mo}))}:ns,Oo?function(Mo){return promiseResolve(jr,ns()).then((function(){throw Mo}))}:ns)}}),isCallable(NativePromiseConstructor)){var method=getBuiltIn("Promise").prototype.finally;NativePromisePrototype.finally!==method&&defineBuiltIn(NativePromisePrototype,"finally",method,{unsafe:!0})}class FetchProxy extends WebNetworkProxyBase{constructor(){super(),_defineProperty(this,"fetch",null),this.initProxyHandler()}reset(){this.fetch&&(window.fetch=this.fetch)}initProxyHandler(){const jr=this,Oo=window.fetch;Oo&&(this.fetch=Oo,window.fetch=function(Mo){let Di=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Qi=Oo(Mo,Di),Tc=getRandomId();jr.createRequest(Tc);const $c=jr.getRequest(Tc);if($c){let _c,xc="GET",Ec=null;isString(Mo)||isURL(Mo)?(xc=Di.method||"GET",_c=Mo,Ec=Di.headers||null):(xc=Mo.method,_c=Mo.url,Ec=Mo.headers),$c.url=new URL(_c,window.location.href).toString(),$c.method=xc.toUpperCase(),$c.requestType="fetch",$c.status=0,$c.statusText="Pending",$c.startTime=Date.now(),$c.readyState=XMLHttpRequest.UNSENT,Di.credentials&&Di.credentials!=="omit"&&($c.withCredentials=!0),Ec&&(isHeaders(Ec)?$c.requestHeader=[...Ec.entries()]:isObjectLike(Ec)?$c.requestHeader=Object.entries(Ec).map((Pc=>{let[Ac,Oc]=Pc;return[String(Ac),String(Oc)]})):$c.requestHeader=Ec.map((Pc=>{let[Ac,Oc]=Pc;return[String(Ac),String(Oc)]}))),$c.method!=="GET"&&($c.requestHeader=addContentTypeHeader($c.requestHeader,Di.body),getFormattedBody(Di.body).then((Pc=>{$c.requestPayload=Pc,jr.sendRequestItem(Tc,$c)}))),jr.sendRequestItem(Tc,$c),Qi.then((Pc=>{$c.status=Pc.status||200,$c.statusText=Pc.statusText||"Done",$c.responseHeader=[...Pc.headers.entries()],$c.readyState=XMLHttpRequest.HEADERS_RECEIVED,jr.sendRequestItem(Tc,$c);const Ac=Pc.headers.get("content-type");if(Ac){if(Ac.includes("application/json"))return $c.responseType="json",Pc.clone().text();if(Ac.includes("text/html")||Ac.includes("text/plain"))return $c.responseType="text",Pc.clone().text()}return $c.responseType="blob",Pc.clone().blob()})).then((async Pc=>{switch($c.responseType){case"text":case"json":try{$c.response=JSON.parse(Pc)}catch{$c.response=Pc,$c.responseType="text"}break;case"blob":const Ac=Pc;if(Ac.size<=MAX_SIZE)try{$c.response=await blob2base64Async(Ac)}catch(Oc){$c.response=await Ac.text(),psLog.error(Oc.message)}else $c.response="[object Blob]",$c.responseReason=Reason.EXCEED_SIZE}})).finally((()=>{$c.endTime=Date.now(),$c.costTime=$c.endTime-($c.startTime||$c.endTime),$c.readyState=XMLHttpRequest.DONE,jr.sendRequestItem(Tc,$c)}))}else psLog.warn("The request object is not found on window.fetch event");return Qi})}}class BeaconProxy extends WebNetworkProxyBase{constructor(){super(),_defineProperty(this,"sendBeacon",null),this.initProxyHandler()}reset(){this.sendBeacon&&(window.navigator.sendBeacon=this.sendBeacon)}initProxyHandler(){const jr=window.navigator.sendBeacon;if(!jr)return;const Oo=this;this.sendBeacon=jr,window.navigator.sendBeacon=function(Mo,Di){const Qi=jr.call(window.navigator,Mo,Di),Tc=getRandomId();Oo.createRequest(Tc);const $c=Oo.getRequest(Tc);return $c?($c.url=new URL(Mo,window.location.href).toString(),$c.method="POST",$c.status=0,$c.statusText="Pending",$c.requestType="ping",$c.requestHeader=addContentTypeHeader($c.requestHeader,Di),$c.startTime=Date.now(),getFormattedBody(Di).then((_c=>{$c.requestPayload=_c,Oo.sendRequestItem(Tc,$c)})),$c.response="",Qi?($c.status=200,$c.statusText="Sent",$c.endTime=Date.now(),$c.costTime=$c.endTime-($c.startTime||$c.endTime)):($c.status=500,$c.statusText="Unknown"),$c.readyState=XMLHttpRequest.DONE,Oo.sendRequestItem(Tc,$c)):psLog.warn("The request object is not on navigator.sendBeacon event"),Qi}}}class ResourceCollector extends WebNetworkProxyBase{constructor(){super(),_defineProperty(this,"observer",null),_defineProperty(this,"excluded",/(beacon|fetch|xmlhttprequest)/i),this.initResourceHandler()}initResourceHandler(){const jr=performance.timeOrigin||Date.now()-performance.now();this.observer=new PerformanceObserver((Oo=>{Oo.getEntries().forEach((Mo=>{const{name:Di,initiatorType:Qi,fetchStart:Tc,responseEnd:$c,duration:_c,responseStatus:xc=0}=Mo;if(this.excluded.test(Qi))return;const Ec=getRandomId();this.createRequest(Ec);const Pc=this.getRequest(Ec);Pc.method="GET",Pc.url=Di,Pc.requestType=Qi,Pc.readyState=XMLHttpRequest.DONE,Pc.startTime=jr+Tc,Pc.endTime=jr+$c,Pc.costTime=_c,Pc.response="",Pc.responseType="resource",Pc.status=xc,this.sendRequestItem(Ec,Pc)}))}));try{this.observer.observe({type:"resource",buffered:!0})}catch(Oo){psLog.warn("Resource collector error",Oo),this.observer.observe({entryTypes:["resource"]})}}reset(){var jr;(jr=this.observer)===null||jr===void 0||jr.disconnect(),this.observer=null}}class NetworkPlugin{constructor(){_defineProperty(this,"name","NetworkPlugin"),_defineProperty(this,"xhrProxy",null),_defineProperty(this,"fetchProxy",null),_defineProperty(this,"beaconProxy",null),_defineProperty(this,"resourceCollector",null)}onInit(jr){let{config:Oo}=jr;NetworkPlugin.hasInitd||(NetworkPlugin.hasInitd=!0,NetworkProxyBase.dataProcessor=Oo.dataProcessor.network,this.xhrProxy=new XhrProxy,this.fetchProxy=new FetchProxy,this.beaconProxy=new BeaconProxy,this.resourceCollector=new ResourceCollector)}onReset(){var jr,Oo,Mo,Di;(jr=this.xhrProxy)===null||jr===void 0||jr.reset(),(Oo=this.fetchProxy)===null||Oo===void 0||Oo.reset(),(Mo=this.beaconProxy)===null||Mo===void 0||Mo.reset(),(Di=this.resourceCollector)===null||Di===void 0||Di.reset(),NetworkPlugin.hasInitd=!1}}_defineProperty(NetworkPlugin,"hasInitd",!1);var $$q=_export,global$1=global$q,setToStringTag=setToStringTag$6;$$q({global:!0},{Reflect:{}}),setToStringTag(global$1.Reflect,"Reflect",!0),(function(scriptGlobalObject,window,document,undefined$1){function is(ns,jr){return typeof ns===jr}function testRunner(){var ns,jr,Oo,Mo,Di,Qi;for(var Tc in tests)if(tests.hasOwnProperty(Tc)){if(ns=[],(jr=tests[Tc]).name&&(ns.push(jr.name.toLowerCase()),jr.options&&jr.options.aliases&&jr.options.aliases.length))for(Oo=0;Oo<jr.options.aliases.length;Oo++)ns.push(jr.options.aliases[Oo].toLowerCase());for(Mo=is(jr.fn,"function")?jr.fn():jr.fn,Di=0;Di<ns.length;Di++)(Qi=ns[Di].split(".")).length===1?Modernizr[Qi[0]]=Mo:(Modernizr[Qi[0]]&&(!Modernizr[Qi[0]]||Modernizr[Qi[0]]instanceof Boolean)||(Modernizr[Qi[0]]=new Boolean(Modernizr[Qi[0]])),Modernizr[Qi[0]][Qi[1]]=Mo),classes.push((Mo?"":"no-")+Qi.join("-"))}}function setClasses(ns){var jr=docElement.className,Oo=Modernizr._config.classPrefix||"";if(isSVG&&(jr=jr.baseVal),Modernizr._config.enableJSClass){var Mo=new RegExp("(^|\\s)"+Oo+"no-js(\\s|$)");jr=jr.replace(Mo,"$1"+Oo+"js$2")}Modernizr._config.enableClasses&&(ns.length>0&&(jr+=" "+Oo+ns.join(" "+Oo)),isSVG?docElement.className.baseVal=jr:docElement.className=jr)}function addTest(ns,jr){if(typeof ns=="object")for(var Oo in ns)hasOwnProp(ns,Oo)&&addTest(Oo,ns[Oo]);else{var Mo=(ns=ns.toLowerCase()).split("."),Di=Modernizr[Mo[0]];if(Mo.length===2&&(Di=Di[Mo[1]]),Di!==void 0)return Modernizr;jr=typeof jr=="function"?jr():jr,Mo.length===1?Modernizr[Mo[0]]=jr:(!Modernizr[Mo[0]]||Modernizr[Mo[0]]instanceof Boolean||(Modernizr[Mo[0]]=new Boolean(Modernizr[Mo[0]])),Modernizr[Mo[0]][Mo[1]]=jr),setClasses([(jr&&jr!==!1?"":"no-")+Mo.join("-")]),Modernizr._trigger(ns,jr)}return Modernizr}function contains(ns,jr){return!!~(""+ns).indexOf(jr)}function createElement(){return typeof document.createElement!="function"?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function getBody(){var ns=document.body;return ns||((ns=createElement(isSVG?"svg":"body")).fake=!0),ns}function injectElementWithStyles(ns,jr,Oo,Mo){var Di,Qi,Tc,$c,_c="modernizr",xc=createElement("div"),Ec=getBody();if(parseInt(Oo,10))for(;Oo--;)(Tc=createElement("div")).id=_c+(Oo+1),xc.appendChild(Tc);return(Di=createElement("style")).type="text/css",Di.id="s"+_c,(Ec.fake?Ec:xc).appendChild(Di),Ec.appendChild(xc),Di.styleSheet?Di.styleSheet.cssText=ns:Di.appendChild(document.createTextNode(ns)),xc.id=_c,Ec.fake&&(Ec.style.background="",Ec.style.overflow="hidden",$c=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(Ec)),Qi=jr(xc,ns),Ec.fake&&Ec.parentNode?(Ec.parentNode.removeChild(Ec),docElement.style.overflow=$c,docElement.offsetHeight):xc.parentNode.removeChild(xc),!!Qi}function domToCSS(ns){return ns.replace(/([A-Z])/g,(function(jr,Oo){return"-"+Oo.toLowerCase()})).replace(/^ms-/,"-ms-")}function computedStyle(ns,jr,Oo){var Mo;if("getComputedStyle"in window){Mo=getComputedStyle.call(window,ns,jr);var Di=window.console;Mo!==null?Mo=Mo.getPropertyValue(Oo):Di&&Di[Di.error?"error":"log"].call(Di,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else Mo=ns.currentStyle&&ns.currentStyle[Oo];return Mo}function nativeTestProps(ns,jr){var Oo=ns.length;if("CSS"in window&&"supports"in window.CSS){for(;Oo--;)if(window.CSS.supports(domToCSS(ns[Oo]),jr))return!0;return!1}if("CSSSupportsRule"in window){for(var Mo=[];Oo--;)Mo.push("("+domToCSS(ns[Oo])+":"+jr+")");return injectElementWithStyles("@supports ("+(Mo=Mo.join(" or "))+") { #modernizr { position: absolute; } }",(function(Di){return computedStyle(Di,null,"position")==="absolute"}))}return undefined$1}function cssToDOM(ns){return ns.replace(/([a-z])-([a-z])/g,(function(jr,Oo,Mo){return Oo+Mo.toUpperCase()})).replace(/^-/,"")}function testProps(ns,jr,Oo,Mo){function Di(){Tc&&(delete mStyle.style,delete mStyle.modElem)}if(Mo=!is(Mo,"undefined")&&Mo,!is(Oo,"undefined")){var Qi=nativeTestProps(ns,Oo);if(!is(Qi,"undefined"))return Qi}for(var Tc,$c,_c,xc,Ec,Pc=["modernizr","tspan","samp"];!mStyle.style&&Pc.length;)Tc=!0,mStyle.modElem=createElement(Pc.shift()),mStyle.style=mStyle.modElem.style;for(_c=ns.length,$c=0;$c<_c;$c++)if(xc=ns[$c],Ec=mStyle.style[xc],contains(xc,"-")&&(xc=cssToDOM(xc)),mStyle.style[xc]!==undefined$1){if(Mo||is(Oo,"undefined"))return Di(),jr!=="pfx"||xc;try{mStyle.style[xc]=Oo}catch{}if(mStyle.style[xc]!==Ec)return Di(),jr!=="pfx"||xc}return Di(),!1}function fnBind(ns,jr){return function(){return ns.apply(jr,arguments)}}function testDOMProps(ns,jr,Oo){var Mo;for(var Di in ns)if(ns[Di]in jr)return Oo===!1?ns[Di]:is(Mo=jr[ns[Di]],"function")?fnBind(Mo,Oo||jr):Mo;return!1}function testPropsAll(ns,jr,Oo,Mo,Di){var Qi=ns.charAt(0).toUpperCase()+ns.slice(1),Tc=(ns+" "+cssomPrefixes.join(Qi+" ")+Qi).split(" ");return is(jr,"string")||is(jr,"undefined")?testProps(Tc,jr,Mo,Di):testDOMProps(Tc=(ns+" "+domPrefixes.join(Qi+" ")+Qi).split(" "),jr,Oo)}function detectDeleteDatabase(ns,jr){var Oo=ns.deleteDatabase(jr);Oo.onsuccess=function(){addTest("indexeddb.deletedatabase",!0)},Oo.onerror=function(){addTest("indexeddb.deletedatabase",!1)}}function testAllProps(ns,jr,Oo){return testPropsAll(ns,undefined$1,undefined$1,jr,Oo)}var tests=[],ModernizrProto={_version:"3.13.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(ns,jr){var Oo=this;setTimeout((function(){jr(Oo[ns])}),0)},addTest:function(ns,jr,Oo){tests.push({name:ns,fn:jr,options:Oo})},addAsyncTest:function(ns){tests.push({name:null,fn:ns})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var classes=[],hasOwnProp;(function(){var ns={}.hasOwnProperty;hasOwnProp=is(ns,"undefined")||is(ns.call,"undefined")?function(jr,Oo){return Oo in jr&&is(jr.constructor.prototype[Oo],"undefined")}:function(jr,Oo){return ns.call(jr,Oo)}})();var docElement=document.documentElement,isSVG=docElement.nodeName.toLowerCase()==="svg";ModernizrProto._l={},ModernizrProto.on=function(ns,jr){this._l[ns]||(this._l[ns]=[]),this._l[ns].push(jr),Modernizr.hasOwnProperty(ns)&&setTimeout((function(){Modernizr._trigger(ns,Modernizr[ns])}),0)},ModernizrProto._trigger=function(ns,jr){if(this._l[ns]){var Oo=this._l[ns];setTimeout((function(){var Mo;for(Mo=0;Mo<Oo.length;Mo++)(0,Oo[Mo])(jr)}),0),delete this._l[ns]}},Modernizr._q.push((function(){ModernizrProto.addTest=addTest})),Modernizr.addTest("blobconstructor",(function(){try{return!!new Blob}catch{return!1}}),{aliases:["blob-constructor"]}),Modernizr.addAsyncTest((function(){var ns,jr=["read","readText","write","writeText"];if(navigator.clipboard){addTest("clipboard",!0);for(var Oo=0;Oo<jr.length;Oo++)ns=!!navigator.clipboard[jr[Oo]],addTest("clipboard."+jr[Oo].toLowerCase(),ns)}else addTest("clipboard",!1)})),Modernizr.addTest("cookies",(function(){try{document.cookie="cookietest=1";var ns=document.cookie.indexOf("cookietest=")!==-1;return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",ns}catch{return!1}})),Modernizr.addTest("cors","XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest);var omPrefixes="Moz O ms Webkit",cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var modElem={elem:createElement("modernizr")};Modernizr._q.push((function(){delete modElem.elem}));var mStyle={style:modElem.elem.style};Modernizr._q.unshift((function(){delete mStyle.style}));var domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes,ModernizrProto.testAllProps=testPropsAll;var atRule=function(ns){var jr,Oo=prefixes.length,Mo=window.CSSRule;if(Mo===void 0)return undefined$1;if(!ns)return!1;if((jr=(ns=ns.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in Mo)return"@"+ns;for(var Di=0;Di<Oo;Di++){var Qi=prefixes[Di];if(Qi.toUpperCase()+"_"+jr in Mo)return"@-"+Qi.toLowerCase()+"-"+ns}return!1};ModernizrProto.atRule=atRule;var prefixed=ModernizrProto.prefixed=function(ns,jr,Oo){return ns.indexOf("@")===0?atRule(ns):(ns.indexOf("-")!==-1&&(ns=cssToDOM(ns)),jr?testPropsAll(ns,jr,Oo):testPropsAll(ns,"pfx"))},crypto=prefixed("crypto",window);Modernizr.addTest("crypto",!!prefixed("subtle",crypto)),Modernizr.addTest("customelements","customElements"in window),Modernizr.addTest("customevent","CustomEvent"in window&&typeof window.CustomEvent=="function"),Modernizr.addTest("dataview",typeof DataView<"u"&&"getFloat64"in DataView.prototype),Modernizr.addAsyncTest((function(){var ns=new Image;ns.onerror=function(){addTest("exiforientation",!1)},ns.onload=function(){addTest("exiforientation",ns.width!==2)},ns.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="})),Modernizr.addAsyncTest((function(){var ns;try{ns=prefixed("indexedDB",window)}catch{}if(ns){var jr,Oo="modernizr-"+Math.random();try{jr=ns.open(Oo)}catch{return void addTest("indexeddb",!1)}jr.onerror=function(Mo){!jr.error||jr.error.name!=="InvalidStateError"&&jr.error.name!=="UnknownError"?(addTest("indexeddb",!0),detectDeleteDatabase(ns,Oo)):(addTest("indexeddb",!1),Mo.preventDefault())},jr.onsuccess=function(){addTest("indexeddb",!0),detectDeleteDatabase(ns,Oo)}}else addTest("indexeddb",!1)})),Modernizr.addTest("proxy","Proxy"in window),Modernizr.addTest("serviceworker","serviceWorker"in navigator),Modernizr.addTest("textencoder",!(!window.TextEncoder||!window.TextEncoder.prototype.encode)),Modernizr.addTest("textdecoder",!(!window.TextDecoder||!window.TextDecoder.prototype.decode)),Modernizr.addTest("typedarrays","ArrayBuffer"in window),Modernizr.addTest("webanimations","animate"in createElement("div")),Modernizr.addTest("webgl",(function(){return"WebGLRenderingContext"in window})),ModernizrProto.testAllProps=testAllProps,Modernizr.addTest("backgroundcliptext",(function(){return testAllProps("backgroundClip","text")})),Modernizr.addTest("borderimage",testAllProps("borderImage","url() 1",!0)),Modernizr.addTest("cssgridlegacy",testAllProps("grid-columns","10px",!0)),Modernizr.addTest("cssgrid",testAllProps("grid-template-rows","none",!0));var supportsFn=window.CSS&&window.CSS.supports.bind(window.CSS)||window.supportsCSS;Modernizr.addTest("customproperties",!!supportsFn&&(supportsFn("--f:0")||supportsFn("--f",0))),Modernizr.addTest("flexgap",(function(){var ns=createElement("div");ns.style.display="flex",ns.style.flexDirection="column",ns.style.rowGap="1px",ns.appendChild(createElement("div")),ns.appendChild(createElement("div")),docElement.appendChild(ns);var jr=ns.scrollHeight===1;return ns.parentNode.removeChild(ns),jr})),Modernizr.addTest("focuswithin",(function(){try{document.querySelector(":focus-within")}catch{return!1}return!0})),Modernizr.addTest("hsla",(function(){var ns=createElement("a").style;return ns.cssText="background-color:hsla(120,40%,100%,.5)",contains(ns.backgroundColor,"rgba")||contains(ns.backgroundColor,"hsla")})),Modernizr.addTest("cssmask",testAllProps("maskRepeat","repeat-x",!0));var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes,Modernizr.addTest("csspositionsticky",(function(){var ns="position:",jr=createElement("a").style;return jr.cssText=ns+prefixes.join("sticky;"+ns).slice(0,-9),jr.position.indexOf("sticky")!==-1})),Modernizr.addTest("rgba",(function(){var ns=createElement("a").style;return ns.cssText="background-color:rgba(150,255,150,.5)",(""+ns.backgroundColor).indexOf("rgba")>-1})),Modernizr.addTest("intersectionobserver","IntersectionObserver"in window),Modernizr.addTest("mutationobserver",!!window.MutationObserver||!!window.WebKitMutationObserver),Modernizr.addTest("passiveeventlisteners",(function(){var ns=!1;try{var jr=Object.defineProperty({},"passive",{get:function(){ns=!0}}),Oo=function(){};window.addEventListener("testPassiveEventSupport",Oo,jr),window.removeEventListener("testPassiveEventSupport",Oo,jr)}catch{}return ns})),Modernizr.addTest("shadowroot","attachShadow"in createElement("div")),Modernizr.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),Modernizr.addTest("arrow",(function(){try{eval("()=>{}")}catch(ns){return!1}return!0})),Modernizr.addTest("class",(function(){try{eval("class A{}")}catch(ns){return!1}return!0})),Modernizr.addTest("es6collections",!!(window.Map&&window.Set&&window.WeakMap&&window.WeakSet)),Modernizr.addTest("generators",(function(){try{new Function("function* test() {}")()}catch{return!1}return!0})),Modernizr.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),Modernizr.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),Modernizr.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),Modernizr.addTest("promises",(function(){return"Promise"in window&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&(function(){var ns;return new window.Promise((function(jr){ns=jr})),typeof ns=="function"})()})),Modernizr.addTest("restparameters",(function(){try{eval("function f(...rest) {}")}catch(ns){return!1}return!0})),Modernizr.addTest("spreadarray",(function(){try{eval("(function f(){})(...[1])")}catch(ns){return!1}return!0})),Modernizr.addTest("stringtemplate",(function(){try{return eval("(function(){var a=1; return `-${a}-`;})()")==="-1-"}catch(ns){return!1}})),Modernizr.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),Modernizr.addTest("es6symbol",!!(typeof Symbol=="function"&&Symbol.for&&Symbol.hasInstance&&Symbol.isConcatSpreadable&&Symbol.iterator&&Symbol.keyFor&&Symbol.match&&Symbol.prototype&&Symbol.replace&&Symbol.search&&Symbol.species&&Symbol.split&&Symbol.toPrimitive&&Symbol.toStringTag&&Symbol.unscopables)),Modernizr.addTest("es7array",!(!Array.prototype||!Array.prototype.includes)),Modernizr.addTest("restdestructuringarray",(function(){try{eval("var [...rest]=[1]")}catch(ns){return!1}return!0})),Modernizr.addTest("restdestructuringobject",(function(){try{eval("var {...rest}={a:1}")}catch(ns){return!1}return!0})),Modernizr.addTest("spreadobject",(function(){try{eval("var a={...{b:1}}")}catch(ns){return!1}return!0})),Modernizr.addTest("es8object",!(!Object.entries||!Object.values)),Modernizr.addTest("sandbox","sandbox"in createElement("iframe")),Modernizr.addTest("srcdoc","srcdoc"in createElement("iframe")),Modernizr.addTest("canvas",(function(){var ns=createElement("canvas");return!(!ns.getContext||!ns.getContext("2d"))})),Modernizr.addAsyncTest((function(){if(!Modernizr.canvas)return!1;var ns=new Image,jr=createElement("canvas"),Oo=jr.getContext("2d");ns.onload=function(){addTest("apng",(function(){return jr.getContext!==void 0&&(Oo.drawImage(ns,0,0),Oo.getImageData(0,0,1,1).data[3]===0)}))},ns.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="})),Modernizr.addTest("imgcrossorigin","crossOrigin"in createElement("img")),Modernizr.addTest("lazyloading","loading"in HTMLImageElement.prototype),Modernizr.addAsyncTest((function(){var ns,jr,Oo=createElement("img"),Mo="sizes"in Oo;!Mo&&"srcset"in Oo?(ns="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",jr=function(){addTest("sizes",Oo.width===2)},Oo.onload=jr,Oo.onerror=jr,Oo.setAttribute("sizes","9px"),Oo.srcset=ns+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 8w",Oo.src=ns):addTest("sizes",Mo)})),Modernizr.addTest("srcset","srcset"in createElement("img")),Modernizr.addAsyncTest((function(){function ns(Mo,Di,Qi){function Tc(_c){var xc=!(!_c||_c.type!=="load")&&$c.width===1;addTest(Mo,Mo==="webp"&&xc?new Boolean(xc):xc),Qi&&Qi(_c)}var $c=new Image;$c.onerror=Tc,$c.onload=Tc,$c.src=Di}var jr=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],Oo=jr.shift();ns(Oo.name,Oo.uri,(function(Mo){if(Mo&&Mo.type==="load")for(var Di=0;Di<jr.length;Di++)ns(jr[Di].name,jr[Di].uri)}))})),Modernizr.addTest("beacon","sendBeacon"in navigator),Modernizr.addTest("eventsource","EventSource"in window),Modernizr.addTest("fetch","fetch"in window),Modernizr.addTest("xhr2","XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest),Modernizr.addTest("scriptasync","async"in createElement("script")),Modernizr.addTest("scriptdefer","defer"in createElement("script")),Modernizr.addTest("localstorage",(function(){var ns="modernizr";try{return localStorage.setItem(ns,ns),localStorage.removeItem(ns),!0}catch{return!1}})),Modernizr.addTest("sessionstorage",(function(){var ns="modernizr";try{return sessionStorage.setItem(ns,ns),sessionStorage.removeItem(ns),!0}catch{return!1}})),Modernizr.addTest("urlsearchparams","URLSearchParams"in window);var domPrefixesAll=[""].concat(domPrefixes);ModernizrProto._domPrefixesAll=domPrefixesAll,Modernizr.addTest("peerconnection",!!prefixed("RTCPeerConnection",window)),Modernizr.addTest("datachannel",(function(){if(!Modernizr.peerconnection)return!1;for(var ns=0,jr=domPrefixesAll.length;ns<jr;ns++){var Oo=window[domPrefixesAll[ns]+"RTCPeerConnection"];if(Oo){var Mo=new Oo(null);return Mo.close(),"createDataChannel"in Mo}}return!1})),Modernizr.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),Modernizr.addTest("resizeobserver","ResizeObserver"in window),Modernizr.addTest("sharedworkers","SharedWorker"in window),Modernizr.addTest("webworkers","Worker"in window),testRunner(),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();scriptGlobalObject.Modernizr=Modernizr})(window,window,document);const FEATURE_MAP={Feature:{blob:{title:"Blob",keyPath:"blob"},clipboard:{title:"Clipboard",keyPath:"clipboard"},crypto:{title:"Crypto",keyPath:"crypto"},customelements:{title:"Custom Elements",keyPath:"custom-elements"},customevent:{title:"Custom Event",keyPath:"event/customevent"},dataview:{title:"DataView",keyPath:"dataview-api"},intersectionobserver:{title:"Intersection Observer",keyPath:"dom/intersection-observer"},mutationobserver:{title:"Mutation Observer",keyPath:"dom/mutationobserver"},passiveeventlisteners:{title:"Passive Event Listeners",keyPath:"dom/passiveeventlisteners"},serviceworker:{title:"Service Worker",keyPath:"serviceworker"},shadowroot:{title:"Shadow DOM",keyPath:"dom/shadowroot"},textencoder:{title:"TextEncoder & TextDecoder",keyPath:"textencoding"},typedarrays:{title:"Typed Arrays",keyPath:"typed-arrays"},webanimations:{title:"Web Animation",keyPath:"webanimations"},webgl:{title:"WebGL",keyPath:"webgl/webgl"},urlsearchparams:{title:"URLSearchParams",keyPath:"url/urlsearchparams"},datachannel:{title:"WebRTC/datachannel",keyPath:"webrtc/datachannel"},getusermedia:{title:"WebRTC/getusermedia",keyPath:"webrtc/getusermedia"},peerconnection:{title:"WebRTC/peerconnection",keyPath:"webrtc/peerconnection"},resizeobserver:{title:"Resizeobserver",keyPath:"window/resizeobserver"},sharedworkers:{title:"Shared Worker",keyPath:"workers/sharedworkers"},webworkers:{title:"Web Worker",keyPath:"workers/webworkers"}},Network:{cors:{title:"CORS",keyPath:"cors"},beacon:{title:"Beacon",keyPath:"network/beacon"},fetch:{title:"Fetch",keyPath:"network/fetch"},xhr2:{title:"XHR2",keyPath:"network/xhr2"}},Javascript:{es6array:{title:"ES6 Array",keyPath:"es6/array"},arrow:{title:"ES6 Arrow Function",keyPath:"es6/arrow"},es6class:{title:"ES6 Class",keyPath:"es6/class"},es6collections:{title:"ES6 Collections",keyPath:"es6/collections"},generators:{title:"ES6 Generators",keyPath:"es6/generators"},es6math:{title:"ES6 Math",keyPath:"es6/math"},es6number:{title:"ES6 Number",keyPath:"es6/number"},es6object:{title:"ES6 Object",keyPath:"es6/object"},promises:{title:"ES6 Promise",keyPath:"es6/promises"},restparameters:{title:"ES6 Rest Parameters",keyPath:"es6/rest-parameters"},spreadarray:{title:"ES6 Array Spread",keyPath:"es6/spread-array"},stringtemplate:{title:"ES6 String Template",keyPath:"es6/string-template"},es6string:{title:"ES6 String",keyPath:"es6/string"},es6symbol:{title:"ES6 Symbol",keyPath:"es6/symbol"},proxy:{title:"ES6 Proxy",keyPath:"proxy"},reflect:{title:"ES6 Reflect",customTest:`"Reflect" in window &&
      typeof window.Reflect === 'object' &&
      typeof Reflect.has === 'function' &&
      [
        'apply',
        'construct',
        'defineProperty',
        'deleteProperty',
        'getOwnPropertyDescriptor',
        'getPrototypeOf',
        'has',
        'isExtensible',
        'ownKeys',
        'preventExtensions',
        'setPrototypeOf',
      ].every((i) => Reflect.has(Reflect, i))`},es7array:{title:"ES7 Array",keyPath:"es7/array"},restdestructuringarray:{title:"ES7 Rest Destructuring",keyPath:"es7/rest-destructuring"},spreadobject:{title:"ES7 Object Spread",keyPath:"es7/spread-object"},es8object:{title:"ES8 Object",keyPath:"es8/object"},finally:{title:"ES9 Promise Finally",customTest:"<ES6 Promise> && !!Promise.prototype.finally"}},CSS:{backgroundcliptext:{title:"Background Clip Text",keyPath:"css/backgroundcliptext"},borderimage:{title:"Border Image",keyPath:"css/borderimage"},cssgrid:{title:"CSS Grid",keyPath:"css/cssgrid"},customproperties:{title:"Custom Properties",keyPath:"css/customproperties"},flexgap:{title:"Flex Gap",keyPath:"css/flexgap"},focuswithin:{title:"Focus Within",keyPath:"css/focuswithin"},hsla:{title:"HSLA",keyPath:"css/hsla"},cssmask:{title:"Mask",keyPath:"css/mask"},csspositionsticky:{title:"Position Sticky",keyPath:"css/positionsticky"},rgba:{title:"RGBA",keyPath:"css/rgba"}},Element:{sandbox:{title:"iframe/sandbox",keyPath:"iframe/sandbox"},srcdoc:{title:"iframe/srcdoc",keyPath:"iframe/srcdoc"},apng:{title:"img/apng",keyPath:"img/apng"},imgcrossorigin:{title:"img/crossorigin",keyPath:"img/crossorigin"},exiforientation:{title:"img/exif-orientation",keyPath:"img/exif-orientation"},lazyloading:{title:"img/lazyloading",keyPath:"img/lazyloading"},sizes:{title:"img/sizes",keyPath:"img/sizes"},srcset:{title:"img/srcset",keyPath:"img/srcset"},webp:{title:"img/webp",keyPath:"img/webp"},prefetch:{title:"link/prefetch",keyPath:"link/prefetch"},scriptasync:{title:"script/async",keyPath:"script/async"},scriptdefer:{title:"script/defer",keyPath:"script/defer"}},Storage:{cookies:{title:"Cookies",keyPath:"storage/cookies"},indexeddb:{title:"IndexedDB",keyPath:"storage/indexeddb"},localstorage:{title:"LocalStorage",keyPath:"storage/localstorage"},sessionstorage:{title:"SessionStorage",keyPath:"storage/sessionstorage"}}},GITHUB_BASE_URL="https://github.com/Modernizr/Modernizr/tree/master/feature-detects",asyncFeatureKey=["indexeddb","apng","avif","exiforientation","webp"];function computeAsyncFeature(ns){return new Promise((jr=>{Modernizr.on(ns,(Oo=>{jr(Oo)}))}))}async function computeResult(){const ns={Feature:[],Network:[],Javascript:[],CSS:[],Element:[],Storage:[]};getObjectKeys(FEATURE_MAP).forEach((jr=>{const Oo=FEATURE_MAP[jr],Mo=getObjectKeys(Oo).map((async Di=>{const Qi=Oo[Di];return Qi.keyPath&&(Qi.keyPath="".concat(GITHUB_BASE_URL,"/").concat(Qi.keyPath,".js")),asyncFeatureKey.indexOf(Di)>-1?Qi.supported=await computeAsyncFeature(Di):Qi.supported=Modernizr[Di],Qi}));ns[jr]=Mo}));for(const jr in ns)hasOwnProperty(ns,jr)&&(ns[jr]=await Promise.all(ns[jr]));return ns}window.Modernizr.addTest("finally",Modernizr.promises&&!!Promise.prototype.finally),window.Modernizr.addTest("reflect","Reflect"in window&&typeof window.Reflect=="object"&&typeof Reflect.has=="function"&&["apply","construct","defineProperty","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf"].every((ns=>Reflect.has(Reflect,ns))));class SystemPlugin{constructor(){_defineProperty(this,"name","SystemPlugin"),_defineProperty(this,"$pageSpyConfig",null),_defineProperty(this,"_cache",null)}onInit(jr){let{config:Oo}=jr;SystemPlugin.hasInitd||(SystemPlugin.hasInitd=!0,this.$pageSpyConfig=Oo,this.onceInitPublicData(),socketStore.addListener("refresh",(async(Mo,Di)=>{let{source:Qi}=Mo;const{data:Tc}=Qi;if(Tc==="system"){const $c=await this.getSystemInfo();if($c===null)return;Di($c)}})),socketStore.addListener("harbor-clear",(()=>{this.onceInitPublicData()})))}async onceInitPublicData(){const jr=await this.getSystemInfo();jr!==null&&socketStore.dispatchEvent("public-data",jr)}onReset(){SystemPlugin.hasInitd=!1}async getSystemInfo(){var jr,Oo;if(!this._cache){const Mo=await computeResult();this._cache={system:{ua:navigator.userAgent},features:Mo}}return((jr=this.$pageSpyConfig)===null||jr===void 0||(jr=jr.dataProcessor)===null||jr===void 0||(Oo=jr.system)===null||Oo===void 0?void 0:Oo.call(jr,this._cache))===!1?null:makeMessage("system",this._cache)}}_defineProperty(SystemPlugin,"hasInitd",!1);class PagePlugin{constructor(){_defineProperty(this,"name","PagePlugin"),_defineProperty(this,"$pageSpyConfig",null)}onInit(jr){let{config:Oo}=jr;PagePlugin.hasInitd||(PagePlugin.hasInitd=!0,this.$pageSpyConfig=Oo,socketStore.addListener("refresh",((Mo,Di)=>{let{source:Qi}=Mo;const{data:Tc}=Qi;if(Tc==="page"){var $c,_c;const xc=PagePlugin.collectHtml();if((($c=this.$pageSpyConfig)===null||$c===void 0||($c=$c.dataProcessor)===null||$c===void 0||(_c=$c.page)===null||_c===void 0?void 0:_c.call($c,xc))===!1)return;const Ec=makeMessage("page",xc);socketStore.dispatchEvent("public-data",Ec),Di(Ec)}})))}onReset(){PagePlugin.hasInitd=!1}static collectHtml(){return{html:document.documentElement.outerHTML,location:window.location}}}_defineProperty(PagePlugin,"hasInitd",!1);class StoragePlugin{constructor(){_defineProperty(this,"name","StoragePlugin"),_defineProperty(this,"originSetItem",null),_defineProperty(this,"originRemoveItem",null),_defineProperty(this,"originClear",null),_defineProperty(this,"cookieStoreChangeListener",null),_defineProperty(this,"$pageSpyConfig",null)}onInit(jr){let{config:Oo}=jr;StoragePlugin.hasInitd||(StoragePlugin.hasInitd=!0,this.$pageSpyConfig=Oo,this.listenRefreshEvent(),this.onceInitPublicData(),this.initStorageProxy(),socketStore.addListener("harbor-clear",(()=>{this.onceInitPublicData()})))}onReset(){this.originClear&&(Storage.prototype.clear=this.originClear),this.originRemoveItem&&(Storage.prototype.removeItem=this.originRemoveItem),this.originSetItem&&(Storage.prototype.setItem=this.originSetItem),this.cookieStoreChangeListener&&window.cookieStore&&window.cookieStore.removeEventListener("change",this.cookieStoreChangeListener),StoragePlugin.hasInitd=!1}async sendRefresh(jr){let Oo=null;switch(jr){case"localStorage":case"sessionStorage":Oo=this.takeStorage(jr);break;case"cookie":Oo=await this.takeCookie()}Oo&&this.sendStorageItem(Oo)}listenRefreshEvent(){socketStore.addListener("refresh",(async jr=>{let{source:Oo}=jr;const{data:Mo}=Oo;this.sendRefresh(Mo)}))}takeStorage(jr){const Oo={type:jr,action:"get",data:[]},Mo=window[jr],Di=Mo.length;if(!Di)return Oo;for(let Qi=0;Qi<=Di-1;Qi++){const Tc=Mo.key(Qi);if(Tc){const $c=Mo.getItem(Tc)||"";Oo.data.push({name:Tc,value:$c})}}return Oo}async takeCookie(){const jr={type:"cookie",action:"get",data:[]};return window.cookieStore?jr.data=await window.cookieStore.getAll():document.cookie&&(jr.data=document.cookie.split("; ").map((Oo=>{const[Mo,Di]=Oo.split("=");return{name:Mo,value:Di}}))),jr}initStorageProxy(){const{clear:jr,removeItem:Oo,setItem:Mo}=Storage.prototype;this.originClear=jr,this.originRemoveItem=Oo,this.originSetItem=Mo;const Di=this;Storage.prototype.clear=function(){jr.call(this);const Qi={type:Di.getStorageType(this),action:"clear"};Di.sendStorageItem(Qi)},Storage.prototype.removeItem=function(Qi){Oo.call(this,Qi);const Tc={type:Di.getStorageType(this),action:"remove",name:String(Qi)};Di.sendStorageItem(Tc)},Storage.prototype.setItem=function(Qi,Tc){Mo.call(this,Qi,Tc);const $c={type:Di.getStorageType(this),action:"set",name:String(Qi),value:String(Tc)};Di.sendStorageItem($c)},window.cookieStore&&(this.cookieStoreChangeListener=Qi=>{const{changed:Tc,deleted:$c}=Qi;Tc.length>0&&Tc.forEach((_c=>{const xc={type:"cookie",action:"set",..._c};this.sendStorageItem(xc)})),$c.length>0&&$c.forEach((_c=>{const xc={type:"cookie",action:"remove",name:_c.name};this.sendStorageItem(xc)}))},window.cookieStore.addEventListener("change",this.cookieStoreChangeListener))}async onceInitPublicData(){(await Promise.all([this.takeStorage("localStorage"),this.takeStorage("sessionStorage"),this.takeCookie()])).forEach((jr=>{var Oo,Mo;if(((Oo=this.$pageSpyConfig)===null||Oo===void 0||(Oo=Oo.dataProcessor)===null||Oo===void 0||(Mo=Oo.storage)===null||Mo===void 0?void 0:Mo.call(Oo,jr))===!1)return;const Di=makeMessage("storage",jr);socketStore.dispatchEvent("public-data",Di)}))}getStorageType(jr){return jr===localStorage?"localStorage":jr===sessionStorage?"sessionStorage":jr.constructor.name}sendStorageItem(jr){var Oo,Mo;if(((Oo=this.$pageSpyConfig)===null||Oo===void 0||(Oo=Oo.dataProcessor)===null||Oo===void 0||(Mo=Oo.storage)===null||Mo===void 0?void 0:Mo.call(Oo,jr))===!1)return;const Di=makeMessage("storage",jr);socketStore.dispatchEvent("public-data",Di),socketStore.broadcastMessage(Di,!0)}}function promisify(ns){return new Promise(((jr,Oo)=>{ns.addEventListener("success",(()=>{jr(ns.result)})),ns.addEventListener("error",(()=>{Oo()}))}))}_defineProperty(StoragePlugin,"hasInitd",!1);class DatabasePlugin{constructor(){_defineProperty(this,"name","DatabasePlugin"),_defineProperty(this,"originAdd",null),_defineProperty(this,"originPut",null),_defineProperty(this,"originDelete",null),_defineProperty(this,"originClear",null),_defineProperty(this,"originDrop",null),_defineProperty(this,"$pageSpyConfig",null)}static get isSupport(){return!!(IDBFactory&&IDBObjectStore&&window.indexedDB&&window.indexedDB.databases)}onInit(jr){let{config:Oo}=jr;DatabasePlugin.isSupport&&(DatabasePlugin.hasInitd||(DatabasePlugin.hasInitd=!0,this.$pageSpyConfig=Oo,this.listenEvents(),this.initIndexedDBProxy()))}onReset(){this.originAdd&&(IDBObjectStore.prototype.add=this.originAdd),this.originPut&&(IDBObjectStore.prototype.put=this.originPut),this.originClear&&(IDBObjectStore.prototype.clear=this.originClear),this.originDelete&&(IDBObjectStore.prototype.delete=this.originDelete),this.originDrop&&(IDBFactory.prototype.deleteDatabase=this.originDrop),DatabasePlugin.hasInitd=!1}listenEvents(){socketStore.addListener("refresh",(async jr=>{let{source:Oo}=jr;if(Oo.data==="indexedDB"){const Mo={action:"basic",result:await this.takeBasicInfo()};this.sendData(Mo)}})),socketStore.addListener("database-pagination",(async jr=>{let{source:Oo}=jr;const{db:Mo,store:Di,page:Qi}=Oo.data,Tc=await this.getStoreDataWithPagination({db:Mo,store:Di,page:Qi});this.sendData(Tc)}))}initIndexedDBProxy(){const{put:jr,add:Oo,delete:Mo,clear:Di}=IDBObjectStore.prototype;this.originAdd=Oo,this.originPut=jr,this.originDelete=Mo,this.originClear=Di;const Qi=this;[{origin:jr,method:"put"},{origin:Oo,method:"add"},{origin:Mo,method:"delete"},{origin:Di,method:"clear"}].forEach(($c=>{let{origin:_c,method:xc}=$c;IDBObjectStore.prototype[xc]=function(){for(var Ec=arguments.length,Pc=new Array(Ec),Ac=0;Ac<Ec;Ac++)Pc[Ac]=arguments[Ac];const Oc=_c.apply(this,Pc),Mc={action:xc==="clear"?"clear":"update",database:this.transaction.db.name,store:this.name};return Oc.addEventListener("success",(()=>{Qi.sendData(Mc)})),Oc}}));const Tc=IDBFactory.prototype.deleteDatabase;this.originDrop=Tc,IDBFactory.prototype.deleteDatabase=function($c){const _c=Tc.call(this,$c),xc={action:"drop",database:$c};return _c.addEventListener("success",(()=>{Qi.sendData(xc)})),_c}}async takeBasicInfo(){const jr=await window.indexedDB.databases();if(!jr.length)return null;const Oo=jr.filter((Di=>Di.name&&Di.version));return Oo.length?(await Promise.all(Oo.map((Di=>this.getDBData(Di))))).filter(Boolean):null}async getDBData(jr){try{const Oo={name:jr.name,version:jr.version,stores:[]},Mo=await promisify(window.indexedDB.open(jr.name,jr.version));if(Mo.objectStoreNames.length){const Di=[...Mo.objectStoreNames].map((Qi=>Mo.transaction(Qi,"readonly").objectStore(Qi)));Oo.stores=Di.map((Qi=>{const{name:Tc,keyPath:$c,autoIncrement:_c,indexNames:xc}=Qi;return{name:Tc,keyPath:$c,autoIncrement:_c,indexes:[...xc]}}))}return Oo}catch(Oo){return psLog.error("Failed to get indexedDB data, more info: ".concat(Oo.message)),null}}async getStoreDataWithPagination(jr){let{db:Oo,store:Mo,page:Di}=jr;const Qi={action:"get",database:null,store:null,page:{current:Di,prev:null,next:null},total:0,data:[]};if(Di<1)return Qi;const Tc=await promisify(window.indexedDB.open(Oo)),$c=Tc.transaction(Mo,"readonly").objectStore(Mo);Qi.database={name:Tc.name,version:Tc.version},Qi.store={name:$c.name,keyPath:$c.keyPath,autoIncrement:$c.autoIncrement,indexes:[...$c.indexNames]},Qi.total=await promisify($c.count());const _c=50*(Di-1),xc=50*Di;Qi.page.prev=Di>1?Di-1:null,Qi.page.next=_c+50<Qi.total?Di+1:null;let Ec=0;const Pc=$c.openCursor();return new Promise(((Ac,Oc)=>{Pc.addEventListener("success",(()=>{const Mc=Pc.result;Mc?(Ec>=_c&&Ec<xc&&Qi.data.push({key:Mc.key,value:Mc.value}),Ec++,Mc.continue()):Ac(Qi)})),Pc.addEventListener("error",Oc)}))}sendData(jr){var Oo,Mo;if(((Oo=this.$pageSpyConfig)===null||Oo===void 0||(Oo=Oo.dataProcessor)===null||Oo===void 0||(Mo=Oo.database)===null||Mo===void 0?void 0:Mo.call(Oo,jr))===!1)return;const Di=makeMessage("database",jr);socketStore.broadcastMessage(Di,!0),["update","clear","drop"].includes(jr.action)&&socketStore.dispatchEvent("public-data",Di)}}_defineProperty(DatabasePlugin,"hasInitd",!1);const joinQuery=ns=>{const jr=new URLSearchParams;return Object.entries(ns).forEach((Oo=>{let[Mo,Di]=Oo;jr.append(Mo,String(Di))})),jr.toString()};class Request{constructor(jr){if(this.config=jr,!jr.api)throw Error("The api base url cannot be empty")}get base(){return this.config.api}getScheme(){return this.config.enableSSL?["https://","wss://"]:["http://","ws://"]}createRoom(){const{project:jr,title:Oo,useSecret:Mo,secret:Di}=this.config,Qi=this.getScheme(),Tc=joinQuery({name:navigator.userAgent,group:jr,title:Oo});return fetch("".concat(Qi[0]).concat(this.base,"/api/v1/room/create?").concat(Tc),{method:"POST",body:JSON.stringify({useSecret:Mo,secret:Di})}).then(($c=>$c.json())).then(($c=>{const{name:_c,address:xc}=$c.data||{};return{roomUrl:this.getRoomUrl(xc),address:xc,name:_c}})).catch(($c=>{throw Error("Request create room failed: ".concat($c.message))}))}getRoomUrl(jr){const Oo=this.getScheme(),{useSecret:Mo,secret:Di}=this.config;return"".concat(Oo[1]).concat(this.base,"/api/v1/ws/room/join?").concat(joinQuery({address:jr,name:"client:".concat(getRandomId()),userId:"Client",forceCreate:!0,useSecret:Mo,secret:Di}))}}const STICKY_RADIUS="50%",FULLY_RADIUS="100%",POSITION_CACHE_ID="page-spy-position";function getPosition(ns){return window.TouchEvent&&ns instanceof TouchEvent?ns.touches[0]:ns}function moveable(ns){const jr=localStorage.getItem(POSITION_CACHE_ID);if(jr){const[Ec,Pc]=jr.split(",");+Ec<window.innerWidth&&+Pc<window.innerHeight&&(ns.style.left="".concat(Ec,"px"),ns.style.top="".concat(Pc,"px"))}let Oo,Mo;const Di={xAxis:0,yAxis:0},Qi={x:0,y:0};function Tc(){if(!Di.xAxis&&!Di.yAxis)return;const{left:Ec,top:Pc}=ns.getBoundingClientRect();Ec>0&&Ec<Di.xAxis&&Pc>0&&Pc<Di.yAxis?ns.isHidden=!1:(Oo&&clearTimeout(Oo),Oo=setTimeout((()=>{Oo=null,ns.disableHidden||(Ec<=0?ns.classList.add("hidden-in-left"):Ec>=Di.xAxis&&ns.classList.add("hidden-in-right"),Pc<=0?ns.classList.add("hidden-in-top"):Pc>=Di.yAxis&&ns.classList.add("hidden-in-bottom"),ns.isHidden=!0)}),1e3))}function $c(Ec){Ec.preventDefault();const{clientX:Pc,clientY:Ac}=getPosition(Ec),Oc=Pc-Qi.x,Mc=Ac-Qi.y;if([Oc,Mc].some((Dc=>Math.abs(Dc)>5))&&!ns.isMoveEvent&&(ns.isMoveEvent=!0,Ec.type==="mousemove")){const Dc=Nc=>{Nc.stopImmediatePropagation(),ns.removeEventListener("click",Dc,!0)};ns.addEventListener("click",Dc,!0)}let Rc=Mo.x+Oc;Rc<=0?(Rc=0,ns.style.setProperty("--left-radius",STICKY_RADIUS)):Rc>=Di.xAxis?(Rc=Di.xAxis,ns.style.setProperty("--right-radius",STICKY_RADIUS)):(ns.style.setProperty("--left-radius",FULLY_RADIUS),ns.style.setProperty("--right-radius",FULLY_RADIUS));let Uc=Mo.y+Mc;Uc<=0?(Uc=0,ns.style.setProperty("--top-radius",STICKY_RADIUS)):Uc>Di.yAxis?(Uc=Di.yAxis,ns.style.setProperty("--bottom-radius",STICKY_RADIUS)):(ns.style.setProperty("--top-radius",FULLY_RADIUS),ns.style.setProperty("--bottom-radius",FULLY_RADIUS)),ns.style.left="".concat(Rc,"px"),ns.style.top="".concat(Uc,"px")}function _c(){Qi.x=0,Qi.y=0;const{left:Ec,top:Pc}=ns.getBoundingClientRect();localStorage.setItem(POSITION_CACHE_ID,"".concat(Ec,",").concat(Pc)),ns.isMoveEvent=!1,Tc(),document.body.classList.remove("dragging"),document.removeEventListener("mousemove",$c),document.removeEventListener("mouseup",_c),document.removeEventListener("touchmove",$c),document.removeEventListener("touchend",_c)}function xc(Ec){Ec.stopPropagation(),Oo&&clearTimeout(Oo),ns.isHidden&&ns.classList.remove("hidden-in-top","hidden-in-right","hidden-in-bottom","hidden-in-left"),ns.isMoveEvent=!1,Mo=ns.getBoundingClientRect(),Di.xAxis=window.innerWidth-Mo.width,Di.yAxis=window.innerHeight-Mo.height;const{clientX:Pc,clientY:Ac}=getPosition(Ec);Qi.x=Pc,Qi.y=Ac,document.body.classList.add("dragging"),document.addEventListener("mousemove",$c,!1),document.addEventListener("mouseup",_c,!1),document.addEventListener("touchmove",$c,{capture:!1,passive:!1}),document.addEventListener("touchend",_c,!1)}ns.addEventListener("mousedown",xc,!1),ns.addEventListener("touchstart",xc,!1),ns.addEventListener("mouseover",(()=>{ns.disableHidden=!0,ns.isHidden&&ns.classList.remove("hidden-in-top","hidden-in-right","hidden-in-bottom","hidden-in-left")}),!1),ns.addEventListener("mouseleave",(()=>{ns.disableHidden=!1,ns.isMoveEvent||Tc()}),!1)}var img$3="data:image/svg+xml,%3csvg width='255' height='255' viewBox='0 0 255 255' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M183 24L81 126V141.5L90 150.5H105L145 110.5H160.5L169.5 119.5V133.5L72 231' stroke='url(%23paint0_linear_106_8)' stroke-width='25' stroke-linecap='round' /%3e %3cdefs%3e %3clinearGradient id='paint0_linear_106_8' x1='127.5' y1='24' x2='127.5' y2='231' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%233D0C7C' /%3e %3cstop offset='0.519204' stop-color='%234E00B1' /%3e %3cstop offset='1' stop-color='%23EFDFFF' /%3e %3c/linearGradient%3e %3c/defs%3e%3c/svg%3e",img$2="data:image/svg+xml,%3csvg width='250' height='250' viewBox='0 0 250 250' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M62.7935 118.088L173.383 7.49889L174.046 6.83527C179.024 1.85756 187.095 1.85756 192.072 6.83527C197.028 11.7914 197.053 19.8192 192.127 24.8057L89.0585 129.147V133.294L91.8232 136.059H95.9703L138.164 93.8963L163.706 94.588L181.677 112.559V137.441L75.926 243.192C70.9635 248.155 62.9177 248.155 57.9552 243.192C52.9927 238.23 52.9928 230.184 57.9552 225.222L155.412 127.765V123.618L152.647 120.853H148.5L107.029 162.324H79.3819L62.7935 145.735V118.088Z' fill='white' /%3e%3c/svg%3e",_document$currentScri;const nodeId="__pageSpy",schema=extendConfigSchema((ns=>ns.object({clientOrigin:ns.string().refine((jr=>jr===""||/^https?:\/\//i.test(jr)),{message:"Invalid url"}),autoRender:ns.boolean(),logo:ns.string(),primaryColor:ns.string(),modal:ns.object({logo:ns.string(),title:ns.string()}).partial().strict(),gesture:ns.nullable(ns.array(ns.union([ns.literal("U"),ns.literal("D"),ns.literal("L"),ns.literal("R")])).min(4)),lang:ns.enum(["zh","en"])}).partial().strict()));class Config extends ConfigBase{constructor(){super(...arguments),_defineProperty(this,"schema",schema.superRefine(((jr,Oo)=>{jr.offline===!1&&(jr.api&&jr.clientOrigin||Oo.addIssue({code:"custom",message:'Must provide value when "offline" is false',path:[jr.api?"clientOrigin":"api"]}))})))}get platform(){const jr={clientOrigin:"",autoRender:!0,logo:img$3,primaryColor:"hsl(270, 100%, 55%)",modal:{logo:img$2,title:"PageSpy"},gesture:null,lang:"zh"};if(!Config.scriptLink)return jr;try{const{host:Oo,origin:Mo,protocol:Di}=new URL(Config.scriptLink);return{...jr,api:Oo,clientOrigin:Mo,enableSSL:Di!=="http:"}}catch{return jr}}}_defineProperty(Config,"scriptLink",(_document$currentScri=document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src);var css_248z$2=`.toast-d8zWd {
  position: fixed;
  left: 50%;
  top: 10%;
  transform: translate(-50%, 0);
  display: flex;
  gap: var(--gap);
  align-items: center;
  max-width: 50vw;
  min-height: 2.29em;
  padding: var(--input-padding);
  font-size: var(--text-base);
  line-height: 1;
  color: white;
  font-family: var(--font-family);
  background-color: var(--primary-color);
  border-radius: 0.29em;
  box-shadow: var(--dark-shadow);
  z-index: 99999;
  opacity: 0;
}
.toast-d8zWd.show-IlurC {
  opacity: 1;
}
.toast-d8zWd.show-IlurC {
  animation: slideIn-4mB0Y 0.3s ease-in-out forwards;
}
@keyframes slideIn-4mB0Y {
  0% {
    transform: translate3d(-50%, 1.79em, 0);
    opacity: 0;
  }
  80% {
    transform: translate3d(-50%, -0.71em, 0);
  }
  100% {
    transform: translate3d(-50%, 0, 0);
    opacity: 1;
  }
}
`,classes$2={toast:"toast-d8zWd",show:"show-IlurC"};(function(){const ns=document.createElement("style");ns.setAttribute("data-page-spy-style","true"),ns.textContent=css_248z$2,window.pageSpyStyles&&Array.isArray(window.pageSpyStyles)||(window.pageSpyStyles=[]),window.pageSpyStyles.push(ns)})();const successSvg=`
<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
  <path fill="currentColor" fill-rule="evenodd"
    d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 0 0 1.414 0l5.952-5.95l-1.062-1.062z" />
</svg>`,errorSvg=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
  <path fill="currentColor"
    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z" />
</svg>`,toastIconMap={success:successSvg,error:errorSvg};class Toast{static get root(){return document.querySelector("#".concat(nodeId))}static message(jr){if(!Toast.root)return;let Oo=jr;typeof Oo=="string"&&(Oo=document.createElement("div"),Oo.textContent=String(jr)),Oo.classList.add("page-spy-toast",classes$2.toast),Toast.root.appendChild(Oo),setTimeout((()=>{Oo.classList.add(classes$2.show)}),0);const Mo=setTimeout((()=>{var Di;(Di=Oo)===null||Di===void 0||Di.remove(),Toast.timer===Mo&&(Toast.timer=null)}),3e3);Toast.timer=Mo}static show(jr,Oo){const Mo=toastIconMap[jr],Di=new DOMParser().parseFromString(`
      <div class="`.concat(classes$2.withIcon,`">
        `).concat(Mo,`
        <div>`).concat(Oo,`</div>
      </div>`),"text/html").querySelector(".".concat(classes$2.withIcon));Toast.message(Di)}static destroy(){const jr=document.querySelectorAll(".page-spy-toast");jr.length&&([...jr].forEach((Oo=>{Oo.remove()})),Toast.timer&&clearTimeout(Toast.timer)),Toast.timer=null}}_defineProperty(Toast,"timer",null);var img$1="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3e %3cg fill='none' stroke='white' stroke-linecap='round' stroke-linejoin='round' stroke-width='2'%3e %3cpath d='M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z' /%3e %3cpath d='M4.012 16.737A2 2 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1' /%3e %3c/g%3e%3c/svg%3e",css_248z$1=`.modal-rlFLa {
  display: none;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 13000;
  font-size: var(--text-base);
  line-height: 1;
}
.modal-rlFLa.show {
  display: block;
}
.modal-rlFLa.show {
  animation: fadeIn-mXj-N 0.3s ease-in-out forwards;
}
@keyframes fadeIn-mXj-N {
  0% {
    background-color: hsla(0, 0%, 0%, 0);
  }
  100% {
    background-color: hsla(0, 0%, 0%, 0.3);
  }
}
.modal-rlFLa.show .content-KlWkz {
  animation: scaleIn-JuIZH 0.3s ease-in forwards;
}
@keyframes scaleIn-JuIZH {
  0% {
    opacity: 0;
    transform: translate3d(-50%, -50%, 0) scale(0.8);
  }
  70% {
    opacity: 1;
    transform: translate3d(-50%, -50%, 0) scale(1.1);
  }
  100% {
    transform: translate3d(-50%, -50%, 0) scale(1);
  }
}
.modal-rlFLa.leaving {
  display: block;
}
.modal-rlFLa.leaving {
  animation: fadeOut-daRKq 0.3s ease-in-out forwards;
}
@keyframes fadeOut-daRKq {
  0% {
    background-color: hsla(0, 0%, 0%, 0.3);
  }
  100% {
    background-color: hsla(0, 0%, 0%, 0);
  }
}
.modal-rlFLa.leaving .content-KlWkz {
  animation: scaleOut-8Pf5H 0.3s ease-out forwards;
}
@keyframes scaleOut-8Pf5H {
  0% {
    opacity: 1;
    transform: translate3d(-50%, -50%, 0) scale(1);
  }
  30% {
    transform: translate3d(-50%, -50%, 0) scale(1.1);
  }
  60% {
    opacity: 0;
    transform: translate3d(-50%, -50%, 0) scale(0.9);
  }
  100% {
    opacity: 0;
    transform: translate3d(-50%, -50%, 0) scale(0.9);
  }
}
.modal-rlFLa .content-KlWkz {
  position: absolute;
  left: 50%;
  top: 45%;
  transform: translate3d(-50%, -50%, 0);
  width: 90%;
  border-radius: 0.43em;
  overflow: hidden;
}
.modal-rlFLa .content-KlWkz ::selection {
  background-color: var(--primary-color);
  color: white;
}
@media screen and (min-width: 440px) {
  .modal-rlFLa .content-KlWkz {
    max-width: 70%;
  }
}
@media screen and (min-width: 768px) {
  .modal-rlFLa .content-KlWkz {
    max-width: 55%;
  }
}
@media screen and (min-width: 1024px) {
  .modal-rlFLa .content-KlWkz {
    max-width: 40%;
  }
}
@media screen and (min-width: 1440px) {
  .modal-rlFLa .content-KlWkz {
    max-width: 30%;
  }
}
@media screen and (min-width: 1920px) {
  .modal-rlFLa .content-KlWkz {
    max-width: 25%;
  }
}
.modal-rlFLa .header-M30Wi {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--block-padding);
  color: white;
  background-color: var(--primary-color);
}
.modal-rlFLa .header-M30Wi ::selection {
  background-color: #fff;
  color: var(--primary-color);
}
.modal-rlFLa .header-M30Wi .headerLeft-RfzaN {
  display: flex;
  align-items: center;
  gap: var(--gap-lg);
}
.modal-rlFLa .header-M30Wi .headerLeft-RfzaN .logo-OM-Sp {
  height: 2em;
}
.modal-rlFLa .header-M30Wi .headerLeft-RfzaN .title-J-P8k {
  font-size: var(--text-xl);
}
.modal-rlFLa .header-M30Wi .headerRight-Y8nGg {
  padding: 6px;
  cursor: pointer;
}
.modal-rlFLa .header-M30Wi .headerRight-Y8nGg .close-bRwD3 {
  width: 1.71em;
  height: 1.71em;
}
.modal-rlFLa .main-SA0Hu {
  padding: var(--block-padding);
  background-color: white;
}
.modal-rlFLa .footer-op1wT {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: var(--gap-lg);
  padding: var(--block-padding);
  border-top: 1px solid var(--divider-color);
  background-color: white;
}
.modal-rlFLa .footer-op1wT button {
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 4.29em;
  padding: var(--input-padding);
  gap: var(--gap);
  letter-spacing: 0.4px;
  border: var(--border);
  border-radius: 0.29em;
  background-color: white;
  color: var(--text-primary);
  cursor: pointer;
  white-space: nowrap;
  transition: all ease-in-out 100ms;
  font-size: var(--text-base);
}
.modal-rlFLa .footer-op1wT button[data-primary] {
  border-color: var(--primary-color);
  background-color: var(--primary-color);
  color: white;
}
.modal-rlFLa .footer-op1wT button[data-dashed] {
  border-style: dashed;
}
.modal-rlFLa .footer-op1wT button:disabled {
  border-color: var(--disabled-color);
  background-color: var(--disabled-color);
  color: white;
  cursor: not-allowed;
}
.modal-rlFLa .footer-op1wT button:active {
  opacity: 0.7;
}
.modal-rlFLa .footer-op1wT button img,
.modal-rlFLa .footer-op1wT button svg {
  width: 1.43em;
  height: 1.43em;
}
@media screen and (max-width: 440px) {
  .modal-rlFLa .footer-op1wT button img,
  .modal-rlFLa .footer-op1wT button svg {
    display: none;
  }
}
`,classes$1={modal:"modal-rlFLa",content:"content-KlWkz",header:"header-M30Wi",headerLeft:"headerLeft-RfzaN",logo:"logo-OM-Sp",title:"title-J-P8k",headerRight:"headerRight-Y8nGg",close:"close-bRwD3",main:"main-SA0Hu",footer:"footer-op1wT"};(function(){const ns=document.createElement("style");ns.setAttribute("data-page-spy-style","true"),ns.textContent=css_248z$1,window.pageSpyStyles&&Array.isArray(window.pageSpyStyles)||(window.pageSpyStyles=[]),window.pageSpyStyles.push(ns)})();var img="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24'%3e %3cpath fill='white' d='m12 13.4l-4.9 4.9q-.275.275-.7.275t-.7-.275t-.275-.7t.275-.7l4.9-4.9l-4.9-4.9q-.275-.275-.275-.7t.275-.7t.7-.275t.7.275l4.9 4.9l4.9-4.9q.275-.275.7-.275t.7.275t.275.7t-.275.7L13.4 12l4.9 4.9q.275.275.275.7t-.275.7t-.7.275t-.7-.275z' /%3e%3c/svg%3e";const eventBus=new EventTarget,defaultConfig={logo:"",title:"",content:document.createElement("div"),footer:[],mounted:document.body};class modal{constructor(){if(new.target===modal)throw new Error("Cannot call `new modal()`")}static get rendered(){return modal.config.mounted.contains(modal.root)}static query(jr){var Oo;return(Oo=modal.root)===null||Oo===void 0?void 0:Oo.querySelector(".".concat(jr))}static build(jr){modal.config={...modal.config,...jr},modal.root||(modal.root=new DOMParser().parseFromString(modal.template,"text/html").querySelector(".".concat(classes$1.modal)),modal.root.addEventListener("click",(Oo=>{Oo.stopPropagation(),modal.close()})),modal.query(classes$1.content).addEventListener("click",(Oo=>{Oo.stopPropagation(),Oo.preventDefault()})),modal.query(classes$1.headerRight).addEventListener("click",(()=>{modal.close()})),modal.query(classes$1.logo).setAttribute("src",modal.config.logo),modal.query(classes$1.title).textContent=modal.config.title)}static show(jr){var Oo,Mo;if(!modal.root)return void psLog.info("modal has not been ready.");const{content:Di,footer:Qi,mounted:Tc}=modal.config,$c=(Oo=jr?.content)!==null&&Oo!==void 0?Oo:Di,_c=(Mo=jr?.footer)!==null&&Mo!==void 0?Mo:Qi,xc=modal.query(classes$1.main),Ec=modal.query(classes$1.footer);xc.innerHTML="",isString($c)?xc.insertAdjacentHTML("afterbegin",$c):xc.appendChild($c),Ec.innerHTML="",_c.forEach((Pc=>{isString(Pc)?Ec.insertAdjacentHTML("beforeend",Pc):Ec.insertAdjacentElement("beforeend",Pc)})),modal.rendered||Tc.appendChild(modal.root),modal.root.classList.add("show"),eventBus.dispatchEvent(new Event("modal:show"))}static close(){modal.root&&modal.rendered&&(modal.root.classList.remove("show"),modal.root.classList.add("leaving"),setTimeout((()=>{var jr;(jr=modal.root)===null||jr===void 0||jr.classList.remove("leaving"),eventBus.dispatchEvent(new Event("modal:close"))}),300))}static reset(){modal.config=defaultConfig,modal.root=null}}_defineProperty(modal,"config",defaultConfig),_defineProperty(modal,"template",`
  <div class="`.concat(classes$1.modal,` page-spy-modal">
    <div class="`).concat(classes$1.content,` page-spy-modal-content">
      <!-- Header -->
      <div class="`).concat(classes$1.header,` page-spy-modal-header">
        <div class="`).concat(classes$1.headerLeft,`">
          <img class="`).concat(classes$1.logo,`" />
          <b class="`).concat(classes$1.title,`"></b>
        </div>
        <div class="`).concat(classes$1.headerRight,`">
          <img class="`).concat(classes$1.close,'" src="').concat(img,`" />
        </div>
      </div>

      <!-- Main content -->
      <div class="`).concat(classes$1.main,` page-spy-modal-main"></div>

      <!-- Footer -->
      <div class="`).concat(classes$1.footer,` page-spy-modal-footer"></div>
    </div>
  </div>
  `));var css_248z=`body.dragging {
  -webkit-user-select: none;
          user-select: none;
}
body.dragging iframe {
  pointer-events: none;
}
#__pageSpy {
  --hue: 270;
  --primary-color: hsl(var(--hue), 100%, 55%);
  --text-primary: hsl(0, 0%, 10%);
  --text-secondary: hsl(0, 0%, 30%);
  --text-placeholder: hsl(0, 0%, 60%);
  --divider-color: hsl(0, 0%, 90%);
  --border-color: hsl(0, 0%, 70%);
  --disabled-color: hsl(0, 0%, 75%);
  --text-base: 14px;
  --text-sm: 0.86em;
  --text-lg: 1.14em;
  --text-xl: 1.43em;
  --text-2xl: 1.71em;
  --text-3xl: 2.29em;
  --input-padding: 0.43em 0.57em;
  --input-padding-lg: 0.57em 0.86em;
  --block-padding: 1em;
  --gap: 0.29em;
  --gap-lg: 0.57em;
  --border: 1px solid var(--border-color);
  --border-active: 1px solid var(--primary-color);
  --light-shadow: 0 4px 10px 4px hsla(0, 0%, 100%, 0.1);
  --dark-shadow: 0 4px 10px 4px hsla(0, 0%, 0%, 0.1);
  --font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC',
      'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', sans-serif;
  font-size: var(--text-base);
  font-family: var(--font-family);
  line-height: 1;
}
#__pageSpy * {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}
#__pageSpy .page-spy-logo {
  --top-radius: 100%;
  --right-radius: 100%;
  --bottom-radius: 100%;
  --left-radius: 100%;
  position: fixed;
  right: 2.85714286em;
  bottom: 5.71428571em;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 5.71em;
  height: 5.71em;
  font-size: var(--text-base);
  border-radius: 5.71em;
  background-color: white;
  box-shadow: var(--dark-shadow);
  cursor: pointer;
  z-index: 13000;
  transition: opacity ease-in-out 0.3s, transform ease-in-out 0.3s, background-color ease-in-out 0.3s, filter ease-in-out 0.3s;
}
#__pageSpy .page-spy-logo.inactive {
  background-color: hsl(0, 0%, 70%);
  filter: grayscale(1);
}
#__pageSpy .page-spy-logo::after {
  content: '';
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transform: rotateZ(45deg);
  background-color: white;
  border-top-left-radius: var(--top-radius);
  border-top-right-radius: var(--right-radius);
  border-bottom-right-radius: var(--bottom-radius);
  border-bottom-left-radius: var(--left-radius);
  transition: border-radius linear 0.15s;
}
#__pageSpy .page-spy-logo .hidden-mixin {
  opacity: 0.35;
}
#__pageSpy .page-spy-logo.hidden-in-top {
  opacity: 0.35;
  transform: translateY(-65%);
}
#__pageSpy .page-spy-logo.hidden-in-top img {
  transform: translateY(30%);
}
#__pageSpy .page-spy-logo.hidden-in-right {
  opacity: 0.35;
  transform: translateX(65%);
}
#__pageSpy .page-spy-logo.hidden-in-right img {
  transform: translateX(-30%);
}
#__pageSpy .page-spy-logo.hidden-in-bottom {
  opacity: 0.35;
  transform: translateY(65%);
}
#__pageSpy .page-spy-logo.hidden-in-bottom img {
  transform: translateY(-30%);
}
#__pageSpy .page-spy-logo.hidden-in-left {
  opacity: 0.35;
  transform: translateX(-65%);
}
#__pageSpy .page-spy-logo.hidden-in-left img {
  transform: translateX(30%);
}
#__pageSpy .page-spy-logo img {
  position: relative;
  display: block;
  z-index: 100;
  transition: transform ease-in-out 0.1s 0.4s;
  width: 3.57em;
  pointer-events: none;
  -webkit-user-select: none;
          user-select: none;
}
.connectInfo-9svvO {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--gap);
}
.connectInfo-9svvO > p {
  flex: 1 0 0;
  text-align: center;
  word-break: break-word;
}
.connectInfo-9svvO > p span {
  font-size: var(--text-sm);
  color: var(--text-placeholder);
}
.connectInfo-9svvO > p b {
  display: block;
  margin-top: 0.86em;
  font-size: var(--text-lg);
  color: var(--text-primary);
}
`,classes={connectInfo:"connectInfo-9svvO"};(function(){const ns=document.createElement("style");ns.setAttribute("data-page-spy-style","true"),ns.textContent=css_248z,window.pageSpyStyles&&Array.isArray(window.pageSpyStyles)||(window.pageSpyStyles=[]),window.pageSpyStyles.push(ns)})();var version="2.2.10";const locales={zh:{copyLink:"å¤å¶å¨çº¿è°è¯é¾æ¥",copied:"å¤å¶æå",copyFailed:"å¤å¶å¤±è´¥"},en:{copyLink:"Copy online debug link",copied:"Copied",copyFailed:"Copy failed"}},i18n=new Translation({locales}),OriginEventSource=window.EventSource;class EventSourcePlugin extends WebNetworkProxyBase{constructor(){super(...arguments),_defineProperty(this,"name","EventSourcePlugin")}onInit(jr){let{config:Oo}=jr;EventSourcePlugin.hasInitd||(EventSourcePlugin.hasInitd=!0,NetworkProxyBase.dataProcessor=Oo.dataProcessor.network,this.initProxyHandler())}initProxyHandler(){if(!window.EventSource)return;const jr=this;window.EventSource=class{constructor(Oo,Mo){const Di=getRandomId(),Qi=new RequestItem(Di);Qi.url=new URL(Oo,window.location.href).toString(),Qi.method="GET",Qi.requestType="eventsource",Qi.requestHeader=[["Accept","text/event-stream"],["Cache-Control","no-cache"]],Qi.readyState=ReqReadyState.UNSENT,Qi.withCredentials=!!Mo?.withCredentials,Qi.responseHeader=[["Content-Type","text/event-stream"]],Qi.responseType="text",Qi.startTime=Date.now();const Tc=new OriginEventSource(Oo,Mo);return Tc.addEventListener("open",(()=>{Qi.readyState=ReqReadyState.OPENED,Qi.endTime=Date.now(),Qi.costTime=Qi.endTime-Qi.startTime,jr.sendRequestItem(Di,Qi)})),Tc.addEventListener("message",($c=>{let{data:_c,lastEventId:xc}=$c;Qi.status=200,Qi.statusText="Done",Qi.readyState=ReqReadyState.DONE,Qi.response=_c,Qi.lastEventId=xc,Qi.endTime=Date.now(),Qi.costTime=Qi.endTime-Qi.startTime,jr.sendRequestItem(Di,Qi)})),Tc.addEventListener("error",(()=>{Qi.status=400,Qi.readyState=ReqReadyState.DONE,Qi.endTime=Date.now(),Qi.costTime=Qi.endTime-Qi.startTime,jr.sendRequestItem(Di,Qi)})),Tc}}}onReset(){window.EventSource=OriginEventSource}}_defineProperty(EventSourcePlugin,"hasInitd",!1);const OriginWebSocket=window.WebSocket;class WebSocketPlugin extends WebNetworkProxyBase{constructor(){super(...arguments),_defineProperty(this,"name","WebSocketPlugin")}onInit(jr){let{config:Oo}=jr;WebSocketPlugin.hasInitd||(WebSocketPlugin.hasInitd=!0,NetworkProxyBase.dataProcessor=Oo.dataProcessor.network,this.initProxyHandler())}initProxyHandler(){if(!window.WebSocket)return;const jr=this;window.WebSocket=class extends OriginWebSocket{constructor(Oo,Mo){if(super(Oo,Mo),_defineProperty(this,"_requestId",null),_defineProperty(this,"_req",null),_defineProperty(this,"_lastEventId",0),!Oo.toString().includes(PAGE_SPY_WS_ENDPOINT)){if(this._requestId=getRandomId(),jr.createRequest(this._requestId),this._req=jr.getRequest(this._requestId),this._req.url=Oo.toString(),this._req.method="GET",this._req.requestType="websocket",this._req.requestHeader=[["Upgrade","websocket"],["Connection","Upgrade"],["Sec-WebSocket-Version","13"]],Mo){const Di=Array.isArray(Mo)?Mo.join(", "):Mo;this._req.requestHeader.push(["Sec-WebSocket-Protocol",Di])}this._req.readyState=ReqReadyState.UNSENT,this._req.startTime=Date.now(),this._req.response=null,this.setupEventListeners()}}setupEventListeners(){this.addEventListener("open",(()=>{this._req&&this._requestId&&(this._req.readyState=ReqReadyState.OPENED,this._req.status=101,this._req.statusText="Switching Protocols",this._req.endTime=Date.now(),this._req.costTime=this._req.endTime-this._req.startTime,this._req.responseHeader=[["Upgrade","websocket"],["Connection","Upgrade"]],jr.sendRequestItem(this._requestId,this._req))})),this.addEventListener("message",(Oo=>{if(!this._req||!this._requestId)return;const Mo={type:"receive",data:Oo.data,timestamp:Date.now()};this._req.readyState=ReqReadyState.DONE,this._req.status=200,this._req.statusText="OK",this._req.response=Mo,this._req.endTime=Date.now(),this._req.costTime=this._req.endTime-this._req.startTime,this._req.lastEventId=String(this._lastEventId++),jr.sendRequestItem(this._requestId,this._req)})),this.addEventListener("error",(()=>{this._req&&this._requestId&&(this._req.readyState=ReqReadyState.DONE,this._req.status=400,this._req.statusText="WebSocket Error",this._req.endTime=Date.now(),this._req.costTime=this._req.endTime-this._req.startTime,jr.sendRequestItem(this._requestId,this._req))})),this.addEventListener("close",(Oo=>{this._req&&this._requestId&&(this._req.readyState=ReqReadyState.DONE,this._req.status=Oo.code,this._req.statusText=Oo.reason||"Connection Closed",this._req.endTime=Date.now(),this._req.costTime=this._req.endTime-this._req.startTime,jr.sendRequestItem(this._requestId,this._req))}))}send(Oo){if(this._req&&this._requestId){const Mo={type:"send",data:this.formatSendData(Oo),timestamp:Date.now()};this._req.readyState=ReqReadyState.DONE,this._req.status=200,this._req.statusText="OK",this._req.response=Mo,this._req.lastEventId=String(this._lastEventId++),this._req.endTime=Date.now(),this._req.costTime=this._req.endTime-this._req.startTime,jr.sendRequestItem(this._requestId,this._req)}super.send(Oo)}formatSendData(Oo){return typeof Oo=="string"?Oo:Oo instanceof Blob?"[Blob data]":Oo instanceof ArrayBuffer||ArrayBuffer.isView(Oo)?"[Binary data]":String(Oo)}}}onReset(){window.WebSocket=OriginWebSocket}}_defineProperty(WebSocketPlugin,"hasInitd",!1);class PageSpy{static get pluginsWithOrder(){return[...PageSpy.plugins.pre,...PageSpy.plugins.normal,...PageSpy.plugins.post]}static registerPlugin(jr){if(!jr)return;if(isClass(jr))return void psLog.error("PageSpy.registerPlugin() expect to pass an instance, not a class");if(!jr.name)return void psLog.error("The ".concat(jr.constructor.name,' plugin should provide a "name" property'));if(PageSpy.pluginsWithOrder.some((Mo=>Mo.name===jr.name)))return void psLog.info("The ".concat(jr.name,` has registered. Consider the following reasons:
      - Duplicate register one same plugin;
      - Plugin's "name" conflict with others, you can print all registered plugins by "PageSpy.plugins";`));PageSpy.plugins[jr.enforce||"normal"].push(jr)}constructor(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(_defineProperty(this,"root",null),_defineProperty(this,"version",version),_defineProperty(this,"request",null),_defineProperty(this,"address",""),_defineProperty(this,"socketStore",socketStore),_defineProperty(this,"config",new Config),_defineProperty(this,"cacheTimer",null),_defineProperty(this,"eventBus",eventBus),_defineProperty(this,"visibilityChangeHandler",null),PageSpy.instance)return psLog.warn("Cannot initialize PageSpy multiple times"),PageSpy.instance;const Oo=this.config.mergeConfig(jr);Oo.gesture?a$2(Oo.gesture,(()=>{PageSpy.instance||this.init()})):this.init()}async init(){PageSpy.instance=this;const jr=this.config.get();jr.lang&&i18n.setLang(jr.lang),this.updateConfiguration(),this.triggerPlugins("onInit",{config:jr,socketStore}),jr.offline===!1&&(this.request=new Request(jr),this.cacheIsInvalid()?await this.createNewConnection():this.useOldConnection(),this.visibilityChangeHandler=()=>{!document.hidden&&socketStore.getSocket().getState()!==SocketState.OPEN&&socketStore.connectable&&this.useOldConnection()},document.addEventListener("visibilitychange",this.visibilityChangeHandler)),psLog.log("Plugins inited"),this.eventBus.dispatchEvent(new Event("core:inited")),jr.autoRender&&this.render()}updateConfiguration(){const{messageCapacity:jr,offline:Oo,useSecret:Mo}=this.config.get();if(Mo===!0){const Di=JSON.parse(sessionStorage.getItem(ROOM_SESSION_KEY));this.config.set("secret",Di?.secret||getAuthSecret())}socketStore.connectable=!Oo,socketStore.getPageSpyConfig=()=>this.config.get(),socketStore.getClient=()=>PageSpy.client,socketStore.isOffline=Oo,socketStore.messageCapacity=jr}cacheIsInvalid(){try{const jr=sessionStorage.getItem(ROOM_SESSION_KEY);if(!jr)return!0;const Oo=JSON.parse(jr);if(!Oo.address)return!0;const Mo=this.config.get();return["project","title","useSecret"].some((Di=>Oo[Di]!==Mo[Di]))}catch{return!0}}async createNewConnection(){if(!this.request)return void psLog.error("Cannot get the Request");const jr=await this.request.createRoom();this.address=jr.address,socketStore.init(jr.roomUrl),sessionStorage.removeItem(ROOM_SESSION_KEY),this.refreshRoomInfo()}useOldConnection(){var jr;const Oo=sessionStorage.getItem(ROOM_SESSION_KEY);if(!Oo)throw new Error("The cache info is invalid when useOldConnection");const{address:Mo}=JSON.parse(Oo);this.address=Mo,this.refreshRoomInfo();const Di=(jr=this.request)===null||jr===void 0?void 0:jr.getRoomUrl(this.address);Di&&socketStore.init(Di)}refreshRoomInfo(){this.saveSession(),this.cacheTimer=setInterval((()=>{socketStore.getSocket().getState()===SocketState.OPEN&&this.saveSession()}),15e3)}saveSession(){const{project:jr,title:Oo,useSecret:Mo,secret:Di}=this.config.get(),Qi=JSON.stringify({address:this.address,project:jr,title:Oo,useSecret:Mo,secret:Di});sessionStorage.setItem(ROOM_SESSION_KEY,Qi)}triggerPlugins(jr){for(var Oo=arguments.length,Mo=new Array(Oo>1?Oo-1:0),Di=1;Di<Oo;Di++)Mo[Di-1]=arguments[Di];const{disabledPlugins:Qi}=this.config.get();PageSpy.pluginsWithOrder.forEach((Tc=>{var $c;isArray$1(Qi)&&Qi.length&&Qi.includes(Tc.name)||($c=Tc[jr])===null||$c===void 0||$c.apply(Tc,[{...Mo[0],modal,toast:Toast},Mo.slice(1)])}))}render(){if(document.querySelector("#".concat(nodeId)))psLog.warn("Cannot render the widget because it has been in the DOM");else if(document!==void 0)document.readyState==="loading"?window.addEventListener("DOMContentLoaded",this.render.bind(this)):this.startRender();else{let jr;const Oo=()=>{document&&document.readyState==="complete"?(jr&&clearTimeout(jr),this.startRender()):jr=setTimeout(Oo,1)};jr=setTimeout(Oo,1)}}startRender(){var jr;const Oo=this.config.get(),{project:Mo,clientOrigin:Di,title:Qi,logo:Tc,useSecret:$c,secret:_c,primaryColor:xc,modal:Ec,offline:Pc}=Oo,Ac=new DOMParser().parseFromString(`
      <!-- PageSpy Root Container -->
      <div id="`.concat(nodeId,`" style="--primary-color: hsl(270, 100%, 55%)">
        <div class="page-spy-logo">
          <img src="`).concat(Tc,`" alt="Logo" />
        </div>
      </div>

      <!-- Default content for modal -->
      <div class="`).concat(classes.connectInfo,` page-spy-connect-info">
        <p>
          <span>Device ID</span>
          <b style="font-family: 'Monaco'" class="page-spy-device-id">
            `).concat(this.address.slice(0,4)||"--",`
          </b>
        </p>
        `).concat($c&&_c?`
        <p>
          <span>Secret</span>
          <b class="page-spy-secret">`.concat(_c,`</b>
        </p>`):"",`
        <p>
          <span>Project</span>
          <b class="page-spy-project">`).concat(Mo,`</b>
        </p>
        <p>
          <span>Title</span>
          <b class="page-spy-title">`).concat(Qi,`</b>
        </p>
      </div>

      <!-- Default button for modal -->
      <button class="page-spy-btn" data-primary id="page-spy-copy-link">
        <img src="`).concat(img$1,`" alt="Copy" />
        <span>`).concat(i18n.t("copyLink"),`</span>
      </button>
    `),"text/html"),Oc=zc=>Ac.querySelector.call(Ac,zc),Mc=Oc("#".concat(nodeId));Mc.style.setProperty("--primary-color",xc),(jr=window.pageSpyStyles)===null||jr===void 0||jr.forEach((zc=>{Mc.appendChild(zc.cloneNode(!0))})),this.root=Mc;const Rc=Oc(".page-spy-logo");moveable(Rc),Rc.addEventListener("click",(()=>{Rc.isMoveEvent||modal.show()}),!1),window.addEventListener("sdk-inactive",(()=>{Rc.classList.add("inactive")}));const Uc=(Dc=classes.connectInfo,Oc(".".concat(Dc)));var Dc;const Nc=Oc("#page-spy-copy-link");Nc.addEventListener("click",(()=>{let zc="".concat(Di,"/#/devtools?address=").concat(encodeURIComponent(this.address));$c&&(zc+="&secret=".concat(_c));const Gc=copy$1(zc)?i18n.t("copied"):i18n.t("copyFailed");modal.close(),Toast.message(Gc)})),Pc&&(Nc.disabled=!0,Nc.title="In Offline Mode"),modal.build({logo:Ec.logo||img$2,title:Ec.title||"PageSpy",content:Uc,footer:[Nc],mounted:Mc}),document.documentElement.insertAdjacentElement("beforeend",Mc),this.triggerPlugins("onMounted",{config:Oo,root:Mc,socketStore}),this.handleDeviceDPR(),psLog.log("Render success"),this.eventBus.dispatchEvent(new Event("core:rendered"))}handleDeviceDPR(){const jr=window.devicePixelRatio||1,Oo=document.querySelector('[name="viewport"]');if(Oo){const Mo=(Oo.getAttribute("content")||"").match(/initial-scale=\d+(\.\d+)?/);(Mo?parseFloat(Mo[0].split("=")[1]):1)<1&&(this.root.style.fontSize="".concat(14*jr,"px"))}}updateRoomInfo(jr){if(!jr)return;const{project:Oo,title:Mo}=jr;if(Oo){this.config.set("project",String(Oo));const Di=document.querySelector(".page-spy-project");Di&&(Di.textContent=String(Oo))}if(Mo){this.config.set("title",String(Mo));const Di=document.querySelector(".page-spy-title");Di&&(Di.textContent=String(Mo))}socketStore.updateRoomInfo()}abort(){this.triggerPlugins("onReset"),PageSpy.instance=null,socketStore.close(),modal.reset(),this.visibilityChangeHandler&&(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeHandler=null),this.cacheTimer&&(clearInterval(this.cacheTimer),this.cacheTimer=null);const jr=document.querySelector("#".concat(nodeId));jr&&document.documentElement.removeChild(jr),this.eventBus.dispatchEvent(new Event("core:aborted"))}}_defineProperty(PageSpy,"instance",null),_defineProperty(PageSpy,"plugins",{pre:[],normal:[],post:[]}),_defineProperty(PageSpy,"client",new Client({ua:navigator.userAgent,sdk:"browser",sdkVersion:version}));const INTERNAL_PLUGINS=[new ConsolePlugin,new ErrorPlugin,new NetworkPlugin,new StoragePlugin,new DatabasePlugin,new PagePlugin,new SystemPlugin,new EventSourcePlugin,new WebSocketPlugin];INTERNAL_PLUGINS.forEach((ns=>{PageSpy.registerPlugin(ns)}));function e$1(ns){var jr=(function(Oo,Mo){if(typeof Oo!="object"||!Oo)return Oo;var Di=Oo[Symbol.toPrimitive];if(Di!==void 0){var Qi=Di.call(Oo,Mo);if(typeof Qi!="object")return Qi;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mo==="string"?String:Number)(Oo)})(ns,"string");return typeof jr=="symbol"?jr:jr+""}function t$1(ns,jr,Oo){return(jr=e$1(jr))in ns?Object.defineProperty(ns,jr,{value:Oo,enumerable:!0,configurable:!0,writable:!0}):ns[jr]=Oo,ns}function n$1(){return typeof window=="object"&&typeof document=="object"&&Object.prototype.toString.call(document)==="[object HTMLDocument]"}function a$1(){return Math.random().toString(36).slice(2)}function r$1(ns){return Object.prototype.toString.call(ns)}function s$1(ns,jr){return Object.prototype.hasOwnProperty.call(ns,jr)}function i$1(ns){return typeof ns=="number"}function o$1(ns){return r$1(ns)==="[object BigInt]"}function c$1(ns){return ns instanceof Array}function d$1(ns){return typeof ns=="object"&&ns!==null}const l$1=["zh-CN","zh-HK","zh-TW","zh","zh-Hans-CN"],u$1=ns=>"".concat(ns),h$1=ns=>({ok:!0,value:ns});function p$1(ns){return ns===void 0?h$1(u$1(ns)):ns===null?h$1(ns):i$1(ns)&&(ns===-1/0||ns===1/0||Number.isNaN(ns))?h$1(u$1(ns)):o$1(ns)?h$1("".concat(ns,"n")):typeof ns=="symbol"||typeof ns=="function"?h$1(u$1(ns.toString())):ns instanceof Error?h$1(u$1(ns.stack)):ns===Object.prototype?{value:null,ok:!1}:ns instanceof Object||typeof ns=="object"?{value:ns,ok:!1}:h$1(ns)}function m$1(ns){return ns===void 0?"undefined":ns===null?"null":o$1(ns)?"bigint":ns instanceof Object?ns instanceof Error?"error":typeof ns=="function"?"function":"object":typeof ns}const f$1={...console},g$1=["log","info","error","warn","debug"].reduce(((ns,jr)=>(ns[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];console[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns.unproxy[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];f$1[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns)),{unproxy:{}}),v$1=ns=>ns.replace(/\/$/,"");var y$1=Uint8Array,_$1=Uint16Array,b$1=Int32Array,w$1=new y$1([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k$1=new y$1([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x$1=new y$1([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T$1=function(ns,jr){for(var Oo=new _$1(31),Mo=0;Mo<31;++Mo)Oo[Mo]=jr+=1<<ns[Mo-1];var Di=new b$1(Oo[30]);for(Mo=1;Mo<30;++Mo)for(var Qi=Oo[Mo];Qi<Oo[Mo+1];++Qi)Di[Qi]=Qi-Oo[Mo]<<5|Mo;return{b:Oo,r:Di}},I$1=T$1(w$1,2),C$1=I$1.b,S$1=I$1.r;C$1[28]=258,S$1[258]=28;for(var O$1=T$1(k$1,0).r,E$1=new _$1(32768),P$1=0;P$1<32768;++P$1){var A$1=(43690&P$1)>>1|(21845&P$1)<<1;A$1=(61680&(A$1=(52428&A$1)>>2|(13107&A$1)<<2))>>4|(3855&A$1)<<4,E$1[P$1]=((65280&A$1)>>8|(255&A$1)<<8)>>1}var Z$1=function(ns,jr,Oo){for(var Mo=ns.length,Di=0,Qi=new _$1(jr);Di<Mo;++Di)ns[Di]&&++Qi[ns[Di]-1];var Tc,$c=new _$1(jr);for(Di=1;Di<jr;++Di)$c[Di]=$c[Di-1]+Qi[Di-1]<<1;for(Tc=new _$1(Mo),Di=0;Di<Mo;++Di)ns[Di]&&(Tc[Di]=E$1[$c[ns[Di]-1]++]>>15-ns[Di]);return Tc},N$1=new y$1(288);for(P$1=0;P$1<144;++P$1)N$1[P$1]=8;for(P$1=144;P$1<256;++P$1)N$1[P$1]=9;for(P$1=256;P$1<280;++P$1)N$1[P$1]=7;for(P$1=280;P$1<288;++P$1)N$1[P$1]=8;var j$1=new y$1(32);for(P$1=0;P$1<32;++P$1)j$1[P$1]=5;var D$1=Z$1(N$1,9),L$1=Z$1(j$1,5),R$1=function(ns){return(ns+7)/8|0},M$1=function(ns,jr,Oo){return(Oo==null||Oo>ns.length)&&(Oo=ns.length),new y$1(ns.subarray(jr,Oo))},H$1=function(ns,jr,Oo){Oo<<=7&jr;var Mo=jr/8|0;ns[Mo]|=Oo,ns[Mo+1]|=Oo>>8},F$1=function(ns,jr,Oo){Oo<<=7&jr;var Mo=jr/8|0;ns[Mo]|=Oo,ns[Mo+1]|=Oo>>8,ns[Mo+2]|=Oo>>16},B$1=function(ns,jr){for(var Oo=[],Mo=0;Mo<ns.length;++Mo)ns[Mo]&&Oo.push({s:Mo,f:ns[Mo]});var Di=Oo.length,Qi=Oo.slice();if(!Di)return{t:J$1,l:0};if(Di==1){var Tc=new y$1(Oo[0].s+1);return Tc[Oo[0].s]=1,{t:Tc,l:1}}Oo.sort((function(Yc,Kc){return Yc.f-Kc.f})),Oo.push({s:-1,f:25001});var $c=Oo[0],_c=Oo[1],xc=0,Ec=1,Pc=2;for(Oo[0]={s:-1,f:$c.f+_c.f,l:$c,r:_c};Ec!=Di-1;)$c=Oo[Oo[xc].f<Oo[Pc].f?xc++:Pc++],_c=Oo[xc!=Ec&&Oo[xc].f<Oo[Pc].f?xc++:Pc++],Oo[Ec++]={s:-1,f:$c.f+_c.f,l:$c,r:_c};var Ac=Qi[0].s;for(Mo=1;Mo<Di;++Mo)Qi[Mo].s>Ac&&(Ac=Qi[Mo].s);var Oc=new _$1(Ac+1),Mc=U$1(Oo[Ec-1],Oc,0);if(Mc>jr){Mo=0;var Rc=0,Uc=Mc-jr,Dc=1<<Uc;for(Qi.sort((function(Yc,Kc){return Oc[Kc.s]-Oc[Yc.s]||Yc.f-Kc.f}));Mo<Di;++Mo){var Nc=Qi[Mo].s;if(!(Oc[Nc]>jr))break;Rc+=Dc-(1<<Mc-Oc[Nc]),Oc[Nc]=jr}for(Rc>>=Uc;Rc>0;){var zc=Qi[Mo].s;Oc[zc]<jr?Rc-=1<<jr-Oc[zc]++-1:++Mo}for(;Mo>=0&&Rc;--Mo){var Gc=Qi[Mo].s;Oc[Gc]==jr&&(--Oc[Gc],++Rc)}Mc=jr}return{t:new y$1(Oc),l:Mc}},U$1=function(ns,jr,Oo){return ns.s==-1?Math.max(U$1(ns.l,jr,Oo+1),U$1(ns.r,jr,Oo+1)):jr[ns.s]=Oo},V$1=function(ns){for(var jr=ns.length;jr&&!ns[--jr];);for(var Oo=new _$1(++jr),Mo=0,Di=ns[0],Qi=1,Tc=function(_c){Oo[Mo++]=_c},$c=1;$c<=jr;++$c)if(ns[$c]==Di&&$c!=jr)++Qi;else{if(!Di&&Qi>2){for(;Qi>138;Qi-=138)Tc(32754);Qi>2&&(Tc(Qi>10?Qi-11<<5|28690:Qi-3<<5|12305),Qi=0)}else if(Qi>3){for(Tc(Di),--Qi;Qi>6;Qi-=6)Tc(8304);Qi>2&&(Tc(Qi-3<<5|8208),Qi=0)}for(;Qi--;)Tc(Di);Qi=1,Di=ns[$c]}return{c:Oo.subarray(0,Mo),n:jr}},W$1=function(ns,jr){for(var Oo=0,Mo=0;Mo<jr.length;++Mo)Oo+=ns[Mo]*jr[Mo];return Oo},$$1=function(ns,jr,Oo){var Mo=Oo.length,Di=R$1(jr+2);ns[Di]=255&Mo,ns[Di+1]=Mo>>8,ns[Di+2]=255^ns[Di],ns[Di+3]=255^ns[Di+1];for(var Qi=0;Qi<Mo;++Qi)ns[Di+Qi+4]=Oo[Qi];return 8*(Di+4+Mo)},K$1=function(ns,jr,Oo,Mo,Di,Qi,Tc,$c,_c,xc,Ec){H$1(jr,Ec++,Oo),++Di[256];for(var Pc=B$1(Di,15),Ac=Pc.t,Oc=Pc.l,Mc=B$1(Qi,15),Rc=Mc.t,Uc=Mc.l,Dc=V$1(Ac),Nc=Dc.c,zc=Dc.n,Gc=V$1(Rc),Yc=Gc.c,Kc=Gc.n,au=new _$1(19),Jc=0;Jc<Nc.length;++Jc)++au[31&Nc[Jc]];for(Jc=0;Jc<Yc.length;++Jc)++au[31&Yc[Jc]];for(var iu=B$1(au,7),tu=iu.t,Vc=iu.l,Qc=19;Qc>4&&!tu[x$1[Qc-1]];--Qc);var Hc,ru,nu,Lc,Wc=xc+5<<3,Xc=W$1(Di,N$1)+W$1(Qi,j$1)+Tc,Fc=W$1(Di,Ac)+W$1(Qi,Rc)+Tc+14+3*Qc+W$1(au,tu)+2*au[16]+3*au[17]+7*au[18];if(_c>=0&&Wc<=Xc&&Wc<=Fc)return $$1(jr,Ec,ns.subarray(_c,_c+xc));if(H$1(jr,Ec,1+(Fc<Xc)),Ec+=2,Fc<Xc){Hc=Z$1(Ac,Oc),ru=Ac,nu=Z$1(Rc,Uc),Lc=Rc;var su=Z$1(tu,Vc);for(H$1(jr,Ec,zc-257),H$1(jr,Ec+5,Kc-1),H$1(jr,Ec+10,Qc-4),Ec+=14,Jc=0;Jc<Qc;++Jc)H$1(jr,Ec+3*Jc,tu[x$1[Jc]]);Ec+=3*Qc;for(var qc=[Nc,Yc],lu=0;lu<2;++lu){var pu=qc[lu];for(Jc=0;Jc<pu.length;++Jc){var cu=31&pu[Jc];H$1(jr,Ec,su[cu]),Ec+=tu[cu],cu>15&&(H$1(jr,Ec,pu[Jc]>>5&127),Ec+=pu[Jc]>>12)}}}else Hc=D$1,ru=N$1,nu=L$1,Lc=j$1;for(Jc=0;Jc<$c;++Jc){var mu=Mo[Jc];if(mu>255){F$1(jr,Ec,Hc[(cu=mu>>18&31)+257]),Ec+=ru[cu+257],cu>7&&(H$1(jr,Ec,mu>>23&31),Ec+=w$1[cu]);var yu=31&mu;F$1(jr,Ec,nu[yu]),Ec+=Lc[yu],yu>3&&(F$1(jr,Ec,mu>>5&8191),Ec+=k$1[yu])}else F$1(jr,Ec,Hc[mu]),Ec+=ru[mu]}return F$1(jr,Ec,Hc[256]),Ec+ru[256]},G$1=new b$1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),J$1=new y$1(0),X$1=function(){var ns=1,jr=0;return{p:function(Oo){for(var Mo=ns,Di=jr,Qi=0|Oo.length,Tc=0;Tc!=Qi;){for(var $c=Math.min(Tc+2655,Qi);Tc<$c;++Tc)Di+=Mo+=Oo[Tc];Mo=(65535&Mo)+15*(Mo>>16),Di=(65535&Di)+15*(Di>>16)}ns=Mo,jr=Di},d:function(){return(255&(ns%=65521))<<24|(65280&ns)<<8|(255&(jr%=65521))<<8|jr>>8}}},Y$1=function(ns,jr,Oo,Mo,Di){if(!Di&&(Di={l:1},jr.dictionary)){var Qi=jr.dictionary.subarray(-32768),Tc=new y$1(Qi.length+ns.length);Tc.set(Qi),Tc.set(ns,Qi.length),ns=Tc,Di.w=Qi.length}return(function($c,_c,xc,Ec,Pc,Ac){var Oc=Ac.z||$c.length,Mc=new y$1(Ec+Oc+5*(1+Math.ceil(Oc/7e3))+Pc),Rc=Mc.subarray(Ec,Mc.length-Pc),Uc=Ac.l,Dc=7&(Ac.r||0);if(_c){Dc&&(Rc[0]=Ac.r>>3);for(var Nc=G$1[_c-1],zc=Nc>>13,Gc=8191&Nc,Yc=(1<<xc)-1,Kc=Ac.p||new _$1(32768),au=Ac.h||new _$1(Yc+1),Jc=Math.ceil(xc/3),iu=2*Jc,tu=function(Au){return($c[Au]^$c[Au+1]<<Jc^$c[Au+2]<<iu)&Yc},Vc=new b$1(25e3),Qc=new _$1(288),Hc=new _$1(32),ru=0,nu=0,Lc=Ac.i||0,Wc=0,Xc=Ac.w||0,Fc=0;Lc+2<Oc;++Lc){var su=tu(Lc),qc=32767&Lc,lu=au[su];if(Kc[qc]=lu,au[su]=qc,Xc<=Lc){var pu=Oc-Lc;if((ru>7e3||Wc>24576)&&(pu>423||!Uc)){Dc=K$1($c,Rc,0,Vc,Qc,Hc,nu,Wc,Fc,Lc-Fc,Dc),Wc=ru=nu=0,Fc=Lc;for(var cu=0;cu<286;++cu)Qc[cu]=0;for(cu=0;cu<30;++cu)Hc[cu]=0}var mu=2,yu=0,$u=Gc,Iu=qc-lu&32767;if(pu>2&&su==tu(Lc-Iu))for(var Su=Math.min(zc,pu)-1,uu=Math.min(32767,Lc),Tu=Math.min(258,pu);Iu<=uu&&--$u&&qc!=lu;){if($c[Lc+mu]==$c[Lc+mu-Iu]){for(var du=0;du<Tu&&$c[Lc+du]==$c[Lc+du-Iu];++du);if(du>mu){if(mu=du,yu=Iu,du>Su)break;var gu=Math.min(Iu,du-2),bu=0;for(cu=0;cu<gu;++cu){var hu=Lc-Iu+cu&32767,_u=hu-Kc[hu]&32767;_u>bu&&(bu=_u,lu=hu)}}}Iu+=(qc=lu)-(lu=Kc[qc])&32767}if(yu){Vc[Wc++]=268435456|S$1[mu]<<18|O$1[yu];var ku=31&S$1[mu],Ou=31&O$1[yu];nu+=w$1[ku]+k$1[Ou],++Qc[257+ku],++Hc[Ou],Xc=Lc+mu,++ru}else Vc[Wc++]=$c[Lc],++Qc[$c[Lc]]}}for(Lc=Math.max(Lc,Xc);Lc<Oc;++Lc)Vc[Wc++]=$c[Lc],++Qc[$c[Lc]];Dc=K$1($c,Rc,Uc,Vc,Qc,Hc,nu,Wc,Fc,Lc-Fc,Dc),Uc||(Ac.r=7&Dc|Rc[Dc/8|0]<<3,Dc-=7,Ac.h=au,Ac.p=Kc,Ac.i=Lc,Ac.w=Xc)}else{for(Lc=Ac.w||0;Lc<Oc+Uc;Lc+=65535){var Eu=Lc+65535;Eu>=Oc&&(Rc[Dc/8|0]=Uc,Eu=Oc),Dc=$$1(Rc,Dc+1,$c.subarray(Lc,Eu))}Ac.i=Oc}return M$1(Mc,0,Ec+R$1(Dc)+Pc)})(ns,jr.level==null?6:jr.level,jr.mem==null?Di.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(ns.length)))):20:12+jr.mem,Oo,Mo,Di)},Q$1=function(ns,jr,Oo){for(;Oo;++jr)ns[jr]=Oo,Oo>>>=8};function ee$1(ns,jr){jr||(jr={});var Oo=X$1();Oo.p(ns);var Mo=Y$1(ns,jr,jr.dictionary?6:2,4);return(function(Di,Qi){var Tc=Qi.level,$c=Tc==0?0:Tc<6?1:Tc==9?3:2;if(Di[0]=120,Di[1]=$c<<6|(Qi.dictionary&&32),Di[1]|=31-(Di[0]<<8|Di[1])%31,Qi.dictionary){var _c=X$1();_c.p(Qi.dictionary),Q$1(Di,2,_c.d())}})(Mo,jr),Q$1(Mo,Mo.length-4,Oo.d()),Mo}var te$1=typeof TextEncoder<"u"&&new TextEncoder,ne$1=typeof TextDecoder<"u"&&new TextDecoder;try{ne$1.decode(J$1,{stream:!0})}catch(ns){}function ae$1(ns,jr){{for(var Oo="",Mo=0;Mo<ns.length;Mo+=16384)Oo+=String.fromCharCode.apply(null,ns.subarray(Mo,Mo+16384));return Oo}}const re$1=()=>{if(n$1()){var ns,jr;const Mo=sessionStorage.getItem("page-spy-room");var Oo;return Mo?((Oo=JSON.parse(Mo))===null||Oo===void 0?void 0:Oo.address)||"--":((ns=window.$pageSpy)===null||ns===void 0?void 0:ns.address)||((jr=window.PageSpy)===null||jr===void 0||(jr=jr.instance)===null||jr===void 0?void 0:jr.address)||"--"}return"--"},se$1=ns=>ns.toString().replace(/[^\w]/g,"_"),ie$1=ns=>ae$1(ee$1((function(jr,Oo){var Mo;if(te$1)return te$1.encode(jr);var Di=jr.length,Qi=new y$1(jr.length+(jr.length>>1)),Tc=0,$c=function(Ec){Qi[Tc++]=Ec};for(Mo=0;Mo<Di;++Mo){if(Tc+5>Qi.length){var _c=new y$1(Tc+8+(Di-Mo<<1));_c.set(Qi),Qi=_c}var xc=jr.charCodeAt(Mo);xc<128||Oo?$c(xc):xc<2048?($c(192|xc>>6),$c(128|63&xc)):xc>55295&&xc<57344?($c(240|(xc=65536+(1047552&xc)|1023&jr.charCodeAt(++Mo))>>18),$c(128|xc>>12&63),$c(128|xc>>6&63),$c(128|63&xc)):($c(224|xc>>12),$c(128|xc>>6&63),$c(128|63&xc))}return M$1(Qi,0,Tc)})(JSON.stringify(ns)),{level:9}));function oe$1(ns){return ns>=10?ns.toString():"0".concat(ns)}function ce$1(ns){const jr=Math.floor(ns/3600),Oo=Math.floor((ns-3600*jr)/60),Mo=Math.floor(ns-3600*jr-60*Oo),Di=oe$1(jr),Qi=oe$1(Oo),Tc=oe$1(Mo);return jr===0?"".concat(Qi,":").concat(Tc):"".concat(Di,":").concat(Qi,":").concat(Tc)}const de$1="message",le$1="broadcast",ue$1="ping",he$1="updateRoomInfo";var pe$1,me$1=Object.freeze({__proto__:null,BROADCAST:le$1,CLOSE:"close",CONNECT:"connect",ERROR:"error",JOIN:"join",LEAVE:"leave",MESSAGE:de$1,PING:ue$1,PONG:"pong",UPDATE_ROOM_INFO:he$1});function fe$1(ns,jr){return{role:"client",type:ns,data:{...(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])&&{id:a$1()},...jr}}}let ge$1=class{constructor(jr){t$1(this,"id",""),t$1(this,"method",""),t$1(this,"url",""),t$1(this,"requestType","xhr"),t$1(this,"requestHeader",null),t$1(this,"status",0),t$1(this,"statusText",""),t$1(this,"readyState",0),t$1(this,"response","__PLACEHOLDER_RESPONSE_DEFINED_BY_PAGE_SPY__"),t$1(this,"responseReason",null),t$1(this,"responseType",""),t$1(this,"responseHeader",null),t$1(this,"startTime",0),t$1(this,"endTime",0),t$1(this,"costTime",0),t$1(this,"postData",null),t$1(this,"requestPayload",null),t$1(this,"withCredentials",!1),t$1(this,"lastEventId",""),this.id=jr}};(function(ns){ns[ns.UNSENT=0]="UNSENT",ns[ns.OPENED=1]="OPENED",ns[ns.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",ns[ns.LOADING=3]="LOADING",ns[ns.DONE=4]="DONE"})(pe$1||(pe$1={}));let ve$1=class Wu{constructor(jr){t$1(this,"socketStore",void 0),t$1(this,"reqMap",Object.create(null)),this.socketStore=jr}getRequestMap(){return this.reqMap}getRequest(jr){return this.reqMap[jr]}removeRequest(jr){delete this.reqMap[jr]}createRequest(jr){return jr?this.reqMap[jr]?(g$1.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[jr]=new ge$1(jr),!0):(g$1.warn('The "id" is required when init request object'),!1)}setRequest(jr,Oo){return!(!jr||!Oo)&&(this.reqMap[jr]=Oo,!0)}sendRequestItem(jr,Oo){var Mo;if(((Mo=Wu.dataProcessor)===null||Mo===void 0?void 0:Mo.call(Wu,Oo))!==!1)try{this.reqMap[jr]||(this.reqMap[jr]=Oo);const Di=fe$1("network",{...Oo},!1);this.socketStore.dispatchEvent("public-data",Di),this.socketStore.broadcastMessage(Di,Oo.readyState!==pe$1.DONE),this.deferDeleteRequest(jr)}catch(Di){g$1.error(Di.message)}}deferDeleteRequest(jr){const Oo=this.getRequest(jr);Oo&&Oo.readyState===pe$1.DONE&&setTimeout((()=>{delete this.reqMap[jr]}),3e3)}};t$1(ve$1,"dataProcessor",void 0);let ye$1=class Zu{constructor(){t$1(this,"store",{}),t$1(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const{value:Mo,ok:Di}=p$1(jr),Qi=a$1();if(Di)return{id:Qi,type:m$1(jr),value:Mo};if(Oo)try{return{id:Qi,type:"json",value:JSON.stringify(jr)}}catch{return{id:Qi,type:"json",value:null}}return this.add(jr)}get(jr){const Oo=this.store[jr],Mo=this.instanceStore[jr];if(!Oo)return null;const Di={},Qi=Object.getOwnPropertyDescriptors(Oo);Object.keys(Qi).forEach(($c=>{const _c=Qi[$c];s$1(_c,"value")&&(_c.value=this.transformToAtom(_c.value)),Di[$c]=Zu.getAtomOverview({atomId:a$1(),instanceId:Mo,value:_c})}));const Tc=this.addExtraProperty(jr);return{...Di,...Tc}}getOrigin(jr){return this.store[jr]||null}add(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const Mo=a$1();let Di=Mo;var Qi;d$1(Qi=jr)&&s$1(Qi,"constructor")&&typeof Qi.constructor=="function"&&(Di=Oo),this.store[Mo]=jr,this.instanceStore[Mo]=Di;const Tc=Zu.getSemanticValue(jr);return Zu.getAtomOverview({atomId:Mo,value:Tc,instanceId:Di})}static getAtomOverview(jr){let{instanceId:Oo="",atomId:Mo,value:Di}=jr;return{id:a$1(),type:"atom",__atomId:Mo,instanceId:Oo,value:Di}}static getSemanticValue(jr){if(d$1(Oo=jr)&&r$1(Oo)==="[object Object]")return"Object {...}";var Oo;return c$1(jr)?"Array (".concat(jr.length,")"):jr.constructor.name}addExtraProperty(jr){const Oo=this.store[jr],Mo=this.instanceStore[jr],Di={};if((Oo instanceof String||Oo instanceof Number||Oo instanceof Boolean)&&(Di["[[PrimitiveValue]]"]=this.transformToAtom(Oo.valueOf())),Oo instanceof Set){const Tc={};let $c=0;for(const _c of Oo)Tc[$c++]=_c;Tc.size=Oo.size,Di["[[Entries]]"]=this.transformToAtom(Tc)}if(Oo instanceof Map){const Tc={};let $c=0;for(const[_c,xc]of Oo.entries())Tc[$c++]={key:_c,value:xc};Tc.size=Oo.size,Di["[[Entries]]"]=this.transformToAtom(Tc)}var Qi;return(c$1(Oo)||(Qi=Oo,typeof NodeList=="function"&&NodeList.name==="NodeList"&&Qi instanceof NodeList||typeof HTMLCollection=="function"&&HTMLCollection.name==="HTMLCollection"&&Qi instanceof HTMLCollection))&&(Di.length=this.transformToAtom(Oo.length)),Object.getPrototypeOf(Oo)!==null?Di["[[Prototype]]"]=this.add(Object.getPrototypeOf(Oo),Mo):Di.___proto___=this.transformToAtom(null),Di}};const _e$1=new ye$1;var be$1,we$1;(function(ns){ns.assertEqual=jr=>jr,ns.assertIs=function(jr){},ns.assertNever=function(jr){throw new Error},ns.arrayToEnum=jr=>{const Oo={};for(const Mo of jr)Oo[Mo]=Mo;return Oo},ns.getValidEnumValues=jr=>{const Oo=ns.objectKeys(jr).filter((Di=>typeof jr[jr[Di]]!="number")),Mo={};for(const Di of Oo)Mo[Di]=jr[Di];return ns.objectValues(Mo)},ns.objectValues=jr=>ns.objectKeys(jr).map((function(Oo){return jr[Oo]})),ns.objectKeys=typeof Object.keys=="function"?jr=>Object.keys(jr):jr=>{const Oo=[];for(const Mo in jr)Object.prototype.hasOwnProperty.call(jr,Mo)&&Oo.push(Mo);return Oo},ns.find=(jr,Oo)=>{for(const Mo of jr)if(Oo(Mo))return Mo},ns.isInteger=typeof Number.isInteger=="function"?jr=>Number.isInteger(jr):jr=>typeof jr=="number"&&isFinite(jr)&&Math.floor(jr)===jr,ns.joinValues=function(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" | ";return jr.map((Mo=>typeof Mo=="string"?"'".concat(Mo,"'"):Mo)).join(Oo)},ns.jsonStringifyReplacer=(jr,Oo)=>typeof Oo=="bigint"?Oo.toString():Oo})(be$1||(be$1={})),(function(ns){ns.mergeShapes=(jr,Oo)=>({...jr,...Oo})})(we$1||(we$1={}));const ke$1=be$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xe$1=ns=>{switch(typeof ns){case"undefined":return ke$1.undefined;case"string":return ke$1.string;case"number":return isNaN(ns)?ke$1.nan:ke$1.number;case"boolean":return ke$1.boolean;case"function":return ke$1.function;case"bigint":return ke$1.bigint;case"symbol":return ke$1.symbol;case"object":return Array.isArray(ns)?ke$1.array:ns===null?ke$1.null:ns.then&&typeof ns.then=="function"&&ns.catch&&typeof ns.catch=="function"?ke$1.promise:typeof Map<"u"&&ns instanceof Map?ke$1.map:typeof Set<"u"&&ns instanceof Set?ke$1.set:typeof Date<"u"&&ns instanceof Date?ke$1.date:ke$1.object;default:return ke$1.unknown}},Te$1=be$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let Ie$1=class Qu extends Error{get errors(){return this.issues}constructor(jr){var Oo;super(),Oo=this,this.issues=[],this.addIssue=Di=>{this.issues=[...this.issues,Di]},this.addIssues=function(){let Di=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];Oo.issues=[...Oo.issues,...Di]};const Mo=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,Mo):this.__proto__=Mo,this.name="ZodError",this.issues=jr}format(jr){const Oo=jr||function(Qi){return Qi.message},Mo={_errors:[]},Di=Qi=>{for(const Tc of Qi.issues)if(Tc.code==="invalid_union")Tc.unionErrors.map(Di);else if(Tc.code==="invalid_return_type")Di(Tc.returnTypeError);else if(Tc.code==="invalid_arguments")Di(Tc.argumentsError);else if(Tc.path.length===0)Mo._errors.push(Oo(Tc));else{let $c=Mo,_c=0;for(;_c<Tc.path.length;){const xc=Tc.path[_c];_c===Tc.path.length-1?($c[xc]=$c[xc]||{_errors:[]},$c[xc]._errors.push(Oo(Tc))):$c[xc]=$c[xc]||{_errors:[]},$c=$c[xc],_c++}}};return Di(this),Mo}static assert(jr){if(!(jr instanceof Qu))throw new Error("Not a ZodError: ".concat(jr))}toString(){return this.message}get message(){return JSON.stringify(this.issues,be$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Di=>Di.message;const Oo={},Mo=[];for(const Di of this.issues)Di.path.length>0?(Oo[Di.path[0]]=Oo[Di.path[0]]||[],Oo[Di.path[0]].push(jr(Di))):Mo.push(jr(Di));return{formErrors:Mo,fieldErrors:Oo}}get formErrors(){return this.flatten()}};Ie$1.create=ns=>new Ie$1(ns);const Ce$1=(ns,jr)=>{let Oo;switch(ns.code){case Te$1.invalid_type:Oo=ns.received===ke$1.undefined?"Required":"Expected ".concat(ns.expected,", received ").concat(ns.received);break;case Te$1.invalid_literal:Oo="Invalid literal value, expected ".concat(JSON.stringify(ns.expected,be$1.jsonStringifyReplacer));break;case Te$1.unrecognized_keys:Oo="Unrecognized key(s) in object: ".concat(be$1.joinValues(ns.keys,", "));break;case Te$1.invalid_union:Oo="Invalid input";break;case Te$1.invalid_union_discriminator:Oo="Invalid discriminator value. Expected ".concat(be$1.joinValues(ns.options));break;case Te$1.invalid_enum_value:Oo="Invalid enum value. Expected ".concat(be$1.joinValues(ns.options),", received '").concat(ns.received,"'");break;case Te$1.invalid_arguments:Oo="Invalid function arguments";break;case Te$1.invalid_return_type:Oo="Invalid function return type";break;case Te$1.invalid_date:Oo="Invalid date";break;case Te$1.invalid_string:typeof ns.validation=="object"?"includes"in ns.validation?(Oo='Invalid input: must include "'.concat(ns.validation.includes,'"'),typeof ns.validation.position=="number"&&(Oo="".concat(Oo," at one or more positions greater than or equal to ").concat(ns.validation.position))):"startsWith"in ns.validation?Oo='Invalid input: must start with "'.concat(ns.validation.startsWith,'"'):"endsWith"in ns.validation?Oo='Invalid input: must end with "'.concat(ns.validation.endsWith,'"'):be$1.assertNever(ns.validation):Oo=ns.validation!=="regex"?"Invalid ".concat(ns.validation):"Invalid";break;case Te$1.too_small:Oo=ns.type==="array"?"Array must contain ".concat(ns.exact?"exactly":ns.inclusive?"at least":"more than"," ").concat(ns.minimum," element(s)"):ns.type==="string"?"String must contain ".concat(ns.exact?"exactly":ns.inclusive?"at least":"over"," ").concat(ns.minimum," character(s)"):ns.type==="number"?"Number must be ".concat(ns.exact?"exactly equal to ":ns.inclusive?"greater than or equal to ":"greater than ").concat(ns.minimum):ns.type==="date"?"Date must be ".concat(ns.exact?"exactly equal to ":ns.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(ns.minimum))):"Invalid input";break;case Te$1.too_big:Oo=ns.type==="array"?"Array must contain ".concat(ns.exact?"exactly":ns.inclusive?"at most":"less than"," ").concat(ns.maximum," element(s)"):ns.type==="string"?"String must contain ".concat(ns.exact?"exactly":ns.inclusive?"at most":"under"," ").concat(ns.maximum," character(s)"):ns.type==="number"?"Number must be ".concat(ns.exact?"exactly":ns.inclusive?"less than or equal to":"less than"," ").concat(ns.maximum):ns.type==="bigint"?"BigInt must be ".concat(ns.exact?"exactly":ns.inclusive?"less than or equal to":"less than"," ").concat(ns.maximum):ns.type==="date"?"Date must be ".concat(ns.exact?"exactly":ns.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(ns.maximum))):"Invalid input";break;case Te$1.custom:Oo="Invalid input";break;case Te$1.invalid_intersection_types:Oo="Intersection results could not be merged";break;case Te$1.not_multiple_of:Oo="Number must be a multiple of ".concat(ns.multipleOf);break;case Te$1.not_finite:Oo="Number must be finite";break;default:Oo=jr.defaultError,be$1.assertNever(ns)}return{message:Oo}};let Se$1=Ce$1;function Oe$1(){return Se$1}const Ee$1=ns=>{const{data:jr,path:Oo,errorMaps:Mo,issueData:Di}=ns,Qi=[...Oo,...Di.path||[]],Tc={...Di,path:Qi};if(Di.message!==void 0)return{...Di,path:Qi,message:Di.message};let $c="";const _c=Mo.filter((xc=>!!xc)).slice().reverse();for(const xc of _c)$c=xc(Tc,{data:jr,defaultError:$c}).message;return{...Di,path:Qi,message:$c}};function Pe$1(ns,jr){const Oo=Oe$1(),Mo=Ee$1({issueData:jr,data:ns.data,path:ns.path,errorMaps:[ns.common.contextualErrorMap,ns.schemaErrorMap,Oo,Oo===Ce$1?void 0:Ce$1].filter((Di=>!!Di))});ns.common.issues.push(Mo)}let Ae$1=class ed{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(jr,Oo){const Mo=[];for(const Di of Oo){if(Di.status==="aborted")return Ze$1;Di.status==="dirty"&&jr.dirty(),Mo.push(Di.value)}return{status:jr.value,value:Mo}}static async mergeObjectAsync(jr,Oo){const Mo=[];for(const Di of Oo){const Qi=await Di.key,Tc=await Di.value;Mo.push({key:Qi,value:Tc})}return ed.mergeObjectSync(jr,Mo)}static mergeObjectSync(jr,Oo){const Mo={};for(const Di of Oo){const{key:Qi,value:Tc}=Di;if(Qi.status==="aborted"||Tc.status==="aborted")return Ze$1;Qi.status==="dirty"&&jr.dirty(),Tc.status==="dirty"&&jr.dirty(),Qi.value==="__proto__"||Tc.value===void 0&&!Di.alwaysSet||(Mo[Qi.value]=Tc.value)}return{status:jr.value,value:Mo}}};const Ze$1=Object.freeze({status:"aborted"}),Ne$1=ns=>({status:"dirty",value:ns}),je$1=ns=>({status:"valid",value:ns}),De$1=ns=>ns.status==="aborted",Le$1=ns=>ns.status==="dirty",Re$1=ns=>ns.status==="valid",Me$1=ns=>typeof Promise<"u"&&ns instanceof Promise;function ze$1(ns,jr,Oo,Mo){if(typeof jr=="function"?ns!==jr||!0:!jr.has(ns))throw new TypeError("Cannot read private member from an object whose class did not declare it");return jr.get(ns)}function qe$1(ns,jr,Oo,Mo,Di){if(typeof jr=="function"?ns!==jr||!0:!jr.has(ns))throw new TypeError("Cannot write private member to an object whose class did not declare it");return jr.set(ns,Oo),Oo}var He$1,Fe$1,Be$1;typeof SuppressedError=="function"&&SuppressedError,(function(ns){ns.errToObj=jr=>typeof jr=="string"?{message:jr}:jr||{},ns.toString=jr=>typeof jr=="string"?jr:jr?.message})(He$1||(He$1={}));let Ue$1=class{constructor(jr,Oo,Mo,Di){this._cachedPath=[],this.parent=jr,this.data=Oo,this._path=Mo,this._key=Di}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const Ve$1=(ns,jr)=>{if(Re$1(jr))return{success:!0,data:jr.value};if(!ns.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const Oo=new Ie$1(ns.common.issues);return this._error=Oo,this._error}}};function We$1(ns){if(!ns)return{};const{errorMap:jr,invalid_type_error:Oo,required_error:Mo,description:Di}=ns;if(jr&&(Oo||Mo))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return jr?{errorMap:jr,description:Di}:{errorMap:(Qi,Tc)=>{var $c,_c;const{message:xc}=ns;return Qi.code==="invalid_enum_value"?{message:xc??Tc.defaultError}:Tc.data===void 0?{message:($c=xc??Mo)!==null&&$c!==void 0?$c:Tc.defaultError}:Qi.code!=="invalid_type"?{message:Tc.defaultError}:{message:(_c=xc??Oo)!==null&&_c!==void 0?_c:Tc.defaultError}},description:Di}}let $e$1=class{get description(){return this._def.description}_getType(jr){return xe$1(jr.data)}_getOrReturnCtx(jr,Oo){return Oo||{common:jr.parent.common,data:jr.data,parsedType:xe$1(jr.data),schemaErrorMap:this._def.errorMap,path:jr.path,parent:jr.parent}}_processInputParams(jr){return{status:new Ae$1,ctx:{common:jr.parent.common,data:jr.data,parsedType:xe$1(jr.data),schemaErrorMap:this._def.errorMap,path:jr.path,parent:jr.parent}}}_parseSync(jr){const Oo=this._parse(jr);if(Me$1(Oo))throw new Error("Synchronous parse encountered promise.");return Oo}_parseAsync(jr){const Oo=this._parse(jr);return Promise.resolve(Oo)}parse(jr,Oo){const Mo=this.safeParse(jr,Oo);if(Mo.success)return Mo.data;throw Mo.error}safeParse(jr,Oo){var Mo;const Di={common:{issues:[],async:(Mo=Oo?.async)!==null&&Mo!==void 0&&Mo,contextualErrorMap:Oo?.errorMap},path:Oo?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:xe$1(jr)},Qi=this._parseSync({data:jr,path:Di.path,parent:Di});return Ve$1(Di,Qi)}"~validate"(jr){var Oo,Mo;const Di={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:xe$1(jr)};if(!this["~standard"].async)try{const Qi=this._parseSync({data:jr,path:[],parent:Di});return Re$1(Qi)?{value:Qi.value}:{issues:Di.common.issues}}catch(Qi){!((Mo=(Oo=Qi?.message)===null||Oo===void 0?void 0:Oo.toLowerCase())===null||Mo===void 0)&&Mo.includes("encountered")&&(this["~standard"].async=!0),Di.common={issues:[],async:!0}}return this._parseAsync({data:jr,path:[],parent:Di}).then((Qi=>Re$1(Qi)?{value:Qi.value}:{issues:Di.common.issues}))}async parseAsync(jr,Oo){const Mo=await this.safeParseAsync(jr,Oo);if(Mo.success)return Mo.data;throw Mo.error}async safeParseAsync(jr,Oo){const Mo={common:{issues:[],contextualErrorMap:Oo?.errorMap,async:!0},path:Oo?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:jr,parsedType:xe$1(jr)},Di=this._parse({data:jr,path:Mo.path,parent:Mo}),Qi=await(Me$1(Di)?Di:Promise.resolve(Di));return Ve$1(Mo,Qi)}refine(jr,Oo){const Mo=Di=>typeof Oo=="string"||Oo===void 0?{message:Oo}:typeof Oo=="function"?Oo(Di):Oo;return this._refinement(((Di,Qi)=>{const Tc=jr(Di),$c=()=>Qi.addIssue({code:Te$1.custom,...Mo(Di)});return typeof Promise<"u"&&Tc instanceof Promise?Tc.then((_c=>!!_c||($c(),!1))):!!Tc||($c(),!1)}))}refinement(jr,Oo){return this._refinement(((Mo,Di)=>!!jr(Mo)||(Di.addIssue(typeof Oo=="function"?Oo(Mo,Di):Oo),!1)))}_refinement(jr){return new $t$1({schema:this,typeName:on$1.ZodEffects,effect:{type:"refinement",refinement:jr}})}superRefine(jr){return this._refinement(jr)}constructor(jr){this.spa=this.safeParseAsync,this._def=jr,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:Oo=>this["~validate"](Oo)}}optional(){return Kt$1.create(this,this._def)}nullable(){return Gt$1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ot$1.create(this)}promise(){return Wt$1.create(this,this._def)}or(jr){return At$1.create([this,jr],this._def)}and(jr){return Dt.create(this,jr,this._def)}transform(jr){return new $t$1({...We$1(this._def),schema:this,typeName:on$1.ZodEffects,effect:{type:"transform",transform:jr}})}default(jr){const Oo=typeof jr=="function"?jr:()=>jr;return new Jt$1({...We$1(this._def),innerType:this,defaultValue:Oo,typeName:on$1.ZodDefault})}brand(){return new en$1({typeName:on$1.ZodBranded,type:this,...We$1(this._def)})}catch(jr){const Oo=typeof jr=="function"?jr:()=>jr;return new Xt$1({...We$1(this._def),innerType:this,catchValue:Oo,typeName:on$1.ZodCatch})}describe(jr){return new this.constructor({...this._def,description:jr})}pipe(jr){return tn$1.create(this,jr)}readonly(){return nn$1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Ke$1=/^c[^\s-]{8,}$/i,Ge$1=/^[0-9a-z]+$/,Je$1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xe$1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ye$1=/^[a-z0-9_-]{21}$/i,Qe$1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,et$1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tt$1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let nt$1;const at$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rt$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,st$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,it$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ot$1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ct$1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dt$1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lt$1=new RegExp("^".concat(dt$1,"$"));function ut$1(ns){let jr="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return ns.precision?jr="".concat(jr,"\\.\\d{").concat(ns.precision,"}"):ns.precision==null&&(jr="".concat(jr,"(\\.\\d+)?")),jr}function ht$1(ns){let jr="".concat(dt$1,"T").concat(ut$1(ns));const Oo=[];return Oo.push(ns.local?"Z?":"Z"),ns.offset&&Oo.push("([+-]\\d{2}:?\\d{2})"),jr="".concat(jr,"(").concat(Oo.join("|"),")"),new RegExp("^".concat(jr,"$"))}function pt$1(ns,jr){if(!Qe$1.test(ns))return!1;try{const[Oo]=ns.split("."),Mo=Oo.replace(/-/g,"+").replace(/_/g,"/").padEnd(Oo.length+(4-Oo.length%4)%4,"="),Di=JSON.parse(atob(Mo));return typeof Di=="object"&&Di!==null&&!(!Di.typ||!Di.alg)&&(!jr||Di.alg===jr)}catch{return!1}}function mt$1(ns,jr){return!(jr!=="v4"&&jr||!rt$1.test(ns))||!(jr!=="v6"&&jr||!it$1.test(ns))}let ft$1=class Du extends $e$1{_parse(jr){if(this._def.coerce&&(jr.data=String(jr.data)),this._getType(jr)!==ke$1.string){const Tc=this._getOrReturnCtx(jr);return Pe$1(Tc,{code:Te$1.invalid_type,expected:ke$1.string,received:Tc.parsedType}),Ze$1}const Oo=new Ae$1;let Mo;for(const Tc of this._def.checks)if(Tc.kind==="min")jr.data.length<Tc.value&&(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.too_small,minimum:Tc.value,type:"string",inclusive:!0,exact:!1,message:Tc.message}),Oo.dirty());else if(Tc.kind==="max")jr.data.length>Tc.value&&(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.too_big,maximum:Tc.value,type:"string",inclusive:!0,exact:!1,message:Tc.message}),Oo.dirty());else if(Tc.kind==="length"){const $c=jr.data.length>Tc.value,_c=jr.data.length<Tc.value;($c||_c)&&(Mo=this._getOrReturnCtx(jr,Mo),$c?Pe$1(Mo,{code:Te$1.too_big,maximum:Tc.value,type:"string",inclusive:!0,exact:!0,message:Tc.message}):_c&&Pe$1(Mo,{code:Te$1.too_small,minimum:Tc.value,type:"string",inclusive:!0,exact:!0,message:Tc.message}),Oo.dirty())}else if(Tc.kind==="email")tt$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"email",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="emoji")nt$1||(nt$1=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),nt$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"emoji",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="uuid")Xe$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"uuid",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="nanoid")Ye$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"nanoid",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="cuid")Ke$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"cuid",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="cuid2")Ge$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"cuid2",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="ulid")Je$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"ulid",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty());else if(Tc.kind==="url")try{new URL(jr.data)}catch{Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"url",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()}else Tc.kind==="regex"?(Tc.regex.lastIndex=0,Tc.regex.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"regex",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty())):Tc.kind==="trim"?jr.data=jr.data.trim():Tc.kind==="includes"?jr.data.includes(Tc.value,Tc.position)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:{includes:Tc.value,position:Tc.position},message:Tc.message}),Oo.dirty()):Tc.kind==="toLowerCase"?jr.data=jr.data.toLowerCase():Tc.kind==="toUpperCase"?jr.data=jr.data.toUpperCase():Tc.kind==="startsWith"?jr.data.startsWith(Tc.value)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:{startsWith:Tc.value},message:Tc.message}),Oo.dirty()):Tc.kind==="endsWith"?jr.data.endsWith(Tc.value)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:{endsWith:Tc.value},message:Tc.message}),Oo.dirty()):Tc.kind==="datetime"?ht$1(Tc).test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:"datetime",message:Tc.message}),Oo.dirty()):Tc.kind==="date"?lt$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:"date",message:Tc.message}),Oo.dirty()):Tc.kind==="time"?new RegExp("^".concat(ut$1(Tc),"$")).test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.invalid_string,validation:"time",message:Tc.message}),Oo.dirty()):Tc.kind==="duration"?et$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"duration",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()):Tc.kind==="ip"?(Di=jr.data,((Qi=Tc.version)!=="v4"&&Qi||!at$1.test(Di))&&(Qi!=="v6"&&Qi||!st$1.test(Di))&&(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"ip",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty())):Tc.kind==="jwt"?pt$1(jr.data,Tc.alg)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"jwt",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()):Tc.kind==="cidr"?mt$1(jr.data,Tc.version)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"cidr",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()):Tc.kind==="base64"?ot$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"base64",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()):Tc.kind==="base64url"?ct$1.test(jr.data)||(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{validation:"base64url",code:Te$1.invalid_string,message:Tc.message}),Oo.dirty()):be$1.assertNever(Tc);var Di,Qi;return{status:Oo.value,value:jr.data}}_regex(jr,Oo,Mo){return this.refinement((Di=>jr.test(Di)),{validation:Oo,code:Te$1.invalid_string,...He$1.errToObj(Mo)})}_addCheck(jr){return new Du({...this._def,checks:[...this._def.checks,jr]})}email(jr){return this._addCheck({kind:"email",...He$1.errToObj(jr)})}url(jr){return this._addCheck({kind:"url",...He$1.errToObj(jr)})}emoji(jr){return this._addCheck({kind:"emoji",...He$1.errToObj(jr)})}uuid(jr){return this._addCheck({kind:"uuid",...He$1.errToObj(jr)})}nanoid(jr){return this._addCheck({kind:"nanoid",...He$1.errToObj(jr)})}cuid(jr){return this._addCheck({kind:"cuid",...He$1.errToObj(jr)})}cuid2(jr){return this._addCheck({kind:"cuid2",...He$1.errToObj(jr)})}ulid(jr){return this._addCheck({kind:"ulid",...He$1.errToObj(jr)})}base64(jr){return this._addCheck({kind:"base64",...He$1.errToObj(jr)})}base64url(jr){return this._addCheck({kind:"base64url",...He$1.errToObj(jr)})}jwt(jr){return this._addCheck({kind:"jwt",...He$1.errToObj(jr)})}ip(jr){return this._addCheck({kind:"ip",...He$1.errToObj(jr)})}cidr(jr){return this._addCheck({kind:"cidr",...He$1.errToObj(jr)})}datetime(jr){var Oo,Mo;return typeof jr=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:jr}):this._addCheck({kind:"datetime",precision:jr?.precision===void 0?null:jr?.precision,offset:(Oo=jr?.offset)!==null&&Oo!==void 0&&Oo,local:(Mo=jr?.local)!==null&&Mo!==void 0&&Mo,...He$1.errToObj(jr?.message)})}date(jr){return this._addCheck({kind:"date",message:jr})}time(jr){return typeof jr=="string"?this._addCheck({kind:"time",precision:null,message:jr}):this._addCheck({kind:"time",precision:jr?.precision===void 0?null:jr?.precision,...He$1.errToObj(jr?.message)})}duration(jr){return this._addCheck({kind:"duration",...He$1.errToObj(jr)})}regex(jr,Oo){return this._addCheck({kind:"regex",regex:jr,...He$1.errToObj(Oo)})}includes(jr,Oo){return this._addCheck({kind:"includes",value:jr,position:Oo?.position,...He$1.errToObj(Oo?.message)})}startsWith(jr,Oo){return this._addCheck({kind:"startsWith",value:jr,...He$1.errToObj(Oo)})}endsWith(jr,Oo){return this._addCheck({kind:"endsWith",value:jr,...He$1.errToObj(Oo)})}min(jr,Oo){return this._addCheck({kind:"min",value:jr,...He$1.errToObj(Oo)})}max(jr,Oo){return this._addCheck({kind:"max",value:jr,...He$1.errToObj(Oo)})}length(jr,Oo){return this._addCheck({kind:"length",value:jr,...He$1.errToObj(Oo)})}nonempty(jr){return this.min(1,He$1.errToObj(jr))}trim(){return new Du({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Du({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Du({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((jr=>jr.kind==="datetime"))}get isDate(){return!!this._def.checks.find((jr=>jr.kind==="date"))}get isTime(){return!!this._def.checks.find((jr=>jr.kind==="time"))}get isDuration(){return!!this._def.checks.find((jr=>jr.kind==="duration"))}get isEmail(){return!!this._def.checks.find((jr=>jr.kind==="email"))}get isURL(){return!!this._def.checks.find((jr=>jr.kind==="url"))}get isEmoji(){return!!this._def.checks.find((jr=>jr.kind==="emoji"))}get isUUID(){return!!this._def.checks.find((jr=>jr.kind==="uuid"))}get isNANOID(){return!!this._def.checks.find((jr=>jr.kind==="nanoid"))}get isCUID(){return!!this._def.checks.find((jr=>jr.kind==="cuid"))}get isCUID2(){return!!this._def.checks.find((jr=>jr.kind==="cuid2"))}get isULID(){return!!this._def.checks.find((jr=>jr.kind==="ulid"))}get isIP(){return!!this._def.checks.find((jr=>jr.kind==="ip"))}get isCIDR(){return!!this._def.checks.find((jr=>jr.kind==="cidr"))}get isBase64(){return!!this._def.checks.find((jr=>jr.kind==="base64"))}get isBase64url(){return!!this._def.checks.find((jr=>jr.kind==="base64url"))}get minLength(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxLength(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}};function gt$1(ns,jr){const Oo=(ns.toString().split(".")[1]||"").length,Mo=(jr.toString().split(".")[1]||"").length,Di=Oo>Mo?Oo:Mo;return parseInt(ns.toFixed(Di).replace(".",""))%parseInt(jr.toFixed(Di).replace(".",""))/Math.pow(10,Di)}ft$1.create=ns=>{var jr;return new ft$1({checks:[],typeName:on$1.ZodString,coerce:(jr=ns?.coerce)!==null&&jr!==void 0&&jr,...We$1(ns)})};let vt$1=class Gu extends $e$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(jr){if(this._def.coerce&&(jr.data=Number(jr.data)),this._getType(jr)!==ke$1.number){const Di=this._getOrReturnCtx(jr);return Pe$1(Di,{code:Te$1.invalid_type,expected:ke$1.number,received:Di.parsedType}),Ze$1}let Oo;const Mo=new Ae$1;for(const Di of this._def.checks)Di.kind==="int"?be$1.isInteger(jr.data)||(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.invalid_type,expected:"integer",received:"float",message:Di.message}),Mo.dirty()):Di.kind==="min"?(Di.inclusive?jr.data<Di.value:jr.data<=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.too_small,minimum:Di.value,type:"number",inclusive:Di.inclusive,exact:!1,message:Di.message}),Mo.dirty()):Di.kind==="max"?(Di.inclusive?jr.data>Di.value:jr.data>=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.too_big,maximum:Di.value,type:"number",inclusive:Di.inclusive,exact:!1,message:Di.message}),Mo.dirty()):Di.kind==="multipleOf"?gt$1(jr.data,Di.value)!==0&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.not_multiple_of,multipleOf:Di.value,message:Di.message}),Mo.dirty()):Di.kind==="finite"?Number.isFinite(jr.data)||(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.not_finite,message:Di.message}),Mo.dirty()):be$1.assertNever(Di);return{status:Mo.value,value:jr.data}}gte(jr,Oo){return this.setLimit("min",jr,!0,He$1.toString(Oo))}gt(jr,Oo){return this.setLimit("min",jr,!1,He$1.toString(Oo))}lte(jr,Oo){return this.setLimit("max",jr,!0,He$1.toString(Oo))}lt(jr,Oo){return this.setLimit("max",jr,!1,He$1.toString(Oo))}setLimit(jr,Oo,Mo,Di){return new Gu({...this._def,checks:[...this._def.checks,{kind:jr,value:Oo,inclusive:Mo,message:He$1.toString(Di)}]})}_addCheck(jr){return new Gu({...this._def,checks:[...this._def.checks,jr]})}int(jr){return this._addCheck({kind:"int",message:He$1.toString(jr)})}positive(jr){return this._addCheck({kind:"min",value:0,inclusive:!1,message:He$1.toString(jr)})}negative(jr){return this._addCheck({kind:"max",value:0,inclusive:!1,message:He$1.toString(jr)})}nonpositive(jr){return this._addCheck({kind:"max",value:0,inclusive:!0,message:He$1.toString(jr)})}nonnegative(jr){return this._addCheck({kind:"min",value:0,inclusive:!0,message:He$1.toString(jr)})}multipleOf(jr,Oo){return this._addCheck({kind:"multipleOf",value:jr,message:He$1.toString(Oo)})}finite(jr){return this._addCheck({kind:"finite",message:He$1.toString(jr)})}safe(jr){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:He$1.toString(jr)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:He$1.toString(jr)})}get minValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}get isInt(){return!!this._def.checks.find((jr=>jr.kind==="int"||jr.kind==="multipleOf"&&be$1.isInteger(jr.value)))}get isFinite(){let jr=null,Oo=null;for(const Mo of this._def.checks){if(Mo.kind==="finite"||Mo.kind==="int"||Mo.kind==="multipleOf")return!0;Mo.kind==="min"?(Oo===null||Mo.value>Oo)&&(Oo=Mo.value):Mo.kind==="max"&&(jr===null||Mo.value<jr)&&(jr=Mo.value)}return Number.isFinite(Oo)&&Number.isFinite(jr)}};vt$1.create=ns=>new vt$1({checks:[],typeName:on$1.ZodNumber,coerce:ns?.coerce||!1,...We$1(ns)});let yt$1=class Ku extends $e$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(jr){if(this._def.coerce)try{jr.data=BigInt(jr.data)}catch{return this._getInvalidInput(jr)}if(this._getType(jr)!==ke$1.bigint)return this._getInvalidInput(jr);let Oo;const Mo=new Ae$1;for(const Di of this._def.checks)Di.kind==="min"?(Di.inclusive?jr.data<Di.value:jr.data<=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.too_small,type:"bigint",minimum:Di.value,inclusive:Di.inclusive,message:Di.message}),Mo.dirty()):Di.kind==="max"?(Di.inclusive?jr.data>Di.value:jr.data>=Di.value)&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.too_big,type:"bigint",maximum:Di.value,inclusive:Di.inclusive,message:Di.message}),Mo.dirty()):Di.kind==="multipleOf"?jr.data%Di.value!==BigInt(0)&&(Oo=this._getOrReturnCtx(jr,Oo),Pe$1(Oo,{code:Te$1.not_multiple_of,multipleOf:Di.value,message:Di.message}),Mo.dirty()):be$1.assertNever(Di);return{status:Mo.value,value:jr.data}}_getInvalidInput(jr){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.bigint,received:Oo.parsedType}),Ze$1}gte(jr,Oo){return this.setLimit("min",jr,!0,He$1.toString(Oo))}gt(jr,Oo){return this.setLimit("min",jr,!1,He$1.toString(Oo))}lte(jr,Oo){return this.setLimit("max",jr,!0,He$1.toString(Oo))}lt(jr,Oo){return this.setLimit("max",jr,!1,He$1.toString(Oo))}setLimit(jr,Oo,Mo,Di){return new Ku({...this._def,checks:[...this._def.checks,{kind:jr,value:Oo,inclusive:Mo,message:He$1.toString(Di)}]})}_addCheck(jr){return new Ku({...this._def,checks:[...this._def.checks,jr]})}positive(jr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:He$1.toString(jr)})}negative(jr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:He$1.toString(jr)})}nonpositive(jr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:He$1.toString(jr)})}nonnegative(jr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:He$1.toString(jr)})}multipleOf(jr,Oo){return this._addCheck({kind:"multipleOf",value:jr,message:He$1.toString(Oo)})}get minValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr}get maxValue(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr}};yt$1.create=ns=>{var jr;return new yt$1({checks:[],typeName:on$1.ZodBigInt,coerce:(jr=ns?.coerce)!==null&&jr!==void 0&&jr,...We$1(ns)})};let _t$1=class extends $e$1{_parse(jr){if(this._def.coerce&&(jr.data=!!jr.data),this._getType(jr)!==ke$1.boolean){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.boolean,received:Oo.parsedType}),Ze$1}return je$1(jr.data)}};_t$1.create=ns=>new _t$1({typeName:on$1.ZodBoolean,coerce:ns?.coerce||!1,...We$1(ns)});let bt$1=class td extends $e$1{_parse(jr){if(this._def.coerce&&(jr.data=new Date(jr.data)),this._getType(jr)!==ke$1.date){const Di=this._getOrReturnCtx(jr);return Pe$1(Di,{code:Te$1.invalid_type,expected:ke$1.date,received:Di.parsedType}),Ze$1}if(isNaN(jr.data.getTime()))return Pe$1(this._getOrReturnCtx(jr),{code:Te$1.invalid_date}),Ze$1;const Oo=new Ae$1;let Mo;for(const Di of this._def.checks)Di.kind==="min"?jr.data.getTime()<Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.too_small,message:Di.message,inclusive:!0,exact:!1,minimum:Di.value,type:"date"}),Oo.dirty()):Di.kind==="max"?jr.data.getTime()>Di.value&&(Mo=this._getOrReturnCtx(jr,Mo),Pe$1(Mo,{code:Te$1.too_big,message:Di.message,inclusive:!0,exact:!1,maximum:Di.value,type:"date"}),Oo.dirty()):be$1.assertNever(Di);return{status:Oo.value,value:new Date(jr.data.getTime())}}_addCheck(jr){return new td({...this._def,checks:[...this._def.checks,jr]})}min(jr,Oo){return this._addCheck({kind:"min",value:jr.getTime(),message:He$1.toString(Oo)})}max(jr,Oo){return this._addCheck({kind:"max",value:jr.getTime(),message:He$1.toString(Oo)})}get minDate(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="min"&&(jr===null||Oo.value>jr)&&(jr=Oo.value);return jr!=null?new Date(jr):null}get maxDate(){let jr=null;for(const Oo of this._def.checks)Oo.kind==="max"&&(jr===null||Oo.value<jr)&&(jr=Oo.value);return jr!=null?new Date(jr):null}};bt$1.create=ns=>new bt$1({checks:[],coerce:ns?.coerce||!1,typeName:on$1.ZodDate,...We$1(ns)});let wt$1=class extends $e$1{_parse(jr){if(this._getType(jr)!==ke$1.symbol){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.symbol,received:Oo.parsedType}),Ze$1}return je$1(jr.data)}};wt$1.create=ns=>new wt$1({typeName:on$1.ZodSymbol,...We$1(ns)});let kt$1=class extends $e$1{_parse(jr){if(this._getType(jr)!==ke$1.undefined){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.undefined,received:Oo.parsedType}),Ze$1}return je$1(jr.data)}};kt$1.create=ns=>new kt$1({typeName:on$1.ZodUndefined,...We$1(ns)});let xt$1=class extends $e$1{_parse(jr){if(this._getType(jr)!==ke$1.null){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.null,received:Oo.parsedType}),Ze$1}return je$1(jr.data)}};xt$1.create=ns=>new xt$1({typeName:on$1.ZodNull,...We$1(ns)});let Tt$1=class extends $e$1{constructor(){super(...arguments),this._any=!0}_parse(jr){return je$1(jr.data)}};Tt$1.create=ns=>new Tt$1({typeName:on$1.ZodAny,...We$1(ns)});let It$1=class extends $e$1{constructor(){super(...arguments),this._unknown=!0}_parse(jr){return je$1(jr.data)}};It$1.create=ns=>new It$1({typeName:on$1.ZodUnknown,...We$1(ns)});let Ct$1=class extends $e$1{_parse(jr){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.never,received:Oo.parsedType}),Ze$1}};Ct$1.create=ns=>new Ct$1({typeName:on$1.ZodNever,...We$1(ns)});let St$1=class extends $e$1{_parse(jr){if(this._getType(jr)!==ke$1.undefined){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.void,received:Oo.parsedType}),Ze$1}return je$1(jr.data)}};St$1.create=ns=>new St$1({typeName:on$1.ZodVoid,...We$1(ns)});let Ot$1=class Uu extends $e$1{_parse(jr){const{ctx:Oo,status:Mo}=this._processInputParams(jr),Di=this._def;if(Oo.parsedType!==ke$1.array)return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.array,received:Oo.parsedType}),Ze$1;if(Di.exactLength!==null){const Tc=Oo.data.length>Di.exactLength.value,$c=Oo.data.length<Di.exactLength.value;(Tc||$c)&&(Pe$1(Oo,{code:Tc?Te$1.too_big:Te$1.too_small,minimum:$c?Di.exactLength.value:void 0,maximum:Tc?Di.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Di.exactLength.message}),Mo.dirty())}if(Di.minLength!==null&&Oo.data.length<Di.minLength.value&&(Pe$1(Oo,{code:Te$1.too_small,minimum:Di.minLength.value,type:"array",inclusive:!0,exact:!1,message:Di.minLength.message}),Mo.dirty()),Di.maxLength!==null&&Oo.data.length>Di.maxLength.value&&(Pe$1(Oo,{code:Te$1.too_big,maximum:Di.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Di.maxLength.message}),Mo.dirty()),Oo.common.async)return Promise.all([...Oo.data].map(((Tc,$c)=>Di.type._parseAsync(new Ue$1(Oo,Tc,Oo.path,$c))))).then((Tc=>Ae$1.mergeArray(Mo,Tc)));const Qi=[...Oo.data].map(((Tc,$c)=>Di.type._parseSync(new Ue$1(Oo,Tc,Oo.path,$c))));return Ae$1.mergeArray(Mo,Qi)}get element(){return this._def.type}min(jr,Oo){return new Uu({...this._def,minLength:{value:jr,message:He$1.toString(Oo)}})}max(jr,Oo){return new Uu({...this._def,maxLength:{value:jr,message:He$1.toString(Oo)}})}length(jr,Oo){return new Uu({...this._def,exactLength:{value:jr,message:He$1.toString(Oo)}})}nonempty(jr){return this.min(1,jr)}};function Et$1(ns){if(ns instanceof Pt$1){const jr={};for(const Oo in ns.shape){const Mo=ns.shape[Oo];jr[Oo]=Kt$1.create(Et$1(Mo))}return new Pt$1({...ns._def,shape:()=>jr})}return ns instanceof Ot$1?new Ot$1({...ns._def,type:Et$1(ns.element)}):ns instanceof Kt$1?Kt$1.create(Et$1(ns.unwrap())):ns instanceof Gt$1?Gt$1.create(Et$1(ns.unwrap())):ns instanceof Lt?Lt.create(ns.items.map((jr=>Et$1(jr)))):ns}Ot$1.create=(ns,jr)=>new Ot$1({type:ns,minLength:null,maxLength:null,exactLength:null,typeName:on$1.ZodArray,...We$1(jr)});let Pt$1=class Cu extends $e$1{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const jr=this._def.shape(),Oo=be$1.objectKeys(jr);return this._cached={shape:jr,keys:Oo}}_parse(jr){if(this._getType(jr)!==ke$1.object){const _c=this._getOrReturnCtx(jr);return Pe$1(_c,{code:Te$1.invalid_type,expected:ke$1.object,received:_c.parsedType}),Ze$1}const{status:Oo,ctx:Mo}=this._processInputParams(jr),{shape:Di,keys:Qi}=this._getCached(),Tc=[];if(!(this._def.catchall instanceof Ct$1&&this._def.unknownKeys==="strip"))for(const _c in Mo.data)Qi.includes(_c)||Tc.push(_c);const $c=[];for(const _c of Qi){const xc=Di[_c],Ec=Mo.data[_c];$c.push({key:{status:"valid",value:_c},value:xc._parse(new Ue$1(Mo,Ec,Mo.path,_c)),alwaysSet:_c in Mo.data})}if(this._def.catchall instanceof Ct$1){const _c=this._def.unknownKeys;if(_c==="passthrough")for(const xc of Tc)$c.push({key:{status:"valid",value:xc},value:{status:"valid",value:Mo.data[xc]}});else if(_c==="strict")Tc.length>0&&(Pe$1(Mo,{code:Te$1.unrecognized_keys,keys:Tc}),Oo.dirty());else if(_c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const _c=this._def.catchall;for(const xc of Tc){const Ec=Mo.data[xc];$c.push({key:{status:"valid",value:xc},value:_c._parse(new Ue$1(Mo,Ec,Mo.path,xc)),alwaysSet:xc in Mo.data})}}return Mo.common.async?Promise.resolve().then((async()=>{const _c=[];for(const xc of $c){const Ec=await xc.key,Pc=await xc.value;_c.push({key:Ec,value:Pc,alwaysSet:xc.alwaysSet})}return _c})).then((_c=>Ae$1.mergeObjectSync(Oo,_c))):Ae$1.mergeObjectSync(Oo,$c)}get shape(){return this._def.shape()}strict(jr){return He$1.errToObj,new Cu({...this._def,unknownKeys:"strict",...jr!==void 0?{errorMap:(Oo,Mo)=>{var Di,Qi,Tc,$c;const _c=(Tc=(Qi=(Di=this._def).errorMap)===null||Qi===void 0?void 0:Qi.call(Di,Oo,Mo).message)!==null&&Tc!==void 0?Tc:Mo.defaultError;return Oo.code==="unrecognized_keys"?{message:($c=He$1.errToObj(jr).message)!==null&&$c!==void 0?$c:_c}:{message:_c}}}:{}})}strip(){return new Cu({...this._def,unknownKeys:"strip"})}passthrough(){return new Cu({...this._def,unknownKeys:"passthrough"})}extend(jr){return new Cu({...this._def,shape:()=>({...this._def.shape(),...jr})})}merge(jr){return new Cu({unknownKeys:jr._def.unknownKeys,catchall:jr._def.catchall,shape:()=>({...this._def.shape(),...jr._def.shape()}),typeName:on$1.ZodObject})}setKey(jr,Oo){return this.augment({[jr]:Oo})}catchall(jr){return new Cu({...this._def,catchall:jr})}pick(jr){const Oo={};return be$1.objectKeys(jr).forEach((Mo=>{jr[Mo]&&this.shape[Mo]&&(Oo[Mo]=this.shape[Mo])})),new Cu({...this._def,shape:()=>Oo})}omit(jr){const Oo={};return be$1.objectKeys(this.shape).forEach((Mo=>{jr[Mo]||(Oo[Mo]=this.shape[Mo])})),new Cu({...this._def,shape:()=>Oo})}deepPartial(){return Et$1(this)}partial(jr){const Oo={};return be$1.objectKeys(this.shape).forEach((Mo=>{const Di=this.shape[Mo];jr&&!jr[Mo]?Oo[Mo]=Di:Oo[Mo]=Di.optional()})),new Cu({...this._def,shape:()=>Oo})}required(jr){const Oo={};return be$1.objectKeys(this.shape).forEach((Mo=>{if(jr&&!jr[Mo])Oo[Mo]=this.shape[Mo];else{let Di=this.shape[Mo];for(;Di instanceof Kt$1;)Di=Di._def.innerType;Oo[Mo]=Di}})),new Cu({...this._def,shape:()=>Oo})}keyof(){return Bt$1(be$1.objectKeys(this.shape))}};Pt$1.create=(ns,jr)=>new Pt$1({shape:()=>ns,unknownKeys:"strip",catchall:Ct$1.create(),typeName:on$1.ZodObject,...We$1(jr)}),Pt$1.strictCreate=(ns,jr)=>new Pt$1({shape:()=>ns,unknownKeys:"strict",catchall:Ct$1.create(),typeName:on$1.ZodObject,...We$1(jr)}),Pt$1.lazycreate=(ns,jr)=>new Pt$1({shape:ns,unknownKeys:"strip",catchall:Ct$1.create(),typeName:on$1.ZodObject,...We$1(jr)});let At$1=class extends $e$1{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo=this._def.options;if(Oo.common.async)return Promise.all(Mo.map((async Di=>{const Qi={...Oo,common:{...Oo.common,issues:[]},parent:null};return{result:await Di._parseAsync({data:Oo.data,path:Oo.path,parent:Qi}),ctx:Qi}}))).then((function(Di){for(const Tc of Di)if(Tc.result.status==="valid")return Tc.result;for(const Tc of Di)if(Tc.result.status==="dirty")return Oo.common.issues.push(...Tc.ctx.common.issues),Tc.result;const Qi=Di.map((Tc=>new Ie$1(Tc.ctx.common.issues)));return Pe$1(Oo,{code:Te$1.invalid_union,unionErrors:Qi}),Ze$1}));{let Di;const Qi=[];for(const $c of Mo){const _c={...Oo,common:{...Oo.common,issues:[]},parent:null},xc=$c._parseSync({data:Oo.data,path:Oo.path,parent:_c});if(xc.status==="valid")return xc;xc.status!=="dirty"||Di||(Di={result:xc,ctx:_c}),_c.common.issues.length&&Qi.push(_c.common.issues)}if(Di)return Oo.common.issues.push(...Di.ctx.common.issues),Di.result;const Tc=Qi.map(($c=>new Ie$1($c)));return Pe$1(Oo,{code:Te$1.invalid_union,unionErrors:Tc}),Ze$1}}get options(){return this._def.options}};At$1.create=(ns,jr)=>new At$1({options:ns,typeName:on$1.ZodUnion,...We$1(jr)});const Zt$1=ns=>ns instanceof Ht$1?Zt$1(ns.schema):ns instanceof $t$1?Zt$1(ns.innerType()):ns instanceof Ft$1?[ns.value]:ns instanceof Ut$1?ns.options:ns instanceof Vt$1?be$1.objectValues(ns.enum):ns instanceof Jt$1?Zt$1(ns._def.innerType):ns instanceof kt$1?[void 0]:ns instanceof xt$1?[null]:ns instanceof Kt$1?[void 0,...Zt$1(ns.unwrap())]:ns instanceof Gt$1?[null,...Zt$1(ns.unwrap())]:ns instanceof en$1||ns instanceof nn$1?Zt$1(ns.unwrap()):ns instanceof Xt$1?Zt$1(ns._def.innerType):[];let Nt$1=class rd extends $e$1{_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ke$1.object)return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.object,received:Oo.parsedType}),Ze$1;const Mo=this.discriminator,Di=Oo.data[Mo],Qi=this.optionsMap.get(Di);return Qi?Oo.common.async?Qi._parseAsync({data:Oo.data,path:Oo.path,parent:Oo}):Qi._parseSync({data:Oo.data,path:Oo.path,parent:Oo}):(Pe$1(Oo,{code:Te$1.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Mo]}),Ze$1)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(jr,Oo,Mo){const Di=new Map;for(const Qi of Oo){const Tc=Zt$1(Qi.shape[jr]);if(!Tc.length)throw new Error("A discriminator value for key `".concat(jr,"` could not be extracted from all schema options"));for(const $c of Tc){if(Di.has($c))throw new Error("Discriminator property ".concat(String(jr)," has duplicate value ").concat(String($c)));Di.set($c,Qi)}}return new rd({typeName:on$1.ZodDiscriminatedUnion,discriminator:jr,options:Oo,optionsMap:Di,...We$1(Mo)})}};function jt$1(ns,jr){const Oo=xe$1(ns),Mo=xe$1(jr);if(ns===jr)return{valid:!0,data:ns};if(Oo===ke$1.object&&Mo===ke$1.object){const Di=be$1.objectKeys(jr),Qi=be$1.objectKeys(ns).filter(($c=>Di.indexOf($c)!==-1)),Tc={...ns,...jr};for(const $c of Qi){const _c=jt$1(ns[$c],jr[$c]);if(!_c.valid)return{valid:!1};Tc[$c]=_c.data}return{valid:!0,data:Tc}}if(Oo===ke$1.array&&Mo===ke$1.array){if(ns.length!==jr.length)return{valid:!1};const Di=[];for(let Qi=0;Qi<ns.length;Qi++){const Tc=jt$1(ns[Qi],jr[Qi]);if(!Tc.valid)return{valid:!1};Di.push(Tc.data)}return{valid:!0,data:Di}}return Oo===ke$1.date&&Mo===ke$1.date&&+ns==+jr?{valid:!0,data:ns}:{valid:!1}}class Dt extends $e$1{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr),Di=(Qi,Tc)=>{if(De$1(Qi)||De$1(Tc))return Ze$1;const $c=jt$1(Qi.value,Tc.value);return $c.valid?((Le$1(Qi)||Le$1(Tc))&&Oo.dirty(),{status:Oo.value,value:$c.data}):(Pe$1(Mo,{code:Te$1.invalid_intersection_types}),Ze$1)};return Mo.common.async?Promise.all([this._def.left._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}),this._def.right._parseAsync({data:Mo.data,path:Mo.path,parent:Mo})]).then((Qi=>{let[Tc,$c]=Qi;return Di(Tc,$c)})):Di(this._def.left._parseSync({data:Mo.data,path:Mo.path,parent:Mo}),this._def.right._parseSync({data:Mo.data,path:Mo.path,parent:Mo}))}}Dt.create=(ns,jr,Oo)=>new Dt({left:ns,right:jr,typeName:on$1.ZodIntersection,...We$1(Oo)});class Lt extends $e$1{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ke$1.array)return Pe$1(Mo,{code:Te$1.invalid_type,expected:ke$1.array,received:Mo.parsedType}),Ze$1;if(Mo.data.length<this._def.items.length)return Pe$1(Mo,{code:Te$1.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze$1;!this._def.rest&&Mo.data.length>this._def.items.length&&(Pe$1(Mo,{code:Te$1.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oo.dirty());const Di=[...Mo.data].map(((Qi,Tc)=>{const $c=this._def.items[Tc]||this._def.rest;return $c?$c._parse(new Ue$1(Mo,Qi,Mo.path,Tc)):null})).filter((Qi=>!!Qi));return Mo.common.async?Promise.all(Di).then((Qi=>Ae$1.mergeArray(Oo,Qi))):Ae$1.mergeArray(Oo,Di)}get items(){return this._def.items}rest(jr){return new Lt({...this._def,rest:jr})}}Lt.create=(ns,jr)=>{if(!Array.isArray(ns))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Lt({items:ns,typeName:on$1.ZodTuple,rest:null,...We$1(jr)})};let Rt$1=class nd extends $e$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ke$1.object)return Pe$1(Mo,{code:Te$1.invalid_type,expected:ke$1.object,received:Mo.parsedType}),Ze$1;const Di=[],Qi=this._def.keyType,Tc=this._def.valueType;for(const $c in Mo.data)Di.push({key:Qi._parse(new Ue$1(Mo,$c,Mo.path,$c)),value:Tc._parse(new Ue$1(Mo,Mo.data[$c],Mo.path,$c)),alwaysSet:$c in Mo.data});return Mo.common.async?Ae$1.mergeObjectAsync(Oo,Di):Ae$1.mergeObjectSync(Oo,Di)}get element(){return this._def.valueType}static create(jr,Oo,Mo){return new nd(Oo instanceof $e$1?{keyType:jr,valueType:Oo,typeName:on$1.ZodRecord,...We$1(Mo)}:{keyType:ft$1.create(),valueType:jr,typeName:on$1.ZodRecord,...We$1(Oo)})}},Mt$1=class extends $e$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ke$1.map)return Pe$1(Mo,{code:Te$1.invalid_type,expected:ke$1.map,received:Mo.parsedType}),Ze$1;const Di=this._def.keyType,Qi=this._def.valueType,Tc=[...Mo.data.entries()].map((($c,_c)=>{let[xc,Ec]=$c;return{key:Di._parse(new Ue$1(Mo,xc,Mo.path,[_c,"key"])),value:Qi._parse(new Ue$1(Mo,Ec,Mo.path,[_c,"value"]))}}));if(Mo.common.async){const $c=new Map;return Promise.resolve().then((async()=>{for(const _c of Tc){const xc=await _c.key,Ec=await _c.value;if(xc.status==="aborted"||Ec.status==="aborted")return Ze$1;xc.status!=="dirty"&&Ec.status!=="dirty"||Oo.dirty(),$c.set(xc.value,Ec.value)}return{status:Oo.value,value:$c}}))}{const $c=new Map;for(const _c of Tc){const xc=_c.key,Ec=_c.value;if(xc.status==="aborted"||Ec.status==="aborted")return Ze$1;xc.status!=="dirty"&&Ec.status!=="dirty"||Oo.dirty(),$c.set(xc.value,Ec.value)}return{status:Oo.value,value:$c}}}};Mt$1.create=(ns,jr,Oo)=>new Mt$1({valueType:jr,keyType:ns,typeName:on$1.ZodMap,...We$1(Oo)});let zt$1=class Yu extends $e$1{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.parsedType!==ke$1.set)return Pe$1(Mo,{code:Te$1.invalid_type,expected:ke$1.set,received:Mo.parsedType}),Ze$1;const Di=this._def;Di.minSize!==null&&Mo.data.size<Di.minSize.value&&(Pe$1(Mo,{code:Te$1.too_small,minimum:Di.minSize.value,type:"set",inclusive:!0,exact:!1,message:Di.minSize.message}),Oo.dirty()),Di.maxSize!==null&&Mo.data.size>Di.maxSize.value&&(Pe$1(Mo,{code:Te$1.too_big,maximum:Di.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Di.maxSize.message}),Oo.dirty());const Qi=this._def.valueType;function Tc(_c){const xc=new Set;for(const Ec of _c){if(Ec.status==="aborted")return Ze$1;Ec.status==="dirty"&&Oo.dirty(),xc.add(Ec.value)}return{status:Oo.value,value:xc}}const $c=[...Mo.data.values()].map(((_c,xc)=>Qi._parse(new Ue$1(Mo,_c,Mo.path,xc))));return Mo.common.async?Promise.all($c).then((_c=>Tc(_c))):Tc($c)}min(jr,Oo){return new Yu({...this._def,minSize:{value:jr,message:He$1.toString(Oo)}})}max(jr,Oo){return new Yu({...this._def,maxSize:{value:jr,message:He$1.toString(Oo)}})}size(jr,Oo){return this.min(jr,Oo).max(jr,Oo)}nonempty(jr){return this.min(1,jr)}};zt$1.create=(ns,jr)=>new zt$1({valueType:ns,minSize:null,maxSize:null,typeName:on$1.ZodSet,...We$1(jr)});let qt$1=class Fu extends $e$1{constructor(){super(...arguments),this.validate=this.implement}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ke$1.function)return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.function,received:Oo.parsedType}),Ze$1;function Mo($c,_c){return Ee$1({data:$c,path:Oo.path,errorMaps:[Oo.common.contextualErrorMap,Oo.schemaErrorMap,Oe$1(),Ce$1].filter((xc=>!!xc)),issueData:{code:Te$1.invalid_arguments,argumentsError:_c}})}function Di($c,_c){return Ee$1({data:$c,path:Oo.path,errorMaps:[Oo.common.contextualErrorMap,Oo.schemaErrorMap,Oe$1(),Ce$1].filter((xc=>!!xc)),issueData:{code:Te$1.invalid_return_type,returnTypeError:_c}})}const Qi={errorMap:Oo.common.contextualErrorMap},Tc=Oo.data;if(this._def.returns instanceof Wt$1){const $c=this;return je$1((async function(){for(var _c=arguments.length,xc=new Array(_c),Ec=0;Ec<_c;Ec++)xc[Ec]=arguments[Ec];const Pc=new Ie$1([]),Ac=await $c._def.args.parseAsync(xc,Qi).catch((Mc=>{throw Pc.addIssue(Mo(xc,Mc)),Pc})),Oc=await Reflect.apply(Tc,this,Ac);return await $c._def.returns._def.type.parseAsync(Oc,Qi).catch((Mc=>{throw Pc.addIssue(Di(Oc,Mc)),Pc}))}))}{const $c=this;return je$1((function(){for(var _c=arguments.length,xc=new Array(_c),Ec=0;Ec<_c;Ec++)xc[Ec]=arguments[Ec];const Pc=$c._def.args.safeParse(xc,Qi);if(!Pc.success)throw new Ie$1([Mo(xc,Pc.error)]);const Ac=Reflect.apply(Tc,this,Pc.data),Oc=$c._def.returns.safeParse(Ac,Qi);if(!Oc.success)throw new Ie$1([Di(Ac,Oc.error)]);return Oc.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];return new Fu({...this._def,args:Lt.create(Oo).rest(It$1.create())})}returns(jr){return new Fu({...this._def,returns:jr})}implement(jr){return this.parse(jr)}strictImplement(jr){return this.parse(jr)}static create(jr,Oo,Mo){return new Fu({args:jr||Lt.create([]).rest(It$1.create()),returns:Oo||It$1.create(),typeName:on$1.ZodFunction,...We$1(Mo)})}},Ht$1=class extends $e$1{get schema(){return this._def.getter()}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);return this._def.getter()._parse({data:Oo.data,path:Oo.path,parent:Oo})}};Ht$1.create=(ns,jr)=>new Ht$1({getter:ns,typeName:on$1.ZodLazy,...We$1(jr)});let Ft$1=class extends $e$1{_parse(jr){if(jr.data!==this._def.value){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{received:Oo.data,code:Te$1.invalid_literal,expected:this._def.value}),Ze$1}return{status:"valid",value:jr.data}}get value(){return this._def.value}};function Bt$1(ns,jr){return new Ut$1({values:ns,typeName:on$1.ZodEnum,...We$1(jr)})}Ft$1.create=(ns,jr)=>new Ft$1({value:ns,typeName:on$1.ZodLiteral,...We$1(jr)});let Ut$1=class Xu extends $e$1{constructor(){super(...arguments),Fe$1.set(this,void 0)}_parse(jr){if(typeof jr.data!="string"){const Oo=this._getOrReturnCtx(jr),Mo=this._def.values;return Pe$1(Oo,{expected:be$1.joinValues(Mo),received:Oo.parsedType,code:Te$1.invalid_type}),Ze$1}if(ze$1(this,Fe$1)||qe$1(this,Fe$1,new Set(this._def.values)),!ze$1(this,Fe$1).has(jr.data)){const Oo=this._getOrReturnCtx(jr),Mo=this._def.values;return Pe$1(Oo,{received:Oo.data,code:Te$1.invalid_enum_value,options:Mo}),Ze$1}return je$1(jr.data)}get options(){return this._def.values}get enum(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}get Values(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}get Enum(){const jr={};for(const Oo of this._def.values)jr[Oo]=Oo;return jr}extract(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._def;return Xu.create(jr,{...this._def,...Oo})}exclude(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._def;return Xu.create(this.options.filter((Mo=>!jr.includes(Mo))),{...this._def,...Oo})}};Fe$1=new WeakMap,Ut$1.create=Bt$1;let Vt$1=class extends $e$1{constructor(){super(...arguments),Be$1.set(this,void 0)}_parse(jr){const Oo=be$1.getValidEnumValues(this._def.values),Mo=this._getOrReturnCtx(jr);if(Mo.parsedType!==ke$1.string&&Mo.parsedType!==ke$1.number){const Di=be$1.objectValues(Oo);return Pe$1(Mo,{expected:be$1.joinValues(Di),received:Mo.parsedType,code:Te$1.invalid_type}),Ze$1}if(ze$1(this,Be$1)||qe$1(this,Be$1,new Set(be$1.getValidEnumValues(this._def.values))),!ze$1(this,Be$1).has(jr.data)){const Di=be$1.objectValues(Oo);return Pe$1(Mo,{received:Mo.data,code:Te$1.invalid_enum_value,options:Di}),Ze$1}return je$1(jr.data)}get enum(){return this._def.values}};Be$1=new WeakMap,Vt$1.create=(ns,jr)=>new Vt$1({values:ns,typeName:on$1.ZodNativeEnum,...We$1(jr)});let Wt$1=class extends $e$1{unwrap(){return this._def.type}_parse(jr){const{ctx:Oo}=this._processInputParams(jr);if(Oo.parsedType!==ke$1.promise&&Oo.common.async===!1)return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.promise,received:Oo.parsedType}),Ze$1;const Mo=Oo.parsedType===ke$1.promise?Oo.data:Promise.resolve(Oo.data);return je$1(Mo.then((Di=>this._def.type.parseAsync(Di,{path:Oo.path,errorMap:Oo.common.contextualErrorMap}))))}};Wt$1.create=(ns,jr)=>new Wt$1({type:ns,typeName:on$1.ZodPromise,...We$1(jr)});let $t$1=class extends $e$1{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===on$1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr),Di=this._def.effect||null,Qi={addIssue:Tc=>{Pe$1(Mo,Tc),Tc.fatal?Oo.abort():Oo.dirty()},get path(){return Mo.path}};if(Qi.addIssue=Qi.addIssue.bind(Qi),Di.type==="preprocess"){const Tc=Di.transform(Mo.data,Qi);if(Mo.common.async)return Promise.resolve(Tc).then((async $c=>{if(Oo.value==="aborted")return Ze$1;const _c=await this._def.schema._parseAsync({data:$c,path:Mo.path,parent:Mo});return _c.status==="aborted"?Ze$1:_c.status==="dirty"||Oo.value==="dirty"?Ne$1(_c.value):_c}));{if(Oo.value==="aborted")return Ze$1;const $c=this._def.schema._parseSync({data:Tc,path:Mo.path,parent:Mo});return $c.status==="aborted"?Ze$1:$c.status==="dirty"||Oo.value==="dirty"?Ne$1($c.value):$c}}if(Di.type==="refinement"){const Tc=$c=>{const _c=Di.refinement($c,Qi);if(Mo.common.async)return Promise.resolve(_c);if(_c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return $c};if(Mo.common.async===!1){const $c=this._def.schema._parseSync({data:Mo.data,path:Mo.path,parent:Mo});return $c.status==="aborted"?Ze$1:($c.status==="dirty"&&Oo.dirty(),Tc($c.value),{status:Oo.value,value:$c.value})}return this._def.schema._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}).then(($c=>$c.status==="aborted"?Ze$1:($c.status==="dirty"&&Oo.dirty(),Tc($c.value).then((()=>({status:Oo.value,value:$c.value}))))))}if(Di.type==="transform"){if(Mo.common.async===!1){const Tc=this._def.schema._parseSync({data:Mo.data,path:Mo.path,parent:Mo});if(!Re$1(Tc))return Tc;const $c=Di.transform(Tc.value,Qi);if($c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:Oo.value,value:$c}}return this._def.schema._parseAsync({data:Mo.data,path:Mo.path,parent:Mo}).then((Tc=>Re$1(Tc)?Promise.resolve(Di.transform(Tc.value,Qi)).then(($c=>({status:Oo.value,value:$c}))):Tc))}be$1.assertNever(Di)}};$t$1.create=(ns,jr,Oo)=>new $t$1({schema:ns,typeName:on$1.ZodEffects,effect:jr,...We$1(Oo)}),$t$1.createWithPreprocess=(ns,jr,Oo)=>new $t$1({schema:jr,effect:{type:"preprocess",transform:ns},typeName:on$1.ZodEffects,...We$1(Oo)});let Kt$1=class extends $e$1{_parse(jr){return this._getType(jr)===ke$1.undefined?je$1(void 0):this._def.innerType._parse(jr)}unwrap(){return this._def.innerType}};Kt$1.create=(ns,jr)=>new Kt$1({innerType:ns,typeName:on$1.ZodOptional,...We$1(jr)});let Gt$1=class extends $e$1{_parse(jr){return this._getType(jr)===ke$1.null?je$1(null):this._def.innerType._parse(jr)}unwrap(){return this._def.innerType}};Gt$1.create=(ns,jr)=>new Gt$1({innerType:ns,typeName:on$1.ZodNullable,...We$1(jr)});let Jt$1=class extends $e$1{_parse(jr){const{ctx:Oo}=this._processInputParams(jr);let Mo=Oo.data;return Oo.parsedType===ke$1.undefined&&(Mo=this._def.defaultValue()),this._def.innerType._parse({data:Mo,path:Oo.path,parent:Oo})}removeDefault(){return this._def.innerType}};Jt$1.create=(ns,jr)=>new Jt$1({innerType:ns,typeName:on$1.ZodDefault,defaultValue:typeof jr.default=="function"?jr.default:()=>jr.default,...We$1(jr)});let Xt$1=class extends $e$1{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo={...Oo,common:{...Oo.common,issues:[]}},Di=this._def.innerType._parse({data:Mo.data,path:Mo.path,parent:{...Mo}});return Me$1(Di)?Di.then((Qi=>({status:"valid",value:Qi.status==="valid"?Qi.value:this._def.catchValue({get error(){return new Ie$1(Mo.common.issues)},input:Mo.data})}))):{status:"valid",value:Di.status==="valid"?Di.value:this._def.catchValue({get error(){return new Ie$1(Mo.common.issues)},input:Mo.data})}}removeCatch(){return this._def.innerType}};Xt$1.create=(ns,jr)=>new Xt$1({innerType:ns,typeName:on$1.ZodCatch,catchValue:typeof jr.catch=="function"?jr.catch:()=>jr.catch,...We$1(jr)});let Yt$1=class extends $e$1{_parse(jr){if(this._getType(jr)!==ke$1.nan){const Oo=this._getOrReturnCtx(jr);return Pe$1(Oo,{code:Te$1.invalid_type,expected:ke$1.nan,received:Oo.parsedType}),Ze$1}return{status:"valid",value:jr.data}}};Yt$1.create=ns=>new Yt$1({typeName:on$1.ZodNaN,...We$1(ns)});const Qt$1=Symbol("zod_brand");let en$1=class extends $e$1{_parse(jr){const{ctx:Oo}=this._processInputParams(jr),Mo=Oo.data;return this._def.type._parse({data:Mo,path:Oo.path,parent:Oo})}unwrap(){return this._def.type}},tn$1=class sd extends $e$1{_parse(jr){const{status:Oo,ctx:Mo}=this._processInputParams(jr);if(Mo.common.async)return(async()=>{const Di=await this._def.in._parseAsync({data:Mo.data,path:Mo.path,parent:Mo});return Di.status==="aborted"?Ze$1:Di.status==="dirty"?(Oo.dirty(),Ne$1(Di.value)):this._def.out._parseAsync({data:Di.value,path:Mo.path,parent:Mo})})();{const Di=this._def.in._parseSync({data:Mo.data,path:Mo.path,parent:Mo});return Di.status==="aborted"?Ze$1:Di.status==="dirty"?(Oo.dirty(),{status:"dirty",value:Di.value}):this._def.out._parseSync({data:Di.value,path:Mo.path,parent:Mo})}}static create(jr,Oo){return new sd({in:jr,out:Oo,typeName:on$1.ZodPipeline})}},nn$1=class extends $e$1{_parse(jr){const Oo=this._def.innerType._parse(jr),Mo=Di=>(Re$1(Di)&&(Di.value=Object.freeze(Di.value)),Di);return Me$1(Oo)?Oo.then((Di=>Mo(Di))):Mo(Oo)}unwrap(){return this._def.innerType}};function an$1(ns,jr){const Oo=typeof ns=="function"?ns(jr):typeof ns=="string"?{message:ns}:ns;return typeof Oo=="string"?{message:Oo}:Oo}function rn$1(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oo=arguments.length>2?arguments[2]:void 0;return ns?Tt$1.create().superRefine(((Mo,Di)=>{var Qi,Tc;const $c=ns(Mo);if($c instanceof Promise)return $c.then((_c=>{var xc,Ec;if(!_c){const Pc=an$1(jr,Mo),Ac=(Ec=(xc=Pc.fatal)!==null&&xc!==void 0?xc:Oo)===null||Ec===void 0||Ec;Di.addIssue({code:"custom",...Pc,fatal:Ac})}}));if(!$c){const _c=an$1(jr,Mo),xc=(Tc=(Qi=_c.fatal)!==null&&Qi!==void 0?Qi:Oo)===null||Tc===void 0||Tc;Di.addIssue({code:"custom",..._c,fatal:xc})}})):Tt$1.create()}nn$1.create=(ns,jr)=>new nn$1({innerType:ns,typeName:on$1.ZodReadonly,...We$1(jr)});const sn$1={object:Pt$1.lazycreate};var on$1;(function(ns){ns.ZodString="ZodString",ns.ZodNumber="ZodNumber",ns.ZodNaN="ZodNaN",ns.ZodBigInt="ZodBigInt",ns.ZodBoolean="ZodBoolean",ns.ZodDate="ZodDate",ns.ZodSymbol="ZodSymbol",ns.ZodUndefined="ZodUndefined",ns.ZodNull="ZodNull",ns.ZodAny="ZodAny",ns.ZodUnknown="ZodUnknown",ns.ZodNever="ZodNever",ns.ZodVoid="ZodVoid",ns.ZodArray="ZodArray",ns.ZodObject="ZodObject",ns.ZodUnion="ZodUnion",ns.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ns.ZodIntersection="ZodIntersection",ns.ZodTuple="ZodTuple",ns.ZodRecord="ZodRecord",ns.ZodMap="ZodMap",ns.ZodSet="ZodSet",ns.ZodFunction="ZodFunction",ns.ZodLazy="ZodLazy",ns.ZodLiteral="ZodLiteral",ns.ZodEnum="ZodEnum",ns.ZodEffects="ZodEffects",ns.ZodNativeEnum="ZodNativeEnum",ns.ZodOptional="ZodOptional",ns.ZodNullable="ZodNullable",ns.ZodDefault="ZodDefault",ns.ZodCatch="ZodCatch",ns.ZodPromise="ZodPromise",ns.ZodBranded="ZodBranded",ns.ZodPipeline="ZodPipeline",ns.ZodReadonly="ZodReadonly"})(on$1||(on$1={}));const cn$1=ft$1.create,dn$1=vt$1.create,ln$1=Yt$1.create,un$1=yt$1.create,hn$1=_t$1.create,pn$1=bt$1.create,mn$1=wt$1.create,fn$1=kt$1.create,gn$1=xt$1.create,vn$1=Tt$1.create,yn$1=It$1.create,_n$1=Ct$1.create,bn$1=St$1.create,wn$1=Ot$1.create,kn$1=Pt$1.create,xn$1=Pt$1.strictCreate,Tn$1=At$1.create,In$1=Nt$1.create,Cn$1=Dt.create,Sn$1=Lt.create,On$1=Rt$1.create,En$1=Mt$1.create,Pn$1=zt$1.create,An$1=qt$1.create,Zn$1=Ht$1.create,Nn$1=Ft$1.create,jn$1=Ut$1.create,Dn$1=Vt$1.create,Ln$1=Wt$1.create,Rn$1=$t$1.create,Mn$1=Kt$1.create,zn$1=Gt$1.create,qn$1=$t$1.createWithPreprocess,Hn$1=tn$1.create,Fn$1={string:ns=>ft$1.create({...ns,coerce:!0}),number:ns=>vt$1.create({...ns,coerce:!0}),boolean:ns=>_t$1.create({...ns,coerce:!0}),bigint:ns=>yt$1.create({...ns,coerce:!0}),date:ns=>bt$1.create({...ns,coerce:!0})},Bn$1=Ze$1;var Un$1=Object.freeze({__proto__:null,defaultErrorMap:Ce$1,setErrorMap:function(ns){Se$1=ns},getErrorMap:Oe$1,makeIssue:Ee$1,EMPTY_PATH:[],addIssueToContext:Pe$1,ParseStatus:Ae$1,INVALID:Ze$1,DIRTY:Ne$1,OK:je$1,isAborted:De$1,isDirty:Le$1,isValid:Re$1,isAsync:Me$1,get util(){return be$1},get objectUtil(){return we$1},ZodParsedType:ke$1,getParsedType:xe$1,ZodType:$e$1,datetimeRegex:ht$1,ZodString:ft$1,ZodNumber:vt$1,ZodBigInt:yt$1,ZodBoolean:_t$1,ZodDate:bt$1,ZodSymbol:wt$1,ZodUndefined:kt$1,ZodNull:xt$1,ZodAny:Tt$1,ZodUnknown:It$1,ZodNever:Ct$1,ZodVoid:St$1,ZodArray:Ot$1,ZodObject:Pt$1,ZodUnion:At$1,ZodDiscriminatedUnion:Nt$1,ZodIntersection:Dt,ZodTuple:Lt,ZodRecord:Rt$1,ZodMap:Mt$1,ZodSet:zt$1,ZodFunction:qt$1,ZodLazy:Ht$1,ZodLiteral:Ft$1,ZodEnum:Ut$1,ZodNativeEnum:Vt$1,ZodPromise:Wt$1,ZodEffects:$t$1,ZodTransformer:$t$1,ZodOptional:Kt$1,ZodNullable:Gt$1,ZodDefault:Jt$1,ZodCatch:Xt$1,ZodNaN:Yt$1,BRAND:Qt$1,ZodBranded:en$1,ZodPipeline:tn$1,ZodReadonly:nn$1,custom:rn$1,Schema:$e$1,ZodSchema:$e$1,late:sn$1,get ZodFirstPartyTypeKind(){return on$1},coerce:Fn$1,any:vn$1,array:wn$1,bigint:un$1,boolean:hn$1,date:pn$1,discriminatedUnion:In$1,effect:Rn$1,enum:jn$1,function:An$1,instanceof:function(ns){return rn$1((jr=>jr instanceof ns),arguments.length>1&&arguments[1]!==void 0?arguments[1]:{message:"Input not instance of ".concat(ns.name)})},intersection:Cn$1,lazy:Zn$1,literal:Nn$1,map:En$1,nan:ln$1,nativeEnum:Dn$1,never:_n$1,null:gn$1,nullable:zn$1,number:dn$1,object:kn$1,oboolean:()=>hn$1().optional(),onumber:()=>dn$1().optional(),optional:Mn$1,ostring:()=>cn$1().optional(),pipeline:Hn$1,preprocess:qn$1,promise:Ln$1,record:On$1,set:Pn$1,strictObject:xn$1,string:cn$1,symbol:mn$1,transformer:Rn$1,tuple:Sn$1,undefined:fn$1,union:Tn$1,unknown:yn$1,void:bn$1,NEVER:Bn$1,ZodIssueCode:Te$1,quotelessJson:ns=>JSON.stringify(ns,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Ie$1});const Vn$1=()=>Un$1.function().args(Un$1.custom()).returns(Un$1.boolean().optional());var Wn$1;Un$1.object({api:Un$1.string().refine((ns=>!ns.startsWith("http")),{message:"Just need host part in url"}),project:Un$1.string().min(1,"Missing value"),title:Un$1.string().min(1,"Missing value"),enableSSL:Un$1.boolean(),messageCapacity:Un$1.number(),useSecret:Un$1.boolean(),secret:Un$1.string().refine((ns=>!ns),{message:"Secret is not allowed to be set manually"}),offline:Un$1.boolean(),serializeData:Un$1.boolean(),disabledPlugins:Un$1.array(Un$1.string()),dataProcessor:Un$1.object({console:Vn$1(),network:Vn$1(),storage:Vn$1(),database:Vn$1(),page:Vn$1(),system:Vn$1()}).partial().strict()}).partial().strict(),(function(ns){ns[ns.CONNECTING=0]="CONNECTING",ns[ns.OPEN=1]="OPEN",ns[ns.CLOSING=2]="CLOSING",ns[ns.CLOSED=3]="CLOSED"})(Wn$1||(Wn$1={}));const $n$1=2e3,Kn$1=Math.pow(1.5,4)*$n$1;let Gn$1=class Lu{getSocket(){return this.socketWrapper}updateRoomInfo(){if(this.getPageSpyConfig){var jr;const{project:Oo,title:Mo}=this.getPageSpyConfig(),Di=(jr=this.getClient)===null||jr===void 0?void 0:jr.call(this).getName();this.send({type:he$1,content:{info:{name:Di,group:Oo,tags:{title:Mo,name:Di,group:Oo}}}},!0)}}constructor(){t$1(this,"socketUrl",""),t$1(this,"socketConnection",null),t$1(this,"debuggerConnection",null),t$1(this,"pingTimer",null),t$1(this,"pongTimer",null),t$1(this,"retryTimer",null),t$1(this,"isOffline",!1),t$1(this,"messageCapacity",0),t$1(this,"messages",[]),t$1(this,"events",{debug:[],refresh:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[],"public-data":[],"harbor-clear":[]}),t$1(this,"retryInterval",$n$1),t$1(this,"connectable",!0),t$1(this,"getPageSpyConfig",null),t$1(this,"getClient",null),this.addListener("atom-detail",Lu.handleResolveAtom),this.addListener("atom-getter",Lu.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}async init(jr){try{var Oo,Mo,Di,Qi,Tc;if(!jr)throw Error("WebSocket url cannot be empty");this.socketWrapper.clearListeners(),this.socketWrapper.getState()===Wn$1.OPEN&&await new Promise(($c=>{this.socketWrapper.onClose((()=>{this.socketWrapper.clearListeners(),$c()})),this.socketWrapper.close()})),(Oo=this.socketWrapper)===null||Oo===void 0||Oo.onOpen((()=>{this.connectOnline()})),(Mo=this.socketWrapper)===null||Mo===void 0||Mo.onMessage(($c=>{this.handleMessage($c)})),(Di=this.socketWrapper)===null||Di===void 0||Di.onClose((()=>{this.connectOffline()})),(Qi=this.socketWrapper)===null||Qi===void 0||Qi.onError((()=>{this.connectOffline()})),this.socketUrl=jr,(Tc=this.socketWrapper)===null||Tc===void 0||Tc.init(jr)}catch($c){g$1.error($c.message)}}addListener(jr,Oo){this.events[jr]||(this.events[jr]=[]),this.events[jr].push(Oo)}removeListener(jr,Oo){const Mo=this.events[jr]||[],Di=Mo.indexOf(Oo);Di>-1&&Mo.splice(Di,1)}broadcastMessage(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const Mo=(function(Di){return{type:le$1,content:{data:Di}}})(jr);this.send(Mo,Oo)}close(){var jr;this.connectable=!1,this.clearPing(),(jr=this.socketWrapper)===null||jr===void 0||jr.close(),this.messages=[],Object.entries(this.events).forEach((Oo=>{let[Mo,Di]=Oo;["atom-detail","atom-getter","debugger-online"].includes(Mo)||Di.splice(0)}))}connectOnline(){this.retryInterval=$n$1,this.updateRoomInfo(),this.ping()}connectOffline(){this.socketConnection=null,this.debuggerConnection=null,this.clearPing(),this.retryTimer&&clearTimeout(this.retryTimer),this.connectable&&(this.retryTimer=setTimeout((()=>{this.retryInterval<Kn$1&&(this.retryInterval*=1.5),this.retryTimer=null,this.tryReconnect()}),this.retryInterval))}tryReconnect(){this.init(this.socketUrl)}ping(){this.pingTimer&&clearTimeout(this.pingTimer),this.pongTimer&&clearTimeout(this.pongTimer),this.pingTimer=setTimeout((()=>{this.send({type:"ping",content:null}),this.pingTimer=null,this.pongTimer=setTimeout((()=>{this.connectOffline(),this.pongTimer=null}),5e3)}),5e3)}clearPing(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}handlePong(){clearTimeout(this.pongTimer),this.pongTimer=null,this.ping()}handleMessage(jr){var Oo;Lu.messageFilters.length&&Lu.messageFilters.forEach((Mc=>{jr=Mc(jr)}));const{CONNECT:Mo,MESSAGE:Di,ERROR:Qi,JOIN:Tc,PING:$c,PONG:_c,LEAVE:xc,CLOSE:Ec,BROADCAST:Pc}=me$1,Ac=JSON.parse(jr.data),{type:Oc}=Ac;switch(Oc){case Mo:const{selfConnection:Mc,roomConnections:Rc}=Ac.content;this.socketConnection=Mc,this.debuggerConnection=Rc.find((Gc=>Gc.userId==="Debugger"))||null;break;case Tc:case xc:const{connection:Uc}=Ac.content;Uc.userId==="Debugger"&&(Oc===Tc?(this.debuggerConnection=Uc,this.sendClientInfo()):this.debuggerConnection=null);break;case Di:const{data:Dc,from:Nc,to:zc}=Ac.content;zc.address===((Oo=this.socketConnection)===null||Oo===void 0?void 0:Oo.address)&&this.dispatchEvent(Dc.type,{source:Dc,from:Nc,to:zc});break;case Ec:case Qi:this.connectOffline()}this.handlePong()}dispatchEvent(jr,Oo){var Mo;["public-data"].includes(jr)?this.events["public-data"].forEach((Di=>{Di(Oo)})):(Mo=this.events[jr])===null||Mo===void 0||Mo.forEach((Di=>{Di.call(this,Oo,(Qi=>{this.unicastMessage(Qi,Oo.from)}))}))}unicastMessage(jr,Oo){const Mo=(function(Di,Qi,Tc){return{type:de$1,content:{data:Di,from:Qi,to:Tc}}})(jr,this.socketConnection,Oo);this.send(Mo)}handleFlushBuffer(jr){const{latestId:Oo}=jr.source.data,Mo=this.messages.findIndex((Di=>Di.content.data.data.id===Oo));this.messages.slice(Mo+1).forEach((Di=>{const Qi={type:de$1,content:{data:Di.content.data,from:this.socketConnection,to:jr.from}};this.send(Qi,!0)}))}static handleResolveAtom(jr,Oo){let{source:Mo}=jr;const{type:Di,data:Qi}=Mo;if(Di==="atom-detail"){const Tc=_e$1.get(Qi)||{};Oo(fe$1("atom-detail-".concat(Qi),Tc,!1))}}static handleAtomPropertyGetter(jr,Oo){let{source:Mo}=jr;const{type:Di,data:Qi}=Mo;if(Di==="atom-getter"){const{id:$c,parentId:_c,key:xc,instanceId:Ec}=Qi,Pc=_e$1.getOrigin(Ec),Ac=_e$1.getOrigin(_c);let Oc={};var Tc;Pc&&Ac?Oc=(Tc=Object.getOwnPropertyDescriptor(Ac,xc))===null||Tc===void 0||(Tc=Tc.get)===null||Tc===void 0?void 0:Tc.call(Pc):Oc=new Error("Getter computed failed"),Oo(fe$1("atom-getter-".concat($c),_e$1.transformToAtom(Oc)))}}send(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.checkIfSend(jr))try{var Mo;const Di=jr;Di.createdAt=Date.now(),Di.requestId=a$1();const Qi=(function(Tc){const{ok:$c,value:_c}=p$1(Tc);return $c?_c:JSON.stringify(Tc,((xc,Ec)=>p$1(Ec).value),2)})(Di);(Mo=this.socketWrapper)===null||Mo===void 0||Mo.send(Qi)}catch(Di){g$1.error("Incompatible: ".concat(Di.message)),this.connectOffline()}this.checkIfCache(jr,Oo)&&(this.messageCapacity!==0&&this.messages.length>=this.messageCapacity&&this.messages.shift(),this.messages.push(jr))}checkIfSend(jr){return this.socketWrapper.getState()===Wn$1.OPEN&&(!![he$1,ue$1].includes(jr.type)||!!this.debuggerConnection)}checkIfCache(jr){let Oo=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!this.isOffline&&!Oo&&![de$1,ue$1].includes(jr.type)}sendClientInfo(){var jr;const Oo=(jr=this.getClient)===null||jr===void 0?void 0:jr.call(this).makeClientInfoMsg();this.broadcastMessage({role:"client",type:"client-info",data:Oo},!0)}};t$1(Gn$1,"messageFilters",[]);const Jn$1=(function(){if(n$1()){const{lang:ns}=document.documentElement;return ns?l$1.some((jr=>jr===ns)):l$1.some((jr=>jr===navigator.language))}return!1})()?"zh":"en",Xn$1=new class{constructor(ns){t$1(this,"locales",void 0),t$1(this,"currentLang",void 0);const{locales:jr,defaultLang:Oo=Jn$1}=ns;if(!jr||Object.keys(jr).length===0)throw new Error("[PageSpy] Locales cannot be empty");if(!jr[Oo])throw new Error('[PageSpy] Language "'.concat(Oo,'" not found'));this.locales=jr,this.currentLang=Oo}t(ns,jr){const Oo=jr||this.currentLang,Mo=this.locales[Oo];return Mo?Mo[ns]||ns:(g$1.warn("Language '".concat(Oo,"' not found, falling back to default")),ns)}setLang(ns){this.locales[ns]?this.currentLang=ns:g$1.error("Language '".concat(ns,"' is not supported"))}getCurrentLang(){return this.currentLang}getSupportedLangs(){return Object.keys(this.locales)}}({locales:{zh:{title:"ç¦»çº¿æ¥å¿",uploadPeriods:"ä¸ä¼ æ¶é´æ®µ",downloadPeriods:"ä¸è½½æ¶é´æ®µ",readying:"åå¤æ°æ®...",ready:"æ°æ®å·²å°±ç»ª",success:"å¤çæå",fail:"å¤çå¤±è´¥",invalid:"æ æ³ä¸ä¼ ",copied:"å·²å¤å¶è°è¯è¿æ¥",selectPeriod:"éæ©æ¶é´æ®µ",periodDuration:"æ¯æ®µæ¶é¿",remark:"å¤æ³¨",remarkPlaceholder:"ä¸ä¼ åï¼å¯ä»¥çå°å¤æ³¨ä¿¡æ¯",from:"ä»",to:"å°",refreshed:"å·²å·æ°",minutes:"åé",eventCountNotEnough:"æ¶é´æ®µåçæ°æ®éä¸è¶³ä»¥åæ¾",invalidPeriods:"éæ©çå¼å§æ¶é´æ æ",invalidParams:"è°ç¨ onOfflineLog() çåæ°ä¸æ­£ç¡®",copyUrl:"å¤å¶è°è¯é¾æ¥",copyFailed:"å¤å¶å¤±è´¥",paused:"å·²æå",pausedInfoText:"æåæé´æ°æ®ä¸ä¼è¢«è®°å½",noData:"è¯·åéæ©æ¶é´æ®µ"},en:{title:"Offline log",uploadPeriods:"Upload Periods",downloadPeriods:"Download Periods",readying:"Handling...",ready:"Ready",success:"Succeed",fail:"Failed",invalid:"Cannot upload",copied:"Replay url copied",selectPeriod:"Select period",periodDuration:"Each duration",remark:"Remark",remarkPlaceholder:"After uploading, you can view the remark information.",from:"From",to:"To",refreshed:"Refreshed",minutes:"minutes",eventCountNotEnough:"The data within the time period is insufficient for playback",invalidPeriods:"The start of selected period is invalid",invalidParams:"Incorrect params which you call onOfflineLog()",copyUrl:"Copy URL",copyFailed:"Copy failed",paused:"Paused",pausedInfoText:"Data will not be recorded during pause",noData:"Please select period"}}});let Yn$1=0;const Qn$1="PERIOD_DIVIDE_IDENTIFIER",ea$1=10485760;let ta$1=class{constructor(jr){var Oo;t$1(this,"stock",[]),t$1(this,"container",[]),t$1(this,"maximum",ea$1),t$1(this,"periodList",{stable:[],active:[]}),i$1(Oo=jr?.maximum)&&Oo>=0&&(this.maximum=jr.maximum),n$1()&&window.addEventListener("beforeunload",(()=>{this.stock.forEach((Mo=>{URL.revokeObjectURL(Mo)}))}))}add(jr){const Oo=this.periodList.active.length===0&&this.stock.length===0&&this.container.length===0,Mo=jr===Qn$1;try{if((Oo||Mo)&&(this.periodList.active.push({time:new Date,stockIndex:null,dataIndex:this.container.length}),Mo))return!0;if(this.maximum===0)return this.container.push(jr),!0;const{size:Di}=new Blob([JSON.stringify(jr)],{type:"application/json"}),Qi=Yn$1+Di;if(Qi>=this.maximum){const Tc=URL.createObjectURL(new Blob([JSON.stringify(this.container)],{type:"application/json"}));this.stock.push(Tc),this.flushActivePeriod(),this.container=[jr],Yn$1=0}else this.container.push(jr),Yn$1=Qi;return!0}catch{return!1}}flushActivePeriod(){const jr=this.periodList.active.map((Oo=>({...Oo,stockIndex:this.stock.length-1})));this.periodList.stable.push(...jr),this.periodList.active=[]}getPeriodList(){const jr={time:new Date,stockIndex:null,dataIndex:this.container.length};return[...this.periodList.stable,...this.periodList.active,jr]}async getPeriodData(jr){const{head:Oo,tail:Mo}=this.getHeadAndTailPeriods(jr),{endTime:Di}=jr,{stockIndex:Qi=null,dataIndex:Tc}=Oo||{},{stockIndex:$c=null,dataIndex:_c}=Mo||{};let xc=[];if(Qi===null&&$c===null)xc=this.container.slice(Tc,_c);else{if(Qi===null)throw new Error(Xn$1.t("invalidPeriods"));xc=(await Promise.all(this.stock.map((async(Ec,Pc)=>{try{if(Pc<Qi||i$1($c)&&Pc>$c)return null;const Ac=await fetch(Ec);if(!Ac.ok)return null;const Oc=await Ac.json();return Pc===Qi?Pc===$c?Oc.slice(Tc,_c):Oc.slice(Tc):Pc===$c?Oc.slice(0,_c):Oc}catch{return null}})))).reduce(((Ec,Pc)=>Pc?Ec.concat(Pc):Ec),[]),i$1($c)||(xc=xc.concat(this.container.slice(0,_c)))}return xc.filter((Ec=>Ec.timestamp<=Di))}getHeadAndTailPeriods(jr){let{startTime:Oo,endTime:Mo}=jr;const Di=this.getPeriodList(),Qi=Di.findLast(($c=>$c.time.getTime()<=Oo)),Tc=Di.find(($c=>$c.time.getTime()>=Mo));return{head:Qi,tail:Tc}}async getAll(){return(await Promise.all(this.stock.map((async Oo=>{try{const Mo=await fetch(Oo);return Mo.ok?await Mo.json():null}catch{return null}})))).filter(Boolean).reduce(((Oo,Mo)=>Oo.concat(Mo)),[]).concat(this.container)}clear(){this.stock.forEach((jr=>URL.revokeObjectURL(jr))),this.stock=[],this.container=[],this.periodList={stable:[],active:[]}}};function na$1(ns){return ns&&ns.__esModule&&Object.prototype.hasOwnProperty.call(ns,"default")?ns.default:ns}var aa$1=function(){var ns=document.getSelection();if(!ns.rangeCount)return function(){};for(var jr=document.activeElement,Oo=[],Mo=0;Mo<ns.rangeCount;Mo++)Oo.push(ns.getRangeAt(Mo));switch(jr.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":jr.blur();break;default:jr=null}return ns.removeAllRanges(),function(){ns.type==="Caret"&&ns.removeAllRanges(),ns.rangeCount||Oo.forEach((function(Di){ns.addRange(Di)})),jr&&jr.focus()}},ra$1={"text/plain":"Text","text/html":"Url",default:"Text"},sa$1=function(ns,jr){var Oo,Mo,Di,Qi,Tc,$c,_c=!1;jr||(jr={}),Oo=jr.debug||!1;try{if(Di=aa$1(),Qi=document.createRange(),Tc=document.getSelection(),($c=document.createElement("span")).textContent=ns,$c.ariaHidden="true",$c.style.all="unset",$c.style.position="fixed",$c.style.top=0,$c.style.clip="rect(0, 0, 0, 0)",$c.style.whiteSpace="pre",$c.style.webkitUserSelect="text",$c.style.MozUserSelect="text",$c.style.msUserSelect="text",$c.style.userSelect="text",$c.addEventListener("copy",(function(xc){if(xc.stopPropagation(),jr.format)if(xc.preventDefault(),xc.clipboardData===void 0){Oo&&console.warn("unable to use e.clipboardData"),Oo&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Ec=ra$1[jr.format]||ra$1.default;window.clipboardData.setData(Ec,ns)}else xc.clipboardData.clearData(),xc.clipboardData.setData(jr.format,ns);jr.onCopy&&(xc.preventDefault(),jr.onCopy(xc.clipboardData))})),document.body.appendChild($c),Qi.selectNodeContents($c),Tc.addRange(Qi),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");_c=!0}catch(xc){Oo&&console.error("unable to copy using execCommand: ",xc),Oo&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(jr.format||"text",ns),jr.onCopy&&jr.onCopy(window.clipboardData),_c=!0}catch(Ec){Oo&&console.error("unable to copy using clipboardData: ",Ec),Oo&&console.error("falling back to prompt"),Mo=(function(Pc){var Ac=(/mac os x/i.test(navigator.userAgent)?"â":"Ctrl")+"+C";return Pc.replace(/#{\s*key\s*}/g,Ac)})("message"in jr?jr.message:"Copy to clipboard: #{key}, Enter"),window.prompt(Mo,ns)}}finally{Tc&&(typeof Tc.removeRange=="function"?Tc.removeRange(Qi):Tc.removeAllRanges()),$c&&document.body.removeChild($c),Di()}return _c},ia$1=na$1(sa$1),oa$1="content-LZZnQ",ca$1="timeInfo-Icd9h",da$1="recorder-BbZe0",la$1="paused-ByjEq",ua$1="duration-xNczp",ha$1="colon-layOC",pa$1="pauseIcon-3NXkY",ma$1="infoIcon-EKSZE",fa$1="pausedInfo-4u2DI",ga$1="pausedInfoText-FHdmg",va$1="periodInfo-HnHms",ya$1="label-attmz",_a$1="periodTips-F91zM",ba$1="refreshIcon-9zYat",wa$1="selectPeriod-h8D6d",ka$1="track-g8egA",xa$1="range-cWHDf",Ta$1="remarkInfo-0rspp",Ia$1="result-CAAkx";(function(){const ns=document.createElement("style");ns.setAttribute("data-harbor-style","true"),ns.textContent=`.content-LZZnQ {
  padding-top: var(--block-padding);
}
.timeInfo-Icd9h {
  display: flex;
  justify-content: center;
  align-items: center;
}
.timeInfo-Icd9h .recorder-BbZe0 {
  padding: var(--input-padding-lg);
  font-size: var(--text-base);
  border-radius: 999px;
  transition: background-color 0.15s ease, transform 0.15s ease;
  cursor: pointer;
  -webkit-user-select: none;
          user-select: none;
  background-color: hsl(0, 0%, 94%);
}
.timeInfo-Icd9h .recorder-BbZe0:hover {
  background-color: hsl(0, 0%, 90%);
}
.timeInfo-Icd9h .recorder-BbZe0:active {
  transform: scale(0.95);
}
.timeInfo-Icd9h .recorder-BbZe0.paused-ByjEq > div:nth-child(1) {
  display: none;
}
.timeInfo-Icd9h .recorder-BbZe0.paused-ByjEq > div:nth-child(2) {
  display: flex;
}
.timeInfo-Icd9h .recorder-BbZe0 > div {
  gap: var(--input-padding-lg);
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) {
  display: flex;
  align-items: center;
  position: relative;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1)::before {
  content: '';
  width: 1.07142857em;
  height: 1.07142857em;
  border-radius: 1.07142857em;
  background-color: #ff0f0f;
  animation: fade-uxQdC 0.8s ease-in-out infinite alternate;
}
@keyframes fade-uxQdC {
  from {
    opacity: 1;
  }
  to {
    opacity: 0.05;
  }
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp {
  display: flex;
  align-items: center;
  font-size: var(--text-3xl);
  font-weight: 700;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp span {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 0.64em;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp span.colon-layOC {
  width: 0.36em;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) {
  display: none;
  align-items: center;
  color: var(--text-primary);
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) b {
  color: var(--text-primary);
  font-size: var(--text-3xl);
  font-weight: 700;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) svg {
  width: 1em;
  height: 1em;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pauseIcon-3NXkY {
  font-size: var(--text-3xl);
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .infoIcon-EKSZE {
  font-size: var(--text-lg);
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI {
  position: relative;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI:hover .pausedInfoText-FHdmg,
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI:active .pausedInfoText-FHdmg {
  display: block;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI .pausedInfoText-FHdmg {
  display: none;
  position: absolute;
  left: 0;
  top: 0;
  transform: translate(-65%, -170%);
  white-space: nowrap;
  font-size: var(--text-base);
  color: var(--text-primary);
  background-color: #fff;
  padding: var(--input-padding-lg);
  border-radius: 0.29em;
  box-shadow: var(--dark-shadow);
  z-index: 1;
}
.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI .pausedInfoText-FHdmg::before {
  content: '';
  position: absolute;
  left: 65%;
  bottom: 0;
  transform: translate(0, 30%) rotate(45deg);
  width: 0.86em;
  height: 0.86em;
  background-color: #fff;
  border-radius: 2px;
  z-index: -1;
}
.periodInfo-HnHms {
  margin-top: 1.43em;
}
.periodInfo-HnHms .label-attmz {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2.29em;
}
.periodInfo-HnHms .label-attmz .periodTips-F91zM {
  display: flex;
  align-items: center;
  gap: var(--gap);
}
.periodInfo-HnHms .label-attmz .periodTips-F91zM b {
  font-size: 1em;
  color: var(--text-primary);
}
.periodInfo-HnHms .label-attmz .periodTips-F91zM span {
  color: var(--text-secondary);
  font-size: var(--text-sm);
}
.periodInfo-HnHms .label-attmz .refreshIcon-9zYat {
  cursor: pointer;
}
.periodInfo-HnHms .label-attmz .refreshIcon-9zYat svg {
  width: 1.71em;
  height: 1.71em;
  color: var(--primary-color);
}
.periodInfo-HnHms .selectPeriod-h8D6d {
  position: relative;
  width: 92%;
  margin: 0 auto;
  --thumb-size: 1.71em;
  --thumb-shadow: 0 0 0 5px var(--primary-color) inset, 0 0 0 99px white inset;
  --thumb-shadow-hover: 0 0 0 7px var(--primary-color) inset,
      0 0 0 99px white inset;
  --thumb-shadow-disabled: 0 0 0 5px var(--disabled-color) inset,
      0 0 0 99px white inset;
  --track-size: calc(var(--thumb-size) / 2);
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG {
  cursor: not-allowed;
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG .track-g8egA .range-cWHDf {
  background-color: var(--disabled-color);
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled {
  --thumb-shadow: var(--thumb-shadow-disabled);
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-webkit-slider-thumb {
  cursor: not-allowed;
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-moz-range-thumb {
  cursor: not-allowed;
}
.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-ms-thumb {
  cursor: not-allowed;
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA {
  width: 100%;
  height: var(--track-size);
  background-color: var(--divider-color);
  border-radius: var(--track-size);
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf {
  --left: 0;
  --right: 0;
  --min-text: 'From';
  --max-text: 'To';
  position: absolute;
  left: var(--left);
  right: var(--right);
  height: 100%;
  background-color: var(--primary-color);
  border-radius: var(--track-size);
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-min-text-position='bottom']::before {
  top: calc(var(--thumb-size));
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-max-text-position='bottom']::after {
  top: calc(var(--thumb-size));
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before,
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {
  position: absolute;
  top: calc(var(--thumb-size) * -1);
  transition: top 0.15s ease-in-out;
  font-size: var(--text-base);
  font-weight: 500;
  color: var(--text-placeholder);
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before {
  content: var(--min-text);
  left: 0;
  transform: translateX(-50%) scale(0.8);
}
.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {
  content: var(--max-text);
  right: 0;
  transform: translateX(50%) scale(0.8);
}
.periodInfo-HnHms .selectPeriod-h8D6d input {
  -webkit-appearance: none;
          appearance: none;
  pointer-events: none;
  position: absolute;
  left: calc(var(--track-size) * -1);
  top: 0;
  width: calc(100% + var(--thumb-size));
  height: var(--track-size);
  background-color: transparent;
  z-index: 2;
}
.periodInfo-HnHms .selectPeriod-h8D6d input:hover {
  --thumb-shadow: var(--thumb-shadow-hover);
}
.periodInfo-HnHms .selectPeriod-h8D6d input::-webkit-slider-thumb {
  -webkit-appearance: none;
          appearance: none;
  pointer-events: auto;
  width: var(--thumb-size);
  height: var(--thumb-size);
  border-radius: var(--thumb-size);
  background-color: white;
  box-shadow: var(--thumb-shadow);
  cursor: grab;
  -webkit-transition: 0.15s;
  transition: 0.15s;
  border: 0.14em solid white;
}
.periodInfo-HnHms .selectPeriod-h8D6d input::-moz-range-thumb {
  appearance: none;
  pointer-events: auto;
  width: var(--thumb-size);
  height: var(--thumb-size);
  border-radius: var(--thumb-size);
  background-color: white;
  box-shadow: var(--thumb-shadow);
  cursor: grab;
  -moz-transition: 0.15s;
  transition: 0.15s;
  border: 0.14em solid white;
}
.periodInfo-HnHms .selectPeriod-h8D6d input::-ms-thumb {
  appearance: none;
  pointer-events: auto;
  width: var(--thumb-size);
  height: var(--thumb-size);
  border-radius: var(--thumb-size);
  background-color: white;
  box-shadow: var(--thumb-shadow);
  cursor: grab;
  -ms-transition: 0.15s;
  transition: 0.15s;
  border: 0.14em solid white;
}
.remarkInfo-0rspp {
  margin-top: 1.43em;
}
.remarkInfo-0rspp .label-attmz {
  margin-bottom: 0.86em;
  font-size: 1em;
  font-weight: 700;
  color: var(--text-primary);
}
.remarkInfo-0rspp textarea {
  width: 100%;
  padding: var(--input-padding);
  background-color: hsl(0, 0%, 95%);
  border-radius: 0.29em;
  box-sizing: border-box;
  border: var(--border);
  outline: none;
  color: var(--text-primary);
  font-size: var(--text-base);
  line-height: 1.5;
  font-family: var(--font-family);
}
.remarkInfo-0rspp textarea:focus,
.remarkInfo-0rspp textarea:active {
  border-color: var(--primary-color);
}
.result-CAAkx {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--gap-lg);
  padding-top: var(--gap-lg);
  padding-bottom: var(--gap-lg);
}
.result-CAAkx svg {
  width: 2.86em;
  height: 2.86em;
  color: var(--primary-color);
}
.result-CAAkx b {
  font-size: var(--text-lg);
}
`,window.dataHarborStyles&&Array.isArray(window.dataHarborStyles)||(window.dataHarborStyles=[]),window.dataHarborStyles.push(ns)})();function Ca$1(ns){return ns<10?.2:ns<30?.16:.135}const Sa$1=ns=>{let{plugin:jr,modal:Oo,toast:Mo}=ns;const Di=new DOMParser().parseFromString(`
    <!-- Add button for default modal -->
    <button class="page-spy-btn" data-dashed id="open-log-action">
      `.concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 21v-3m0 0H9.197c-1.118 0-1.678 0-2.105-.218a2 2 0 0 1-.874-.874C6 16.48 6 15.92 6 14.8V6m12 12h3M6 6H3m3 0V3m4 3h4.8c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.427.218.987.218 2.105V14"/>
  </svg>`,`
      <span>`).concat(Xn$1.t("title"),`</span>
    </button>

    <!-- Show modal content on button#open-log-action clicked -->
    <div class="`).concat(oa$1,`">
      <div class="`).concat(ca$1,`">
        <div class="`).concat(da$1,`">
          <div>
            <span class="`).concat(ua$1,`">--</span>
          </div>
          <div>
            <span class="`).concat(pa$1,'">').concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor"
      d="M9 16h2V8H9zm4 0h2V8h-2zm-1 6q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8" />
  </svg>  
`,`</span>
            <b>`).concat(Xn$1.t("paused"),`</b>
            <div class="`).concat(fa$1,`">
              <span class="`).concat(ma$1,'">').concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor"
      d="M12.3 7.29c.2-.18.44-.29.7-.29c.27 0 .5.11.71.29c.19.21.29.45.29.71c0 .27-.1.5-.29.71c-.21.19-.44.29-.71.29c-.26 0-.5-.1-.7-.29c-.19-.21-.3-.44-.3-.71c0-.26.11-.5.3-.71m-2.5 4.68s2.17-1.72 2.96-1.79c.74-.06.59.79.52 1.23l-.01.06c-.14.53-.31 1.17-.48 1.78c-.38 1.39-.75 2.75-.66 3c.1.34.72-.09 1.17-.39c.06-.04.11-.08.16-.11c0 0 .08-.08.16.03c.02.03.04.06.06.08c.09.14.14.19.02.27l-.04.02c-.22.15-1.16.81-1.54 1.05c-.41.27-1.98 1.17-1.74-.58c.21-1.23.49-2.29.71-3.12c.41-1.5.59-2.18-.33-1.59c-.37.22-.59.36-.72.45c-.11.08-.12.08-.19-.05l-.03-.06l-.05-.08c-.07-.1-.07-.11.03-.2M22 12c0 5.5-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2s10 4.5 10 10m-2 0c0-4.42-3.58-8-8-8s-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8" />
  </svg>
`,`</span>
              <div class="`).concat(ga$1,`">
                <span>`).concat(Xn$1.t("pausedInfoText"),`</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="`).concat(va$1,`">
        <div class="`).concat(ya$1,`">
          <div class="`).concat(_a$1,`">
            <b>`).concat(Xn$1.t("selectPeriod"),`</b>
          </div>
          <div class="`).concat(ba$1,'">').concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor" d="M3.5 12q0-3.616 2.664-6.058T12.5 3.5v-.692q0-.242.217-.354t.43.03l2.163 1.62q.323.242.323.646t-.323.646l-2.164 1.62q-.212.142-.429.03t-.217-.354V6Q9.86 6 7.93 7.718T6 12q0 .883.247 1.713t.73 1.556q.217.323.167.69t-.348.583l-.407.298q-.373.293-.818.227t-.711-.444q-.668-1.017-1.014-2.2Q3.5 13.241 3.5 12m8 8.5v.692q0 .243-.217.354q-.217.112-.43-.03l-2.162-1.62q-.324-.242-.324-.646t.323-.646l2.164-1.62q.212-.142.429-.03t.217.354V18q2.64 0 4.57-1.718T18 12q0-.883-.247-1.722q-.247-.84-.73-1.566q-.217-.323-.167-.69t.348-.583l.407-.298q.373-.293.818-.225t.712.442q.661 1.036 1.01 2.21T20.5 12q0 3.616-2.664 6.058T11.5 20.5"/>
  </svg>
`,`</div>
        </div>
        <div class="`).concat(wa$1,`">
          <div class="`).concat(ka$1,`">
            <div class="`).concat(xa$1,`"></div>
          </div>
          <input type="range" id="period-min" min="0" step="1" />
          <input type="range" id="period-max" min="0" step="1" />
        </div>
      </div>
      <div class="`).concat(Ta$1,`">
        <div class="`).concat(ya$1,'">').concat(Xn$1.t("remark"),`</div>
        <textarea rows="4" id="harbor-remark" placeholder="`).concat(Xn$1.t("remarkPlaceholder"),`"></textarea>
      </div>
    </div>

    <!-- Upload / Download log button -->
    <button class="page-spy-btn" data-primary id="upload-periods">
      `).concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor" d="M9.8 21.75q-3.425-.775-5.613-3.5T2 12t2.188-6.25T9.8 2.25q.475-.125.838.175t.362.8q0 .35-.2.625t-.55.35Q7.5 4.825 5.75 7T4 12t1.75 5t4.5 2.8q.35.075.55.35t.2.625q0 .5-.362.8t-.838.175m4.4 0q-.475.125-.837-.175t-.363-.8q0-.35.2-.625t.55-.35q.675-.15 1.313-.413t1.212-.637q.275-.2.613-.15t.587.3q.35.35.3.813t-.45.737q-.725.45-1.513.775t-1.612.525m4.7-4.25q-.25-.25-.3-.587t.15-.613q.375-.575.638-1.225t.412-1.325q.075-.35.35-.537t.625-.188q.5 0 .8.363t.175.837q-.2.825-.525 1.613t-.775 1.512q-.275.4-.737.45t-.813-.3m1.875-6.5q-.35 0-.625-.2t-.35-.55q-.15-.675-.413-1.312t-.637-1.213q-.2-.3-.15-.637t.3-.588q.35-.35.813-.3t.737.475q.45.725.775 1.513T21.75 9.8q.125.475-.175.838t-.8.362m-4.5-5.75q-.575-.375-1.212-.638T13.75 4.2q-.35-.075-.55-.35t-.2-.625q0-.5.363-.8t.837-.175q.825.2 1.613.525t1.512.775q.425.275.475.738t-.3.812q-.25.25-.587.3t-.638-.15M11.975 17q-.425 0-.712-.288T10.975 16v-5.125l-1.875 1.9q-.3.3-.712.3t-.713-.3t-.312-.712t.287-.713l3.625-3.65q.275-.275.7-.275t.7.275l3.575 3.575q.3.3.313.725t-.288.725t-.725.3t-.725-.3l-1.85-1.85V16q0 .425-.287.713t-.713.287"/>
  </svg>
`,`
      <span>`).concat(Xn$1.t("uploadPeriods"),`</span>
    </button>
    <button class="page-spy-btn" id="download-periods">
      `).concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor" d="M10.975 21.95q-1.9-.2-3.537-1.062t-2.838-2.2t-1.887-3.063t-.688-3.65q0-3.875 2.563-6.712T11 2v2q-3.025.425-5 2.688t-1.975 5.287T6 17.263t4.975 2.687zm1-4.95L6.95 11.95l1.425-1.425l2.6 2.6V7h2v6.125l2.575-2.575L16.975 12zm1 4.95v-2q1.075-.15 2.063-.575t1.837-1.075l1.45 1.45q-1.175.925-2.525 1.488t-2.825.712m3.95-16.3Q16.05 5 15.063 4.575T13 4V2q1.475.15 2.825.713t2.5 1.487zm2.8 12.65l-1.4-1.425q.65-.85 1.05-1.837t.55-2.063h2.05q-.2 1.475-.75 2.838t-1.5 2.487m.2-7.325q-.15-1.075-.55-2.062t-1.05-1.838l1.4-1.425q.95 1.125 1.525 2.488t.725 2.837z"/>
  </svg>
`,`
      <span>`).concat(Xn$1.t("downloadPeriods"),`</span>
    </button>

    <!-- Result -->
    <div class="`).concat(Ia$1,`">
      `).concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <path fill="currentColor" fill-rule="evenodd"
      d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 0 0 1.414 0l5.952-5.95l-1.062-1.062z" />
  </svg>
`,`
      <b>`).concat(Xn$1.t("success"),`</b>
    </div>

    <button class="page-spy-btn" data-primary id="copy-replay-url" data-url>
      `).concat(`
  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
    <g fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
      <path
        d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z" />
      <path d="M4.012 16.737A2 2 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1" />
    </g>
  </svg>
`,`
      <span>`).concat(Xn$1.t("copyUrl"),`</span>
    </button>
    `),"text/html"),Qi=Vc=>Di.querySelector.call(Di,Vc),Tc=Vc=>Qi(".".concat(Vc)),$c=Qi("#open-log-action"),_c=Tc(oa$1),xc=Tc(ba$1),Ec=Tc(xa$1),Pc=Qi("#period-min"),Ac=Qi("#period-max"),Oc=Qi("#harbor-remark"),Mc=Qi("#upload-periods"),Rc=Qi("#download-periods"),Uc=Tc(Ia$1),Dc=Qi("#copy-replay-url"),Nc=Tc(da$1),zc=Tc(ua$1),Gc=Tc(fa$1),Yc={max:0,periods:[],firstTime:0,lastTime:0},Kc=()=>{const{max:Vc}=Yc,Qc=+Pc.value,Hc=+Ac.value,ru=Qc/Vc,nu=1-Hc/Vc;Ec.style.setProperty("--left","".concat((100*ru).toFixed(3),"%")),Ec.style.setProperty("--right","".concat((100*nu).toFixed(3),"%")),Ec.style.setProperty("--min-text",'"'.concat(ce$1(Qc),'"')),Ec.style.setProperty("--max-text",'"'.concat(ce$1(Hc),'"'))},au=()=>{const Vc=jr.harbor.getPeriodList(),Qc=Vc[0].time.getTime(),Hc=Vc[Vc.length-1].time.getTime(),ru=Math.floor((Hc-Qc)/1e3),nu=ru.toString();Pc.max=nu,Pc.value="0",Ac.max=nu,Ac.value=nu,Yc.max=ru,Yc.periods=Vc,Yc.firstTime=Qc,Yc.lastTime=Hc,Kc()},Jc=()=>{const{firstTime:Vc}=Yc;return{startTime:Vc+1e3*+Pc.value,endTime:Vc+1e3*+Ac.value,remark:Oc.value}};xc.addEventListener("click",(()=>{au(),Mo.message(Xn$1.t("refreshed"))})),Pc.addEventListener("input",(function(){const Vc=+Ac.value,Qc=+this.value;if(Qc>Vc-1)return void(Pc.value=String(Vc-1));(Vc-Qc)/Yc.max<=Ca$1(Yc.max)?Ec.dataset.maxTextPosition="bottom":Ec.dataset.maxTextPosition="top",Ec.dataset.minTextPosition="top",Kc()})),Ac.addEventListener("input",(function(){const Vc=+Pc.value,Qc=+this.value;if(Qc<Vc+1)return void(Ac.value=String(Vc+1));(Qc-Vc)/Yc.max<=Ca$1(Yc.max)?Ec.dataset.minTextPosition="bottom":Ec.dataset.minTextPosition="top",Ec.dataset.maxTextPosition="top",Kc()})),Dc.addEventListener("click",(()=>{const{url:Vc}=Dc.dataset,Qc=ia$1(Vc);Mo.message(Qc?Xn$1.t("copied"):Xn$1.t("copyFailed")),Oo.close()})),Mc.addEventListener("click",(async()=>{try{Mc.disabled=!0;const Vc=await jr.onOfflineLog("upload-periods",Jc());Dc.dataset.url=Vc,Oo.show({content:Uc,footer:[Dc]})}catch(Vc){g$1.error(Vc),Mo.message(Vc.message)}finally{Mc.disabled=!1}})),Rc.addEventListener("click",(async()=>{try{Rc.disabled=!0,await jr.onOfflineLog("download-periods",Jc()),Mo.message(Xn$1.t("success"))}catch(Vc){g$1.error(Vc),Mo.message(Vc.message)}finally{Rc.disabled=!1}}));let iu=null;const tu=()=>{const{isPaused:Vc,startTimestamp:Qc}=jr;if(Vc)Nc.classList.add(la$1);else if(Nc.classList.remove(la$1),Qc&&zc){const Hc=parseInt(String((Date.now()-Qc)/1e3),10);zc.innerHTML=ce$1(Hc).split("").map((ru=>'<span class="'.concat(ru===":"?ha$1:"duration-item",'">').concat(ru,"</span>"))).join("")}};Nc.addEventListener("click",(()=>{jr.isPaused?jr.resume():jr.pause(),tu()})),Gc.addEventListener("click",(Vc=>{Vc.stopPropagation(),Vc.preventDefault()})),$c?.addEventListener("click",(()=>{var Vc;(Vc=jr.$pageSpyConfig)!==null&&Vc!==void 0&&Vc.api?Mc.disabled=!1:Mc.disabled=!0,iu&&clearInterval(iu),tu(),iu=setInterval(tu,1e3),au(),Oo.show({content:_c,footer:[Mc,Rc]})})),Oo.build({footer:[...Oo.config.footer,$c]})},Oa$1={maximum:ea$1,caredData:{console:!0,network:!0,storage:!0,system:!0,"rrweb-event":!0},filename:()=>new Date().toLocaleString(),onDownload:null,onAfterUpload:null};let Ea$1=class Pu{constructor(jr){t$1(this,"enforce","pre"),t$1(this,"name","DataHarborPlugin"),t$1(this,"apiBase",""),t$1(this,"isPaused",!1),t$1(this,"startTimestamp",0),t$1(this,"periodTimer",null),t$1(this,"$socketStore",null),t$1(this,"$pageSpyConfig",null),this.$harborConfig={...Oa$1,...jr},this.harbor=new ta$1({maximum:this.$harborConfig.maximum})}async onInit(jr){let{socketStore:Oo,config:Mo}=jr;if(Pu.hasInited)return;Pu.hasInited=!0,this.$pageSpyConfig=Mo,this.$socketStore=Oo;const{api:Di,enableSSL:Qi,offline:Tc,lang:$c}=Mo;if($c&&Xn$1.setLang($c),Tc||Di){const _c=Qi?"https://":"http://";this.apiBase=v$1("".concat(_c).concat(Di))}else g$1.warn("Cannot upload log to PageSpy for miss 'api' configuration. See: ",Mo);this.initPeriodTimer(),this.$socketStore.addListener("public-data",(_c=>{if(this.isPaused||!this.isCaredPublicData(_c))return;const xc=((Ec,Pc)=>(sessionStorage.getItem("harbor-debug")&&g$1.unproxy.debug("harbor-debug",Pc),{type:Ec,timestamp:Date.now(),data:ie$1(Pc)}))(_c.type,_c.data);this.startTimestamp||(this.startTimestamp=xc.timestamp),this.harbor.add(xc)||g$1.warn("[".concat(this.name,"] Fail to save data in harbor "),xc)}))}initPeriodTimer(){this.periodTimer&&clearInterval(this.periodTimer),this.periodTimer=setInterval((()=>{var jr;this.harbor.add(Qn$1),(jr=this.$socketStore)===null||jr===void 0||jr.dispatchEvent("harbor-clear",null)}),3e5)}onMounted(jr){var Oo;let{modal:Mo,toast:Di,root:Qi}=jr;Pu.hasMounted||(Pu.hasMounted=!0,(Oo=window.dataHarborStyles)===null||Oo===void 0||Oo.forEach((Tc=>{Qi.appendChild(Tc.cloneNode(!0))})),Mo&&Di&&Sa$1({plugin:this,modal:Mo,toast:Di}))}async getParams(jr,Oo){var Mo;let Di;if(["download-periods","upload-periods"].includes(jr)){if(!(Rc=>!!Rc&&["startTime","endTime"].every((Uc=>Object.prototype.hasOwnProperty.call(Rc,Uc))))(Oo)||Oo.startTime>Oo.endTime)throw new Error(Xn$1.t("invalidParams"));if(Di=await this.harbor.getPeriodData(Oo),!Di.length)throw new Error(Xn$1.t("noData"));const Pc=Oo.startTime,Ac=Di[0].timestamp,Oc=Pc<Ac?Ac:Pc;if(Di.filter((Rc=>Rc.timestamp>=Oc&&Rc.timestamp<=Oo.endTime)).length<5)throw new Error(Xn$1.t("eventCountNotEnough"));Di.push({type:"meta",timestamp:Oo.endTime,data:ie$1({ua:navigator.userAgent,title:document.title,url:window.location.href,...Oo,startTime:Oc})})}else{var Qi;if(Di=await this.harbor.getAll(),!Di.length)throw new Error(Xn$1.t("noData"));const Pc=Di[0].timestamp,Ac=Di[Di.length-1].timestamp;Di.push({type:"meta",timestamp:Ac,data:ie$1({ua:navigator.userAgent,title:document.title,url:window.location.href,startTime:Pc,endTime:Ac,remark:(Qi=Oo?.remark)!==null&&Qi!==void 0?Qi:""})})}const{onDownload:Tc,filename:$c}=this.$harborConfig;if(jr==="download"||jr==="download-periods")return{data:Di,filename:$c,customDownload:Tc};const{project:_c="",title:xc=""}=this.$pageSpyConfig||{},Ec={project:_c,title:xc,deviceId:re$1(),userAgent:navigator.userAgent,remark:(Mo=Oo?.remark)!==null&&Mo!==void 0?Mo:""};if(jr==="upload"||jr==="upload-periods"){const Pc=((Oc,Mc)=>{const Rc=new Blob([JSON.stringify(Oc)],{type:"application/json"});return new File([Rc],"".concat(se$1(Mc),".json"),{type:"application/json"})})(Di,$c()),Ac=new FormData;return Ac.append("log",Pc),{url:"".concat(this.apiBase,"/api/v1/log/upload?").concat(new URLSearchParams(Ec).toString()),body:Ac}}}async onOfflineLog(jr){let Oo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{clearCache:!0,remark:""};const Mo=await this.getParams(jr,Oo),Di=["upload","upload-periods"].includes(jr)?await(async $c=>{let{url:_c,body:xc}=$c;try{const Ec=await fetch(_c,{method:"POST",body:xc});if(!Ec.ok)return g$1.warn("Upload failed"),null;const Pc=await Ec.json();return Pc.success?Pc:(g$1.warn(Pc.message),null)}catch(Ec){return g$1.error(Ec.message),null}})(Mo):await(async $c=>{let{data:_c,filename:xc,customDownload:Ec}=$c;if(Ec)return void await Ec(_c);const Pc=new Blob([JSON.stringify(_c)],{type:"application/json"}),Ac=document.getElementsByTagName("body")[0]||document.documentElement;if(!Ac)throw new Error("Download file failed because cannot find the document.body & document.documentElement");const Oc=URL.createObjectURL(Pc),Mc=document.createElement("a");Mc.download="".concat(se$1(xc()),".json"),Mc.href=Oc,Mc.style.display="none",Ac.insertAdjacentElement("beforeend",Mc),Mc.click(),Ac.removeChild(Mc),URL.revokeObjectURL(Oc),g$1.info("".concat(Xn$1.t("success")))})(Mo);if(Oo.clearCache===!0&&this.clearAndNotify(),Di){var Qi,Tc;const $c=this.getDebugUrl(Di);return(Qi=(Tc=this.$harborConfig).onAfterUpload)===null||Qi===void 0||Qi.call(Tc,$c,Mo.remark),$c}}async upload(jr){return await this.onOfflineLog("upload",jr)}async uploadPeriods(jr){return await this.onOfflineLog("upload-periods",jr)}async download(jr){await this.onOfflineLog("download",jr)}async downloadPeriods(jr){await this.onOfflineLog("download-periods",jr)}onReset(){this.periodTimer&&(clearInterval(this.periodTimer),this.periodTimer=null),this.clearAndNotify(!1),Pu.hasInited=!1,Pu.hasMounted=!1}pause(){this.isPaused=!0}resume(){this.isPaused=!1}reharbor(){this.initPeriodTimer(),this.clearAndNotify(),this.isPaused&&(this.isPaused=!1)}clearAndNotify(){let jr=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var Oo;this.harbor.clear(),this.startTimestamp=0,jr&&((Oo=this.$socketStore)===null||Oo===void 0||Oo.dispatchEvent("harbor-clear",null))}isCaredPublicData(jr){if(!jr)return!1;const{type:Oo}=jr,{caredData:Mo}=this.$harborConfig;switch(Oo){case"console":case"storage":case"system":case"rrweb-event":return Mo[Oo];case"network":const{url:Di}=jr.data,Qi=this.harbor.stock.includes(Di);return!(!Mo.network||Qi);default:return!1}}getDebugUrl(jr){var Oo;if(!jr||!jr.success)return"";const Mo="".concat(v$1((Oo=this.$pageSpyConfig)===null||Oo===void 0?void 0:Oo.clientOrigin),"/#/replay"),Di="".concat(this.apiBase,"/api/v1/log/download?fileId=").concat(jr.data.fileId);return"".concat(Mo,"?url=").concat(Di)}};t$1(Ea$1,"hasInited",!1),t$1(Ea$1,"hasMounted",!1);var define_process_env_default={};function e(ns){var jr=(function(Oo,Mo){if(typeof Oo!="object"||!Oo)return Oo;var Di=Oo[Symbol.toPrimitive];if(Di!==void 0){var Qi=Di.call(Oo,Mo);if(typeof Qi!="object")return Qi;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Mo==="string"?String:Number)(Oo)})(ns,"string");return typeof jr=="symbol"?jr:jr+""}function t(ns,jr,Oo){return(jr=e(jr))in ns?Object.defineProperty(ns,jr,{value:Oo,enumerable:!0,configurable:!0,writable:!0}):ns[jr]=Oo,ns}var r,s=Object.defineProperty,n=(ns,jr,Oo)=>((Mo,Di,Qi)=>Di in Mo?s(Mo,Di,{enumerable:!0,configurable:!0,writable:!0,value:Qi}):Mo[Di]=Qi)(ns,typeof jr!="symbol"?jr+"":jr,Oo),o=Object.defineProperty,i=(ns,jr,Oo)=>((Mo,Di,Qi)=>Di in Mo?o(Mo,Di,{enumerable:!0,configurable:!0,writable:!0,value:Qi}):Mo[Di]=Qi)(ns,typeof jr!="symbol"?jr+"":jr,Oo),a=(ns=>(ns[ns.Document=0]="Document",ns[ns.DocumentType=1]="DocumentType",ns[ns.Element=2]="Element",ns[ns.Text=3]="Text",ns[ns.CDATA=4]="CDATA",ns[ns.Comment=5]="Comment",ns))(a||{});const l={Node:["childNodes","parentNode","parentElement","textContent","ownerDocument"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},c={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},h={},u=()=>!!globalThis.Zone;function p(ns){if(h[ns])return h[ns];const jr=globalThis[ns],Oo=jr.prototype,Mo=ns in l?l[ns]:void 0,Di=!!(Mo&&Mo.every(($c=>{var _c,xc;return!!((xc=(_c=Object.getOwnPropertyDescriptor(Oo,$c))==null?void 0:_c.get)!=null&&xc.toString().includes("[native code]"))}))),Qi=ns in c?c[ns]:void 0,Tc=!!(Qi&&Qi.every(($c=>{var _c;return typeof Oo[$c]=="function"&&((_c=Oo[$c])==null?void 0:_c.toString().includes("[native code]"))})));if(Di&&Tc&&!u())return h[ns]=jr.prototype,jr.prototype;try{const $c=document.createElement("iframe");document.body.appendChild($c);const _c=$c.contentWindow;if(!_c)return jr.prototype;const xc=_c[ns].prototype;return document.body.removeChild($c),xc?h[ns]=xc:Oo}catch{return Oo}}const d={};function f(ns,jr,Oo){var Mo;const Di="".concat(ns,".").concat(String(Oo));if(d[Di])return d[Di].call(jr);const Qi=p(ns),Tc=(Mo=Object.getOwnPropertyDescriptor(Qi,Oo))==null?void 0:Mo.get;return Tc?(d[Di]=Tc,Tc.call(jr)):jr[Oo]}const m={};function g(ns,jr,Oo){const Mo="".concat(ns,".").concat(String(Oo));if(m[Mo])return m[Mo].bind(jr);const Di=p(ns)[Oo];return typeof Di!="function"?jr[Oo]:(m[Mo]=Di,Di.bind(jr))}const y={ownerDocument:function(ns){return f("Node",ns,"ownerDocument")},childNodes:function(ns){return f("Node",ns,"childNodes")},parentNode:function(ns){return f("Node",ns,"parentNode")},parentElement:function(ns){return f("Node",ns,"parentElement")},textContent:function(ns){return f("Node",ns,"textContent")},contains:function(ns,jr){return g("Node",ns,"contains")(jr)},getRootNode:function(ns){return g("Node",ns,"getRootNode")()},host:function(ns){return ns&&"host"in ns?f("ShadowRoot",ns,"host"):null},styleSheets:function(ns){return ns.styleSheets},shadowRoot:function(ns){return ns&&"shadowRoot"in ns?f("Element",ns,"shadowRoot"):null},querySelector:function(ns,jr){return f("Element",ns,"querySelector")(jr)},querySelectorAll:function(ns,jr){return f("Element",ns,"querySelectorAll")(jr)},mutationObserver:function(){return p("MutationObserver").constructor},patch:function(ns,jr,Oo){try{if(!(jr in ns))return()=>{};const Mo=ns[jr],Di=Oo(Mo);return typeof Di=="function"&&(Di.prototype=Di.prototype||{},Object.defineProperties(Di,{__rrweb_original__:{enumerable:!1,value:Mo}})),ns[jr]=Di,()=>{ns[jr]=Mo}}catch{return()=>{}}}};function w(ns){return ns.nodeType===ns.ELEMENT_NODE}function b(ns){const jr=ns&&"host"in ns&&"mode"in ns&&y.host(ns)||null;return!!(jr&&"shadowRoot"in jr&&y.shadowRoot(jr)===ns)}function v(ns){return Object.prototype.toString.call(ns)==="[object ShadowRoot]"}function S(ns){try{const Oo=ns.rules||ns.cssRules;if(!Oo)return null;let Mo=ns.href;return!Mo&&ns.ownerNode&&(Mo=ns.ownerNode.baseURI),(jr=Array.from(Oo,(Qi=>C(Qi,Mo))).join("")).includes(" background-clip: text;")&&!jr.includes(" -webkit-background-clip: text;")&&(jr=jr.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),jr}catch{return null}var jr}function C(ns,jr){if((function(Oo){return"styleSheet"in Oo})(ns)){let Oo;try{Oo=S(ns.styleSheet)||(function(Mo){const{cssText:Di}=Mo;if(Di.split('"').length<3)return Di;const Qi=["@import","url(".concat(JSON.stringify(Mo.href),")")];return Mo.layerName===""?Qi.push("layer"):Mo.layerName&&Qi.push("layer(".concat(Mo.layerName,")")),Mo.supportsText&&Qi.push("supports(".concat(Mo.supportsText,")")),Mo.media.length&&Qi.push(Mo.media.mediaText),Qi.join(" ")+";"})(ns)}catch{Oo=ns.cssText}return ns.styleSheet.href?L(Oo,ns.styleSheet.href):Oo}{let Oo=ns.cssText;return(function(Mo){return"selectorText"in Mo})(ns)&&ns.selectorText.includes(":")&&(Oo=(function(Mo){const Di=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return Mo.replace(Di,"$1\\$2")})(Oo)),jr?L(Oo,jr):Oo}}class I{constructor(){i(this,"idNodeMap",new Map),i(this,"nodeMetaMap",new WeakMap)}getId(jr){var Oo;if(!jr)return-1;const Mo=(Oo=this.getMeta(jr))==null?void 0:Oo.id;return Mo??-1}getNode(jr){return this.idNodeMap.get(jr)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(jr){return this.nodeMetaMap.get(jr)||null}removeNodeFromMap(jr){const Oo=this.getId(jr);this.idNodeMap.delete(Oo),jr.childNodes&&jr.childNodes.forEach((Mo=>this.removeNodeFromMap(Mo)))}has(jr){return this.idNodeMap.has(jr)}hasNode(jr){return this.nodeMetaMap.has(jr)}add(jr,Oo){const Mo=Oo.id;this.idNodeMap.set(Mo,jr),this.nodeMetaMap.set(jr,Oo)}replace(jr,Oo){const Mo=this.getNode(jr);if(Mo){const Di=this.nodeMetaMap.get(Mo);Di&&this.nodeMetaMap.set(Oo,Di)}this.idNodeMap.set(jr,Oo)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function k(ns){let{element:jr,maskInputOptions:Oo,tagName:Mo,type:Di,value:Qi,maskInputFn:Tc}=ns,$c=Qi||"";const _c=Di&&x(Di);return(Oo[Mo.toLowerCase()]||_c&&Oo[_c])&&($c=Tc?Tc($c,jr):"*".repeat($c.length)),$c}function x(ns){return ns.toLowerCase()}const O="__rrweb_original__";function M(ns){const jr=ns.type;return ns.hasAttribute("data-rr-is-password")?"password":jr?x(jr):null}function A(ns,jr){var Oo;let Mo;try{Mo=new URL(ns,jr??window.location.href)}catch{return null}const Di=Mo.pathname.match(/\.([0-9a-z]+)(?:$)/i);return(Oo=Di?.[1])!==null&&Oo!==void 0?Oo:null}const R=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,E=/^(?:[a-z+]+:)?\/\//i,N=/^www\..*/i,T=/^(data:)([^,]*),(.*)/i;function L(ns,jr){return(ns||"").replace(R,((Oo,Mo,Di,Qi,Tc,$c)=>{const _c=Di||Tc||$c,xc=Mo||Qi||"";if(!_c)return Oo;if(E.test(_c)||N.test(_c)||T.test(_c))return"url(".concat(xc).concat(_c).concat(xc,")");if(_c[0]==="/")return"url(".concat(xc).concat((function(Ac){let Oc="";return Oc=Ac.indexOf("//")>-1?Ac.split("/").slice(0,3).join("/"):Ac.split("/")[0],Oc=Oc.split("?")[0],Oc})(jr)+_c).concat(xc,")");const Ec=jr.split("/"),Pc=_c.split("/");Ec.pop();for(const Ac of Pc)Ac!=="."&&(Ac===".."?Ec.pop():Ec.push(Ac));return"url(".concat(xc).concat(Ec.join("/")).concat(xc,")")}))}function D(ns){return arguments.length>1&&arguments[1]!==void 0&&arguments[1]?ns.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):ns.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function P(ns,jr){return(function(Oo,Mo){let Di=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const Qi=Array.from(Mo.childNodes),Tc=[];let $c=0;if(Qi.length>1&&Oo&&typeof Oo=="string"){let _c=D(Oo,Di);const xc=_c.length/Oo.length;for(let Ec=1;Ec<Qi.length;Ec++)if(Qi[Ec].textContent&&typeof Qi[Ec].textContent=="string"){const Pc=D(Qi[Ec].textContent,Di),Ac=100;let Oc=3;for(;Oc<Pc.length&&(Pc[Oc].match(/[a-zA-Z0-9]/)||Pc.indexOf(Pc.substring(0,Oc),1)!==-1);Oc++);for(;Oc<Pc.length;Oc++){let Mc=Pc.substring(0,Oc),Rc=_c.split(Mc),Uc=-1;if(Rc.length===2)Uc=Rc[0].length;else if(Rc.length>2&&Rc[0]===""&&Qi[Ec-1].textContent!=="")Uc=_c.indexOf(Mc,1);else if(Rc.length===1){if(Mc=Mc.substring(0,Mc.length-1),Rc=_c.split(Mc),Rc.length<=1)return Tc.push(Oo),Tc;Oc=Ac+1}else Oc===Pc.length-1&&(Uc=_c.indexOf(Mc));if(Rc.length>=2&&Oc>Ac){const Dc=Qi[Ec-1].textContent;if(Dc&&typeof Dc=="string"){const Nc=D(Dc).length;Uc=_c.indexOf(Mc,Nc)}Uc===-1&&(Uc=Rc[0].length)}if(Uc!==-1){let Dc=Math.floor(Uc/xc);for(;Dc>0&&Dc<Oo.length;){if($c+=1,$c>50*Qi.length)return Tc.push(Oo),Tc;const Nc=D(Oo.substring(0,Dc),Di);if(Nc.length===Uc){Tc.push(Oo.substring(0,Dc)),Oo=Oo.substring(Dc),_c=_c.substring(Uc);break}Nc.length<Uc?Dc+=Math.max(1,Math.floor((Uc-Nc.length)/xc)):Dc-=Math.max(1,Math.floor((Nc.length-Uc)*xc))}break}}}}return Tc.push(Oo),Tc})(ns,jr).join("/* rr_split */")}let F=1;const B=new RegExp("[^a-z0-9-_:]"),_=-2;function U(){return F++}let z,j;const W=/^[^ \t\n\r\u000c]+/,V=/^[, \t\n\r\u000c]+/,G=new WeakMap;function Y(ns,jr){return jr&&jr.trim()!==""?J(ns,jr):jr}function Z(ns){return!!(ns.tagName==="svg"||ns.ownerSVGElement)}function J(ns,jr){let Oo=G.get(ns);if(Oo||(Oo=ns.createElement("a"),G.set(ns,Oo)),jr){if(jr.startsWith("blob:")||jr.startsWith("data:"))return jr}else jr="";return Oo.setAttribute("href",jr),Oo.href}function X(ns,jr,Oo,Mo){return Mo&&(Oo==="src"||Oo==="href"&&(jr!=="use"||Mo[0]!=="#")||Oo==="xlink:href"&&Mo[0]!=="#"||Oo==="background"&&["table","td","th"].includes(jr)?Y(ns,Mo):Oo==="srcset"?(function(Di,Qi){if(Qi.trim()==="")return Qi;let Tc=0;function $c(xc){let Ec;const Pc=xc.exec(Qi.substring(Tc));return Pc?(Ec=Pc[0],Tc+=Ec.length,Ec):""}const _c=[];for(;$c(V),!(Tc>=Qi.length);){let xc=$c(W);if(xc.slice(-1)===",")xc=Y(Di,xc.substring(0,xc.length-1)),_c.push(xc);else{let Ec="";xc=Y(Di,xc);let Pc=!1;for(;;){const Ac=Qi.charAt(Tc);if(Ac===""){_c.push((xc+Ec).trim());break}if(Pc)Ac===")"&&(Pc=!1);else{if(Ac===","){Tc+=1,_c.push((xc+Ec).trim());break}Ac==="("&&(Pc=!0)}Ec+=Ac,Tc+=1}}}return _c.join(", ")})(ns,Mo):Oo==="style"?L(Mo,J(ns)):jr==="object"&&Oo==="data"?Y(ns,Mo):Mo)}function H(ns,jr,Oo){return["video","audio"].includes(ns)&&jr==="autoplay"}function K(ns,jr,Oo){if(!ns)return!1;if(ns.nodeType!==ns.ELEMENT_NODE)return!!Oo&&K(y.parentNode(ns),jr,Oo);for(let Mo=ns.classList.length;Mo--;){const Di=ns.classList[Mo];if(jr.test(Di))return!0}return!!Oo&&K(y.parentNode(ns),jr,Oo)}function Q(ns,jr,Oo,Mo){let Di;if(w(ns)){if(Di=ns,!y.childNodes(Di).length)return!1}else{if(y.parentElement(ns)===null)return!1;Di=y.parentElement(ns)}try{if(typeof jr=="string"){if(Mo){if(Di.closest(".".concat(jr)))return!0}else if(Di.classList.contains(jr))return!0}else if(K(Di,jr,Mo))return!0;if(Oo){if(Mo){if(Di.closest(Oo))return!0}else if(Di.matches(Oo))return!0}}catch{}return!1}function q(ns,jr){const{doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,needsMask:Tc,inlineStylesheet:$c,maskInputOptions:_c={},maskTextFn:xc,maskInputFn:Ec,dataURLOptions:Pc={},inlineImages:Ac,recordCanvas:Oc,keepIframeSrcFn:Mc,newlyAddedElement:Rc=!1,cssCaptured:Uc=!1}=jr,Dc=(function(Nc,zc){if(!zc.hasNode(Nc))return;const Gc=zc.getId(Nc);return Gc===1?void 0:Gc})(Oo,Mo);switch(ns.nodeType){case ns.DOCUMENT_NODE:return ns.compatMode!=="CSS1Compat"?{type:a.Document,childNodes:[],compatMode:ns.compatMode}:{type:a.Document,childNodes:[]};case ns.DOCUMENT_TYPE_NODE:return{type:a.DocumentType,name:ns.name,publicId:ns.publicId,systemId:ns.systemId,rootId:Dc};case ns.ELEMENT_NODE:return(function(Nc,zc){const{doc:Gc,blockClass:Yc,blockSelector:Kc,inlineStylesheet:au,maskInputOptions:Jc={},maskInputFn:iu,dataURLOptions:tu={},inlineImages:Vc,recordCanvas:Qc,keepIframeSrcFn:Hc,newlyAddedElement:ru=!1,rootId:nu}=zc,Lc=(function(qc,lu,pu){try{if(typeof lu=="string"){if(qc.classList.contains(lu))return!0}else for(let cu=qc.classList.length;cu--;){const mu=qc.classList[cu];if(lu.test(mu))return!0}if(pu)return qc.matches(pu)}catch{}return!1})(Nc,Yc,Kc),Wc=(function(qc){if(qc instanceof HTMLFormElement)return"form";const lu=x(qc.tagName);return B.test(lu)?"div":lu})(Nc);let Xc={};const Fc=Nc.attributes.length;for(let qc=0;qc<Fc;qc++){const lu=Nc.attributes[qc];H(Wc,lu.name,lu.value)||(Xc[lu.name]=X(Gc,Wc,x(lu.name),lu.value))}if(Wc==="link"&&au){const qc=Array.from(Gc.styleSheets).find((pu=>pu.href===Nc.href));let lu=null;qc&&(lu=S(qc)),lu&&(delete Xc.rel,delete Xc.href,Xc._cssText=lu)}if(Wc==="style"&&Nc.sheet){let qc=S(Nc.sheet);qc&&(Nc.childNodes.length>1&&(qc=P(qc,Nc)),Xc._cssText=qc)}if(["input","textarea","select"].includes(Wc)){const qc=Nc.value,lu=Nc.checked;Xc.type!=="radio"&&Xc.type!=="checkbox"&&Xc.type!=="submit"&&Xc.type!=="button"&&qc?Xc.value=k({element:Nc,type:M(Nc),tagName:Wc,value:qc,maskInputOptions:Jc,maskInputFn:iu}):lu&&(Xc.checked=lu)}if(Wc==="option"&&(Nc.selected&&!Jc.select?Xc.selected=!0:delete Xc.selected),Wc==="dialog"&&Nc.open&&(Xc.rr_open_mode=Nc.matches("dialog:modal")?"modal":"non-modal"),Wc==="canvas"&&Qc){if(Nc.__context==="2d")(function(qc){const lu=qc.getContext("2d");if(!lu)return!0;for(let pu=0;pu<qc.width;pu+=50)for(let cu=0;cu<qc.height;cu+=50){const mu=lu.getImageData,yu=O in mu?mu[O]:mu;if(new Uint32Array(yu.call(lu,pu,cu,Math.min(50,qc.width-pu),Math.min(50,qc.height-cu)).data.buffer).some(($u=>$u!==0)))return!1}return!0})(Nc)||(Xc.rr_dataURL=Nc.toDataURL(tu.type,tu.quality));else if(!("__context"in Nc)){const qc=Nc.toDataURL(tu.type,tu.quality),lu=Gc.createElement("canvas");lu.width=Nc.width,lu.height=Nc.height,qc!==lu.toDataURL(tu.type,tu.quality)&&(Xc.rr_dataURL=qc)}}if(Wc==="img"&&Vc){z||(z=Gc.createElement("canvas"),j=z.getContext("2d"));const qc=Nc,lu=qc.currentSrc||qc.getAttribute("src")||"<unknown-src>",pu=qc.crossOrigin,cu=()=>{qc.removeEventListener("load",cu);try{z.width=qc.naturalWidth,z.height=qc.naturalHeight,j.drawImage(qc,0,0),Xc.rr_dataURL=z.toDataURL(tu.type,tu.quality)}catch(mu){if(qc.crossOrigin!=="anonymous")return qc.crossOrigin="anonymous",void(qc.complete&&qc.naturalWidth!==0?cu():qc.addEventListener("load",cu));console.warn("Cannot inline img src=".concat(lu,"! Error: ").concat(mu))}qc.crossOrigin==="anonymous"&&(pu?Xc.crossOrigin=pu:qc.removeAttribute("crossorigin"))};qc.complete&&qc.naturalWidth!==0?cu():qc.addEventListener("load",cu)}if(["audio","video"].includes(Wc)){const qc=Xc;qc.rr_mediaState=Nc.paused?"paused":"played",qc.rr_mediaCurrentTime=Nc.currentTime,qc.rr_mediaPlaybackRate=Nc.playbackRate,qc.rr_mediaMuted=Nc.muted,qc.rr_mediaLoop=Nc.loop,qc.rr_mediaVolume=Nc.volume}if(ru||(Nc.scrollLeft&&(Xc.rr_scrollLeft=Nc.scrollLeft),Nc.scrollTop&&(Xc.rr_scrollTop=Nc.scrollTop)),Lc){const{width:qc,height:lu}=Nc.getBoundingClientRect();Xc={class:Xc.class,rr_width:"".concat(qc,"px"),rr_height:"".concat(lu,"px")}}Wc!=="iframe"||Hc(Xc.src)||(Nc.contentDocument||(Xc.rr_src=Xc.src),delete Xc.src);let su;try{customElements.get(Wc)&&(su=!0)}catch{}return{type:a.Element,tagName:Wc,attributes:Xc,childNodes:[],isSVG:Z(Nc)||void 0,needBlock:Lc,rootId:nu,isCustom:su}})(ns,{doc:Oo,blockClass:Di,blockSelector:Qi,inlineStylesheet:$c,maskInputOptions:_c,maskInputFn:Ec,dataURLOptions:Pc,inlineImages:Ac,recordCanvas:Oc,keepIframeSrcFn:Mc,newlyAddedElement:Rc,rootId:Dc});case ns.TEXT_NODE:return(function(Nc,zc){const{needsMask:Gc,maskTextFn:Yc,rootId:Kc,cssCaptured:au}=zc,Jc=y.parentNode(Nc),iu=Jc&&Jc.tagName;let tu="";const Vc=iu==="STYLE"||void 0,Qc=iu==="SCRIPT"||void 0;return Qc?tu="SCRIPT_PLACEHOLDER":au||(tu=y.textContent(Nc),Vc&&tu&&(tu=L(tu,J(zc.doc)))),!Vc&&!Qc&&tu&&Gc&&(tu=Yc?Yc(tu,y.parentElement(Nc)):tu.replace(/[\S]/g,"*")),{type:a.Text,textContent:tu||"",rootId:Kc}})(ns,{doc:Oo,needsMask:Tc,maskTextFn:xc,rootId:Dc,cssCaptured:Uc});case ns.CDATA_SECTION_NODE:return{type:a.CDATA,textContent:"",rootId:Dc};case ns.COMMENT_NODE:return{type:a.Comment,textContent:y.textContent(ns)||"",rootId:Dc};default:return!1}}function $(ns){return ns==null?"":ns.toLowerCase()}function ee(ns){return ns===!0||ns==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:ns==="all",headMetaDescKeywords:ns==="all",headTitleMutations:ns==="all"}:ns||{}}function te(ns,jr){const{doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,maskTextClass:Tc,maskTextSelector:$c,skipChild:_c=!1,inlineStylesheet:xc=!0,maskInputOptions:Ec={},maskTextFn:Pc,maskInputFn:Ac,slimDOMOptions:Oc,dataURLOptions:Mc={},inlineImages:Rc=!1,recordCanvas:Uc=!1,onSerialize:Dc,onIframeLoad:Nc,iframeLoadTimeout:zc=5e3,onStylesheetLoad:Gc,stylesheetLoadTimeout:Yc=5e3,keepIframeSrcFn:Kc=(()=>!1),newlyAddedElement:au=!1,cssCaptured:Jc=!1}=jr;let{needsMask:iu}=jr,{preserveWhiteSpace:tu=!0}=jr;iu||(iu=Q(ns,Tc,$c,iu===void 0));const Vc=q(ns,{doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,needsMask:iu,inlineStylesheet:xc,maskInputOptions:Ec,maskTextFn:Pc,maskInputFn:Ac,dataURLOptions:Mc,inlineImages:Rc,recordCanvas:Uc,keepIframeSrcFn:Kc,newlyAddedElement:au,cssCaptured:Jc});if(!Vc)return console.warn(ns,"not serialized"),null;let Qc;Qc=Mo.hasNode(ns)?Mo.getId(ns):(function(Lc,Wc){return!!(Wc.comment&&Lc.type===a.Comment||Lc.type===a.Element&&(Wc.script&&(Lc.tagName==="script"||Lc.tagName==="link"&&(Lc.attributes.rel==="preload"&&Lc.attributes.as==="script"||Lc.attributes.rel==="modulepreload")||Lc.tagName==="link"&&Lc.attributes.rel==="prefetch"&&typeof Lc.attributes.href=="string"&&A(Lc.attributes.href)==="js")||Wc.headFavicon&&(Lc.tagName==="link"&&Lc.attributes.rel==="shortcut icon"||Lc.tagName==="meta"&&($(Lc.attributes.name).match(/^msapplication-tile(image|color)$/)||$(Lc.attributes.name)==="application-name"||$(Lc.attributes.rel)==="icon"||$(Lc.attributes.rel)==="apple-touch-icon"||$(Lc.attributes.rel)==="shortcut icon"))||Lc.tagName==="meta"&&(Wc.headMetaDescKeywords&&$(Lc.attributes.name).match(/^description|keywords$/)||Wc.headMetaSocial&&($(Lc.attributes.property).match(/^(og|twitter|fb):/)||$(Lc.attributes.name).match(/^(og|twitter):/)||$(Lc.attributes.name)==="pinterest")||Wc.headMetaRobots&&($(Lc.attributes.name)==="robots"||$(Lc.attributes.name)==="googlebot"||$(Lc.attributes.name)==="bingbot")||Wc.headMetaHttpEquiv&&Lc.attributes["http-equiv"]!==void 0||Wc.headMetaAuthorship&&($(Lc.attributes.name)==="author"||$(Lc.attributes.name)==="generator"||$(Lc.attributes.name)==="framework"||$(Lc.attributes.name)==="publisher"||$(Lc.attributes.name)==="progid"||$(Lc.attributes.property).match(/^article:/)||$(Lc.attributes.property).match(/^product:/))||Wc.headMetaVerification&&($(Lc.attributes.name)==="google-site-verification"||$(Lc.attributes.name)==="yandex-verification"||$(Lc.attributes.name)==="csrf-token"||$(Lc.attributes.name)==="p:domain_verify"||$(Lc.attributes.name)==="verify-v1"||$(Lc.attributes.name)==="verification"||$(Lc.attributes.name)==="shopify-checkout-api-token"))))})(Vc,Oc)||!tu&&Vc.type===a.Text&&!Vc.textContent.replace(/^\s+|\s+$/gm,"").length?_:U();const Hc=Object.assign(Vc,{id:Qc});if(Mo.add(ns,Hc),Qc===_)return null;Dc&&Dc(ns);let ru=!_c;if(Hc.type===a.Element){ru=ru&&!Hc.needBlock,delete Hc.needBlock;const Lc=y.shadowRoot(ns);Lc&&v(Lc)&&(Hc.isShadowHost=!0)}if((Hc.type===a.Document||Hc.type===a.Element)&&ru){Oc.headWhitespace&&Hc.type===a.Element&&Hc.tagName==="head"&&(tu=!1);const Lc={doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,needsMask:iu,maskTextClass:Tc,maskTextSelector:$c,skipChild:_c,inlineStylesheet:xc,maskInputOptions:Ec,maskTextFn:Pc,maskInputFn:Ac,slimDOMOptions:Oc,dataURLOptions:Mc,inlineImages:Rc,recordCanvas:Uc,preserveWhiteSpace:tu,onSerialize:Dc,onIframeLoad:Nc,iframeLoadTimeout:zc,onStylesheetLoad:Gc,stylesheetLoadTimeout:Yc,keepIframeSrcFn:Kc,cssCaptured:!1};if(!(Hc.type===a.Element&&Hc.tagName==="textarea"&&Hc.attributes.value!==void 0)){Hc.type===a.Element&&Hc.attributes._cssText!==void 0&&typeof Hc.attributes._cssText=="string"&&(Lc.cssCaptured=!0);for(const Xc of Array.from(y.childNodes(ns))){const Fc=te(Xc,Lc);Fc&&Hc.childNodes.push(Fc)}}let Wc=null;if(w(ns)&&(Wc=y.shadowRoot(ns)))for(const Xc of Array.from(y.childNodes(Wc))){const Fc=te(Xc,Lc);Fc&&(v(Wc)&&(Fc.isShadow=!0),Hc.childNodes.push(Fc))}}const nu=y.parentNode(ns);return nu&&b(nu)&&v(nu)&&(Hc.isShadow=!0),Hc.type===a.Element&&Hc.tagName==="iframe"&&(function(Lc,Wc,Xc){const Fc=Lc.contentWindow;if(!Fc)return;let su,qc=!1;try{su=Fc.document.readyState}catch{return}if(su!=="complete"){const pu=setTimeout((()=>{qc||(Wc(),qc=!0)}),Xc);return void Lc.addEventListener("load",(()=>{clearTimeout(pu),qc=!0,Wc()}))}const lu="about:blank";if(Fc.location.href!==lu||Lc.src===lu||Lc.src==="")return setTimeout(Wc,0),Lc.addEventListener("load",Wc);Lc.addEventListener("load",Wc)})(ns,(()=>{const Lc=ns.contentDocument;if(Lc&&Nc){const Wc=te(Lc,{doc:Lc,mirror:Mo,blockClass:Di,blockSelector:Qi,needsMask:iu,maskTextClass:Tc,maskTextSelector:$c,skipChild:!1,inlineStylesheet:xc,maskInputOptions:Ec,maskTextFn:Pc,maskInputFn:Ac,slimDOMOptions:Oc,dataURLOptions:Mc,inlineImages:Rc,recordCanvas:Uc,preserveWhiteSpace:tu,onSerialize:Dc,onIframeLoad:Nc,iframeLoadTimeout:zc,onStylesheetLoad:Gc,stylesheetLoadTimeout:Yc,keepIframeSrcFn:Kc});Wc&&Nc(ns,Wc)}}),zc),Hc.type===a.Element&&Hc.tagName==="link"&&typeof Hc.attributes.rel=="string"&&(Hc.attributes.rel==="stylesheet"||Hc.attributes.rel==="preload"&&typeof Hc.attributes.href=="string"&&A(Hc.attributes.href)==="css")&&(function(Lc,Wc,Xc){let Fc,su=!1;try{Fc=Lc.sheet}catch{return}if(Fc)return;const qc=setTimeout((()=>{su||(Wc(),su=!0)}),Xc);Lc.addEventListener("load",(()=>{clearTimeout(qc),su=!0,Wc()}))})(ns,(()=>{if(Gc){const Lc=te(ns,{doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,needsMask:iu,maskTextClass:Tc,maskTextSelector:$c,skipChild:!1,inlineStylesheet:xc,maskInputOptions:Ec,maskTextFn:Pc,maskInputFn:Ac,slimDOMOptions:Oc,dataURLOptions:Mc,inlineImages:Rc,recordCanvas:Uc,preserveWhiteSpace:tu,onSerialize:Dc,onIframeLoad:Nc,iframeLoadTimeout:zc,onStylesheetLoad:Gc,stylesheetLoadTimeout:Yc,keepIframeSrcFn:Kc});Lc&&Gc(ns,Lc)}}),Yc),Hc}function re(ns){return ns&&ns.__esModule&&Object.prototype.hasOwnProperty.call(ns,"default")?ns.default:ns}function se(ns){if(ns.__esModule)return ns;var jr=ns.default;if(typeof jr=="function"){var Oo=function Mo(){return this instanceof Mo?Reflect.construct(jr,arguments,this.constructor):jr.apply(this,arguments)};Oo.prototype=jr.prototype}else Oo={};return Object.defineProperty(Oo,"__esModule",{value:!0}),Object.keys(ns).forEach((function(Mo){var Di=Object.getOwnPropertyDescriptor(ns,Mo);Object.defineProperty(Oo,Mo,Di.get?Di:{enumerable:!0,get:function(){return ns[Mo]}})})),Oo}var ne={exports:{}},oe=String,ie=function(){return{isColorSupported:!1,reset:oe,bold:oe,dim:oe,italic:oe,underline:oe,inverse:oe,hidden:oe,strikethrough:oe,black:oe,red:oe,green:oe,yellow:oe,blue:oe,magenta:oe,cyan:oe,white:oe,gray:oe,bgBlack:oe,bgRed:oe,bgGreen:oe,bgYellow:oe,bgBlue:oe,bgMagenta:oe,bgCyan:oe,bgWhite:oe}};ne.exports=ie(),ne.exports.createColors=ie;var ae=ne.exports;const le=se(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let ce=ae,he=le,ue=class od extends Error{constructor(jr,Oo,Mo,Di,Qi,Tc){super(jr),this.name="CssSyntaxError",this.reason=jr,Qi&&(this.file=Qi),Di&&(this.source=Di),Tc&&(this.plugin=Tc),Oo!==void 0&&Mo!==void 0&&(typeof Oo=="number"?(this.line=Oo,this.column=Mo):(this.line=Oo.line,this.column=Oo.column,this.endLine=Mo.line,this.endColumn=Mo.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,od)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(jr){if(!this.source)return"";let Oo=this.source;jr==null&&(jr=ce.isColorSupported),he&&jr&&(Oo=he(Oo));let Mo,Di,Qi=Oo.split(/\r?\n/),Tc=Math.max(this.line-3,0),$c=Math.min(this.line+2,Qi.length),_c=String($c).length;if(jr){let{bold:xc,gray:Ec,red:Pc}=ce.createColors(!0);Mo=Ac=>xc(Pc(Ac)),Di=Ac=>Ec(Ac)}else Mo=Di=xc=>xc;return Qi.slice(Tc,$c).map(((xc,Ec)=>{let Pc=Tc+1+Ec,Ac=" "+(" "+Pc).slice(-_c)+" | ";if(Pc===this.line){let Oc=Di(Ac.replace(/\d/g," "))+xc.slice(0,this.column-1).replace(/[^\t]/g," ");return Mo(">")+Di(Ac)+xc+`
 `+Oc+Mo("^")}return" "+Di(Ac)+xc})).join(`
`)}toString(){let jr=this.showSourceCode();return jr&&(jr=`

`+jr+`
`),this.name+": "+this.message+jr}};var pe=ue;ue.default=ue;var de={};de.isClean=Symbol("isClean"),de.my=Symbol("my");const fe={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let me=class{constructor(ns){this.builder=ns}atrule(ns,jr){let Oo="@"+ns.name,Mo=ns.params?this.rawValue(ns,"params"):"";if(ns.raws.afterName!==void 0?Oo+=ns.raws.afterName:Mo&&(Oo+=" "),ns.nodes)this.block(ns,Oo+Mo);else{let Di=(ns.raws.between||"")+(jr?";":"");this.builder(Oo+Mo+Di,ns)}}beforeAfter(ns,jr){let Oo;Oo=ns.type==="decl"?this.raw(ns,null,"beforeDecl"):ns.type==="comment"?this.raw(ns,null,"beforeComment"):jr==="before"?this.raw(ns,null,"beforeRule"):this.raw(ns,null,"beforeClose");let Mo=ns.parent,Di=0;for(;Mo&&Mo.type!=="root";)Di+=1,Mo=Mo.parent;if(Oo.includes(`
`)){let Qi=this.raw(ns,null,"indent");if(Qi.length)for(let Tc=0;Tc<Di;Tc++)Oo+=Qi}return Oo}block(ns,jr){let Oo,Mo=this.raw(ns,"between","beforeOpen");this.builder(jr+Mo+"{",ns,"start"),ns.nodes&&ns.nodes.length?(this.body(ns),Oo=this.raw(ns,"after")):Oo=this.raw(ns,"after","emptyBody"),Oo&&this.builder(Oo),this.builder("}",ns,"end")}body(ns){let jr=ns.nodes.length-1;for(;jr>0&&ns.nodes[jr].type==="comment";)jr-=1;let Oo=this.raw(ns,"semicolon");for(let Mo=0;Mo<ns.nodes.length;Mo++){let Di=ns.nodes[Mo],Qi=this.raw(Di,"before");Qi&&this.builder(Qi),this.stringify(Di,jr!==Mo||Oo)}}comment(ns){let jr=this.raw(ns,"left","commentLeft"),Oo=this.raw(ns,"right","commentRight");this.builder("/*"+jr+ns.text+Oo+"*/",ns)}decl(ns,jr){let Oo=this.raw(ns,"between","colon"),Mo=ns.prop+Oo+this.rawValue(ns,"value");ns.important&&(Mo+=ns.raws.important||" !important"),jr&&(Mo+=";"),this.builder(Mo,ns)}document(ns){this.body(ns)}raw(ns,jr,Oo){let Mo;if(Oo||(Oo=jr),jr&&(Mo=ns.raws[jr],Mo!==void 0))return Mo;let Di=ns.parent;if(Oo==="before"&&(!Di||Di.type==="root"&&Di.first===ns||Di&&Di.type==="document"))return"";if(!Di)return fe[Oo];let Qi=ns.root();if(Qi.rawCache||(Qi.rawCache={}),Qi.rawCache[Oo]!==void 0)return Qi.rawCache[Oo];if(Oo==="before"||Oo==="after")return this.beforeAfter(ns,Oo);{let $c="raw"+((Tc=Oo)[0].toUpperCase()+Tc.slice(1));this[$c]?Mo=this[$c](Qi,ns):Qi.walk((_c=>{if(Mo=_c.raws[jr],Mo!==void 0)return!1}))}var Tc;return Mo===void 0&&(Mo=fe[Oo]),Qi.rawCache[Oo]=Mo,Mo}rawBeforeClose(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length>0&&Oo.raws.after!==void 0)return jr=Oo.raws.after,jr.includes(`
`)&&(jr=jr.replace(/[^\n]+$/,"")),!1})),jr&&(jr=jr.replace(/\S/g,"")),jr}rawBeforeComment(ns,jr){let Oo;return ns.walkComments((Mo=>{if(Mo.raws.before!==void 0)return Oo=Mo.raws.before,Oo.includes(`
`)&&(Oo=Oo.replace(/[^\n]+$/,"")),!1})),Oo===void 0?Oo=this.raw(jr,null,"beforeDecl"):Oo&&(Oo=Oo.replace(/\S/g,"")),Oo}rawBeforeDecl(ns,jr){let Oo;return ns.walkDecls((Mo=>{if(Mo.raws.before!==void 0)return Oo=Mo.raws.before,Oo.includes(`
`)&&(Oo=Oo.replace(/[^\n]+$/,"")),!1})),Oo===void 0?Oo=this.raw(jr,null,"beforeRule"):Oo&&(Oo=Oo.replace(/\S/g,"")),Oo}rawBeforeOpen(ns){let jr;return ns.walk((Oo=>{if(Oo.type!=="decl"&&(jr=Oo.raws.between,jr!==void 0))return!1})),jr}rawBeforeRule(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&(Oo.parent!==ns||ns.first!==Oo)&&Oo.raws.before!==void 0)return jr=Oo.raws.before,jr.includes(`
`)&&(jr=jr.replace(/[^\n]+$/,"")),!1})),jr&&(jr=jr.replace(/\S/g,"")),jr}rawColon(ns){let jr;return ns.walkDecls((Oo=>{if(Oo.raws.between!==void 0)return jr=Oo.raws.between.replace(/[^\s:]/g,""),!1})),jr}rawEmptyBody(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length===0&&(jr=Oo.raws.after,jr!==void 0))return!1})),jr}rawIndent(ns){if(ns.raws.indent)return ns.raws.indent;let jr;return ns.walk((Oo=>{let Mo=Oo.parent;if(Mo&&Mo!==ns&&Mo.parent&&Mo.parent===ns&&Oo.raws.before!==void 0){let Di=Oo.raws.before.split(`
`);return jr=Di[Di.length-1],jr=jr.replace(/\S/g,""),!1}})),jr}rawSemicolon(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length&&Oo.last.type==="decl"&&(jr=Oo.raws.semicolon,jr!==void 0))return!1})),jr}rawValue(ns,jr){let Oo=ns[jr],Mo=ns.raws[jr];return Mo&&Mo.value===Oo?Mo.raw:Oo}root(ns){this.body(ns),ns.raws.after&&this.builder(ns.raws.after)}rule(ns){this.block(ns,this.rawValue(ns,"selector")),ns.raws.ownSemicolon&&this.builder(ns.raws.ownSemicolon,ns,"end")}stringify(ns,jr){if(!this[ns.type])throw new Error("Unknown AST node type "+ns.type+". Maybe you need to change PostCSS stringifier.");this[ns.type](ns,jr)}};var ge=me;me.default=me;let ye=ge;function we(ns,jr){new ye(jr).stringify(ns)}var be=we;we.default=we;let{isClean:ve,my:Se}=de,Ce=pe,Ie=ge,ke=be;function xe(ns,jr){let Oo=new ns.constructor;for(let Mo in ns){if(!Object.prototype.hasOwnProperty.call(ns,Mo)||Mo==="proxyCache")continue;let Di=ns[Mo],Qi=typeof Di;Mo==="parent"&&Qi==="object"?jr&&(Oo[Mo]=jr):Mo==="source"?Oo[Mo]=Di:Array.isArray(Di)?Oo[Mo]=Di.map((Tc=>xe(Tc,Oo))):(Qi==="object"&&Di!==null&&(Di=xe(Di)),Oo[Mo]=Di)}return Oo}let Oe=class{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.raws={},this[ve]=!1,this[Se]=!0;for(let jr in ns)if(jr==="nodes"){this.nodes=[];for(let Oo of ns[jr])typeof Oo.clone=="function"?this.append(Oo.clone()):this.append(Oo)}else this[jr]=ns[jr]}addToError(ns){if(ns.postcssNode=this,ns.stack&&this.source&&/\n\s{4}at /.test(ns.stack)){let jr=this.source;ns.stack=ns.stack.replace(/\n\s{4}at /,"$&".concat(jr.input.from,":").concat(jr.start.line,":").concat(jr.start.column,"$&"))}return ns}after(ns){return this.parent.insertAfter(this,ns),this}assign(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let jr in ns)this[jr]=ns[jr];return this}before(ns){return this.parent.insertBefore(this,ns),this}cleanRaws(ns){delete this.raws.before,delete this.raws.after,ns||delete this.raws.between}clone(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=xe(this);for(let Oo in ns)jr[Oo]=ns[Oo];return jr}cloneAfter(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=this.clone(ns);return this.parent.insertAfter(this,jr),jr}cloneBefore(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=this.clone(ns);return this.parent.insertBefore(this,jr),jr}error(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.source){let{end:Oo,start:Mo}=this.rangeBy(jr);return this.source.input.error(ns,{column:Mo.column,line:Mo.line},{column:Oo.column,line:Oo.line},jr)}return new Ce(ns)}getProxyProcessor(){return{get:(ns,jr)=>jr==="proxyOf"?ns:jr==="root"?()=>ns.root().toProxy():ns[jr],set:(ns,jr,Oo)=>(ns[jr]===Oo||(ns[jr]=Oo,jr!=="prop"&&jr!=="value"&&jr!=="name"&&jr!=="params"&&jr!=="important"&&jr!=="text"||ns.markDirty()),!0)}}markDirty(){if(this[ve]){this[ve]=!1;let ns=this;for(;ns=ns.parent;)ns[ve]=!1}}next(){if(!this.parent)return;let ns=this.parent.index(this);return this.parent.nodes[ns+1]}positionBy(ns,jr){let Oo=this.source.start;if(ns.index)Oo=this.positionInside(ns.index,jr);else if(ns.word){let Mo=(jr=this.toString()).indexOf(ns.word);Mo!==-1&&(Oo=this.positionInside(Mo,jr))}return Oo}positionInside(ns,jr){let Oo=jr||this.toString(),Mo=this.source.start.column,Di=this.source.start.line;for(let Qi=0;Qi<ns;Qi++)Oo[Qi]===`
`?(Mo=1,Di+=1):Mo+=1;return{column:Mo,line:Di}}prev(){if(!this.parent)return;let ns=this.parent.index(this);return this.parent.nodes[ns-1]}rangeBy(ns){let jr={column:this.source.start.column,line:this.source.start.line},Oo=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:jr.column+1,line:jr.line};if(ns.word){let Mo=this.toString(),Di=Mo.indexOf(ns.word);Di!==-1&&(jr=this.positionInside(Di,Mo),Oo=this.positionInside(Di+ns.word.length,Mo))}else ns.start?jr={column:ns.start.column,line:ns.start.line}:ns.index&&(jr=this.positionInside(ns.index)),ns.end?Oo={column:ns.end.column,line:ns.end.line}:typeof ns.endIndex=="number"?Oo=this.positionInside(ns.endIndex):ns.index&&(Oo=this.positionInside(ns.index+1));return(Oo.line<jr.line||Oo.line===jr.line&&Oo.column<=jr.column)&&(Oo={column:jr.column+1,line:jr.line}),{end:Oo,start:jr}}raw(ns,jr){return new Ie().raw(this,ns,jr)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let Mo=this,Di=!1;for(var ns=arguments.length,jr=new Array(ns),Oo=0;Oo<ns;Oo++)jr[Oo]=arguments[Oo];for(let Qi of jr)Qi===this?Di=!0:Di?(this.parent.insertAfter(Mo,Qi),Mo=Qi):this.parent.insertBefore(Mo,Qi);Di||this.remove()}return this}root(){let ns=this;for(;ns.parent&&ns.parent.type!=="document";)ns=ns.parent;return ns}toJSON(ns,jr){let Oo={},Mo=jr==null;jr=jr||new Map;let Di=0;for(let Qi in this){if(!Object.prototype.hasOwnProperty.call(this,Qi)||Qi==="parent"||Qi==="proxyCache")continue;let Tc=this[Qi];if(Array.isArray(Tc))Oo[Qi]=Tc.map(($c=>typeof $c=="object"&&$c.toJSON?$c.toJSON(null,jr):$c));else if(typeof Tc=="object"&&Tc.toJSON)Oo[Qi]=Tc.toJSON(null,jr);else if(Qi==="source"){let $c=jr.get(Tc.input);$c==null&&($c=Di,jr.set(Tc.input,Di),Di++),Oo[Qi]={end:Tc.end,inputId:$c,start:Tc.start}}else Oo[Qi]=Tc}return Mo&&(Oo.inputs=[...jr.keys()].map((Qi=>Qi.toJSON()))),Oo}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke;ns.stringify&&(ns=ns.stringify);let jr="";return ns(this,(Oo=>{jr+=Oo})),jr}warn(ns,jr,Oo){let Mo={node:this};for(let Di in Oo)Mo[Di]=Oo[Di];return ns.warn(jr,Mo)}get proxyOf(){return this}};var Me=Oe;Oe.default=Oe;let Ae=Me,Re=class extends Ae{constructor(ns){ns&&ns.value!==void 0&&typeof ns.value!="string"&&(ns={...ns,value:String(ns.value)}),super(ns),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Ee=Re;Re.default=Re;var Ne={nanoid:function(){let ns="",jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;for(;jr--;)ns+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return ns}};let{SourceMapConsumer:Te,SourceMapGenerator:Le}=le,{existsSync:De,readFileSync:Pe}=le,{dirname:Fe,join:Be}=le,_e=class{constructor(ns,jr){if(jr.map===!1)return;this.loadAnnotation(ns),this.inline=this.startWith(this.annotation,"data:");let Oo=jr.map?jr.map.prev:void 0,Mo=this.loadMap(jr.from,Oo);!this.mapFile&&jr.from&&(this.mapFile=jr.from),this.mapFile&&(this.root=Fe(this.mapFile)),Mo&&(this.text=Mo)}consumer(){return this.consumerCache||(this.consumerCache=new Te(this.text)),this.consumerCache}decodeInline(ns){if(/^data:application\/json;charset=utf-?8,/.test(ns)||/^data:application\/json,/.test(ns))return decodeURIComponent(ns.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(ns)||/^data:application\/json;base64,/.test(ns))return jr=ns.substr(RegExp.lastMatch.length),Buffer?Buffer.from(jr,"base64").toString():window.atob(jr);var jr;let Oo=ns.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+Oo)}getAnnotationURL(ns){return ns.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(ns){return typeof ns=="object"&&(typeof ns.mappings=="string"||typeof ns._mappings=="string"||Array.isArray(ns.sections))}loadAnnotation(ns){let jr=ns.match(/\/\*\s*# sourceMappingURL=/gm);if(!jr)return;let Oo=ns.lastIndexOf(jr.pop()),Mo=ns.indexOf("*/",Oo);Oo>-1&&Mo>-1&&(this.annotation=this.getAnnotationURL(ns.substring(Oo,Mo)))}loadFile(ns){if(this.root=Fe(ns),De(ns))return this.mapFile=ns,Pe(ns,"utf-8").toString().trim()}loadMap(ns,jr){if(jr===!1)return!1;if(jr){if(typeof jr=="string")return jr;if(typeof jr!="function"){if(jr instanceof Te)return Le.fromSourceMap(jr).toString();if(jr instanceof Le)return jr.toString();if(this.isMap(jr))return JSON.stringify(jr);throw new Error("Unsupported previous source map format: "+jr.toString())}{let Oo=jr(ns);if(Oo){let Mo=this.loadFile(Oo);if(!Mo)throw new Error("Unable to load previous source map: "+Oo.toString());return Mo}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let Oo=this.annotation;return ns&&(Oo=Be(Fe(ns),Oo)),this.loadFile(Oo)}}}startWith(ns,jr){return!!ns&&ns.substr(0,jr.length)===jr}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Ue=_e;_e.default=_e;let{SourceMapConsumer:ze,SourceMapGenerator:je}=le,{fileURLToPath:We,pathToFileURL:Ve}=le,{isAbsolute:Ge,resolve:Ye}=le,{nanoid:Ze}=Ne,Je=le,Xe=pe,He=Ue,Ke=Symbol("fromOffsetCache"),Qe=!!(ze&&je),qe=!!(Ye&&Ge),$e=class{constructor(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ns==null||typeof ns=="object"&&!ns.toString)throw new Error("PostCSS received ".concat(ns," instead of CSS string"));if(this.css=ns.toString(),this.css[0]==="\uFEFF"||this.css[0]==="ï¿¾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,jr.from&&(!qe||/^\w+:\/\//.test(jr.from)||Ge(jr.from)?this.file=jr.from:this.file=Ye(jr.from)),qe&&Qe){let Oo=new He(this.css,jr);if(Oo.text){this.map=Oo;let Mo=Oo.consumer().file;!this.file&&Mo&&(this.file=this.mapResolve(Mo))}}this.file||(this.id="<input css "+Ze(6)+">"),this.map&&(this.map.file=this.from)}error(ns,jr,Oo){let Mo,Di,Qi,Tc=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(jr&&typeof jr=="object"){let _c=jr,xc=Oo;if(typeof _c.offset=="number"){let Ec=this.fromOffset(_c.offset);jr=Ec.line,Oo=Ec.col}else jr=_c.line,Oo=_c.column;if(typeof xc.offset=="number"){let Ec=this.fromOffset(xc.offset);Di=Ec.line,Qi=Ec.col}else Di=xc.line,Qi=xc.column}else if(!Oo){let _c=this.fromOffset(jr);jr=_c.line,Oo=_c.col}let $c=this.origin(jr,Oo,Di,Qi);return Mo=$c?new Xe(ns,$c.endLine===void 0?$c.line:{column:$c.column,line:$c.line},$c.endLine===void 0?$c.column:{column:$c.endColumn,line:$c.endLine},$c.source,$c.file,Tc.plugin):new Xe(ns,Di===void 0?jr:{column:Oo,line:jr},Di===void 0?Oo:{column:Qi,line:Di},this.css,this.file,Tc.plugin),Mo.input={column:Oo,endColumn:Qi,endLine:Di,line:jr,source:this.css},this.file&&(Ve&&(Mo.input.url=Ve(this.file).toString()),Mo.input.file=this.file),Mo}fromOffset(ns){let jr,Oo;if(this[Ke])Oo=this[Ke];else{let Di=this.css.split(`
`);Oo=new Array(Di.length);let Qi=0;for(let Tc=0,$c=Di.length;Tc<$c;Tc++)Oo[Tc]=Qi,Qi+=Di[Tc].length+1;this[Ke]=Oo}jr=Oo[Oo.length-1];let Mo=0;if(ns>=jr)Mo=Oo.length-1;else{let Di,Qi=Oo.length-2;for(;Mo<Qi;)if(Di=Mo+(Qi-Mo>>1),ns<Oo[Di])Qi=Di-1;else{if(!(ns>=Oo[Di+1])){Mo=Di;break}Mo=Di+1}}return{col:ns-Oo[Mo]+1,line:Mo+1}}mapResolve(ns){return/^\w+:\/\//.test(ns)?ns:Ye(this.map.consumer().sourceRoot||this.map.root||".",ns)}origin(ns,jr,Oo,Mo){if(!this.map)return!1;let Di,Qi,Tc=this.map.consumer(),$c=Tc.originalPositionFor({column:jr,line:ns});if(!$c.source)return!1;typeof Oo=="number"&&(Di=Tc.originalPositionFor({column:Mo,line:Oo})),Qi=Ge($c.source)?Ve($c.source):new URL($c.source,this.map.consumer().sourceRoot||Ve(this.map.mapFile));let _c={column:$c.column,endColumn:Di&&Di.column,endLine:Di&&Di.line,line:$c.line,url:Qi.toString()};if(Qi.protocol==="file:"){if(!We)throw new Error("file: protocol is not available in this PostCSS build");_c.file=We(Qi)}let xc=Tc.sourceContentFor($c.source);return xc&&(_c.source=xc),_c}toJSON(){let ns={};for(let jr of["hasBOM","css","file","id"])this[jr]!=null&&(ns[jr]=this[jr]);return this.map&&(ns.map={...this.map},ns.map.consumerCache&&(ns.map.consumerCache=void 0)),ns}get from(){return this.file||this.id}};var et=$e;$e.default=$e,Je&&Je.registerInput&&Je.registerInput($e);let{SourceMapConsumer:tt,SourceMapGenerator:rt}=le,{dirname:st,relative:nt,resolve:ot,sep:it}=le,{pathToFileURL:at}=le,lt=et,ct=!!(tt&&rt),ht=!!(st&&ot&&nt&&it);var ut=class{constructor(ns,jr,Oo,Mo){this.stringify=ns,this.mapOpts=Oo.map||{},this.root=jr,this.opts=Oo,this.css=Mo,this.originalCSS=Mo,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let ns;ns=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let jr=`
`;this.css.includes(`\r
`)&&(jr=`\r
`),this.css+=jr+"/*# sourceMappingURL="+ns+" */"}applyPrevMaps(){for(let ns of this.previous()){let jr,Oo=this.toUrl(this.path(ns.file)),Mo=ns.root||st(ns.file);this.mapOpts.sourcesContent===!1?(jr=new tt(ns.text),jr.sourcesContent&&(jr.sourcesContent=null)):jr=ns.consumer(),this.map.applySourceMap(jr,Oo,this.toUrl(this.path(Mo)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let ns;for(let jr=this.root.nodes.length-1;jr>=0;jr--)ns=this.root.nodes[jr],ns.type==="comment"&&ns.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(jr)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),ht&&ct&&this.isMap())return this.generateMap();{let ns="";return this.stringify(this.root,(jr=>{ns+=jr})),[ns]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let ns=this.previous()[0].consumer();ns.file=this.outputFile(),this.map=rt.fromSourceMap(ns,{ignoreInvalidMapping:!0})}else this.map=new rt({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new rt({file:this.outputFile(),ignoreInvalidMapping:!0});let ns,jr,Oo=1,Mo=1,Di="<no source>",Qi={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((Tc,$c,_c)=>{if(this.css+=Tc,$c&&_c!=="end"&&(Qi.generated.line=Oo,Qi.generated.column=Mo-1,$c.source&&$c.source.start?(Qi.source=this.sourcePath($c),Qi.original.line=$c.source.start.line,Qi.original.column=$c.source.start.column-1,this.map.addMapping(Qi)):(Qi.source=Di,Qi.original.line=1,Qi.original.column=0,this.map.addMapping(Qi))),ns=Tc.match(/\n/g),ns?(Oo+=ns.length,jr=Tc.lastIndexOf(`
`),Mo=Tc.length-jr):Mo+=Tc.length,$c&&_c!=="start"){let xc=$c.parent||{raws:{}};($c.type==="decl"||$c.type==="atrule"&&!$c.nodes)&&$c===xc.last&&!xc.raws.semicolon||($c.source&&$c.source.end?(Qi.source=this.sourcePath($c),Qi.original.line=$c.source.end.line,Qi.original.column=$c.source.end.column-1,Qi.generated.line=Oo,Qi.generated.column=Mo-2,this.map.addMapping(Qi)):(Qi.source=Di,Qi.original.line=1,Qi.original.column=0,Qi.generated.line=Oo,Qi.generated.column=Mo-1,this.map.addMapping(Qi)))}}))}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some((ns=>ns.annotation)))}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let ns=this.mapOpts.annotation;return(ns===void 0||ns===!0)&&(!this.previous().length||this.previous().some((jr=>jr.inline)))}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((ns=>ns.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(ns){if(this.mapOpts.absolute||ns.charCodeAt(0)===60||/^\w+:\/\//.test(ns))return ns;let jr=this.memoizedPaths.get(ns);if(jr)return jr;let Oo=this.opts.to?st(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(Oo=st(ot(Oo,this.mapOpts.annotation)));let Mo=nt(Oo,ns);return this.memoizedPaths.set(ns,Mo),Mo}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((ns=>{if(ns.source&&ns.source.input.map){let jr=ns.source.input.map;this.previousMaps.includes(jr)||this.previousMaps.push(jr)}}));else{let ns=new lt(this.originalCSS,this.opts);ns.map&&this.previousMaps.push(ns.map)}return this.previousMaps}setSourcesContent(){let ns={};if(this.root)this.root.walk((jr=>{if(jr.source){let Oo=jr.source.input.from;if(Oo&&!ns[Oo]){ns[Oo]=!0;let Mo=this.usesFileUrls?this.toFileUrl(Oo):this.toUrl(this.path(Oo));this.map.setSourceContent(Mo,jr.source.input.css)}}}));else if(this.css){let jr=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(jr,this.css)}}sourcePath(ns){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(ns.source.input.from):this.toUrl(this.path(ns.source.input.from))}toBase64(ns){return Buffer?Buffer.from(ns).toString("base64"):window.btoa(unescape(encodeURIComponent(ns)))}toFileUrl(ns){let jr=this.memoizedFileURLs.get(ns);if(jr)return jr;if(at){let Oo=at(ns).toString();return this.memoizedFileURLs.set(ns,Oo),Oo}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(ns){let jr=this.memoizedURLs.get(ns);if(jr)return jr;it==="\\"&&(ns=ns.replace(/\\/g,"/"));let Oo=encodeURI(ns).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(ns,Oo),Oo}};let pt=Me,dt=class extends pt{constructor(ns){super(ns),this.type="comment"}};var ft=dt;dt.default=dt;let mt,gt,yt,wt,{isClean:bt,my:vt}=de,St=Ee,Ct=ft,It=Me;function kt(ns){return ns.map((jr=>(jr.nodes&&(jr.nodes=kt(jr.nodes)),delete jr.source,jr)))}function xt(ns){if(ns[bt]=!1,ns.proxyOf.nodes)for(let jr of ns.proxyOf.nodes)xt(jr)}let Ot=class ad extends It{append(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];for(let Di of Oo){let Qi=this.normalize(Di,this.last);for(let Tc of Qi)this.proxyOf.nodes.push(Tc)}return this.markDirty(),this}cleanRaws(jr){if(super.cleanRaws(jr),this.nodes)for(let Oo of this.nodes)Oo.cleanRaws(jr)}each(jr){if(!this.proxyOf.nodes)return;let Oo,Mo,Di=this.getIterator();for(;this.indexes[Di]<this.proxyOf.nodes.length&&(Oo=this.indexes[Di],Mo=jr(this.proxyOf.nodes[Oo],Oo),Mo!==!1);)this.indexes[Di]+=1;return delete this.indexes[Di],Mo}every(jr){return this.nodes.every(jr)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let jr=this.lastEach;return this.indexes[jr]=0,jr}getProxyProcessor(){return{get:(jr,Oo)=>Oo==="proxyOf"?jr:jr[Oo]?Oo==="each"||typeof Oo=="string"&&Oo.startsWith("walk")?function(){for(var Mo=arguments.length,Di=new Array(Mo),Qi=0;Qi<Mo;Qi++)Di[Qi]=arguments[Qi];return jr[Oo](...Di.map((Tc=>typeof Tc=="function"?($c,_c)=>Tc($c.toProxy(),_c):Tc)))}:Oo==="every"||Oo==="some"?Mo=>jr[Oo]((function(Di){for(var Qi=arguments.length,Tc=new Array(Qi>1?Qi-1:0),$c=1;$c<Qi;$c++)Tc[$c-1]=arguments[$c];return Mo(Di.toProxy(),...Tc)})):Oo==="root"?()=>jr.root().toProxy():Oo==="nodes"?jr.nodes.map((Mo=>Mo.toProxy())):Oo==="first"||Oo==="last"?jr[Oo].toProxy():jr[Oo]:jr[Oo],set:(jr,Oo,Mo)=>(jr[Oo]===Mo||(jr[Oo]=Mo,Oo!=="name"&&Oo!=="params"&&Oo!=="selector"||jr.markDirty()),!0)}}index(jr){return typeof jr=="number"?jr:(jr.proxyOf&&(jr=jr.proxyOf),this.proxyOf.nodes.indexOf(jr))}insertAfter(jr,Oo){let Mo,Di=this.index(jr),Qi=this.normalize(Oo,this.proxyOf.nodes[Di]).reverse();Di=this.index(jr);for(let Tc of Qi)this.proxyOf.nodes.splice(Di+1,0,Tc);for(let Tc in this.indexes)Mo=this.indexes[Tc],Di<Mo&&(this.indexes[Tc]=Mo+Qi.length);return this.markDirty(),this}insertBefore(jr,Oo){let Mo,Di=this.index(jr),Qi=Di===0&&"prepend",Tc=this.normalize(Oo,this.proxyOf.nodes[Di],Qi).reverse();Di=this.index(jr);for(let $c of Tc)this.proxyOf.nodes.splice(Di,0,$c);for(let $c in this.indexes)Mo=this.indexes[$c],Di<=Mo&&(this.indexes[$c]=Mo+Tc.length);return this.markDirty(),this}normalize(jr,Oo){if(typeof jr=="string")jr=kt(mt(jr).nodes);else if(jr===void 0)jr=[];else if(Array.isArray(jr)){jr=jr.slice(0);for(let Mo of jr)Mo.parent&&Mo.parent.removeChild(Mo,"ignore")}else if(jr.type==="root"&&this.type!=="document"){jr=jr.nodes.slice(0);for(let Mo of jr)Mo.parent&&Mo.parent.removeChild(Mo,"ignore")}else if(jr.type)jr=[jr];else if(jr.prop){if(jr.value===void 0)throw new Error("Value field is missed in node creation");typeof jr.value!="string"&&(jr.value=String(jr.value)),jr=[new St(jr)]}else if(jr.selector)jr=[new gt(jr)];else if(jr.name)jr=[new yt(jr)];else{if(!jr.text)throw new Error("Unknown node type in node creation");jr=[new Ct(jr)]}return jr.map((Mo=>(Mo[vt]||ad.rebuild(Mo),(Mo=Mo.proxyOf).parent&&Mo.parent.removeChild(Mo),Mo[bt]&&xt(Mo),Mo.raws.before===void 0&&Oo&&Oo.raws.before!==void 0&&(Mo.raws.before=Oo.raws.before.replace(/\S/g,"")),Mo.parent=this.proxyOf,Mo)))}prepend(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];Oo=Oo.reverse();for(let Di of Oo){let Qi=this.normalize(Di,this.first,"prepend").reverse();for(let Tc of Qi)this.proxyOf.nodes.unshift(Tc);for(let Tc in this.indexes)this.indexes[Tc]=this.indexes[Tc]+Qi.length}return this.markDirty(),this}push(jr){return jr.parent=this,this.proxyOf.nodes.push(jr),this}removeAll(){for(let jr of this.proxyOf.nodes)jr.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(jr){let Oo;jr=this.index(jr),this.proxyOf.nodes[jr].parent=void 0,this.proxyOf.nodes.splice(jr,1);for(let Mo in this.indexes)Oo=this.indexes[Mo],Oo>=jr&&(this.indexes[Mo]=Oo-1);return this.markDirty(),this}replaceValues(jr,Oo,Mo){return Mo||(Mo=Oo,Oo={}),this.walkDecls((Di=>{Oo.props&&!Oo.props.includes(Di.prop)||Oo.fast&&!Di.value.includes(Oo.fast)||(Di.value=Di.value.replace(jr,Mo))})),this.markDirty(),this}some(jr){return this.nodes.some(jr)}walk(jr){return this.each(((Oo,Mo)=>{let Di;try{Di=jr(Oo,Mo)}catch(Qi){throw Oo.addToError(Qi)}return Di!==!1&&Oo.walk&&(Di=Oo.walk(jr)),Di}))}walkAtRules(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="atrule"&&jr.test(Mo.name))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="atrule"&&Mo.name===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="atrule")return Oo(Mo,Di)})))}walkComments(jr){return this.walk(((Oo,Mo)=>{if(Oo.type==="comment")return jr(Oo,Mo)}))}walkDecls(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="decl"&&jr.test(Mo.prop))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="decl"&&Mo.prop===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="decl")return Oo(Mo,Di)})))}walkRules(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="rule"&&jr.test(Mo.selector))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="rule"&&Mo.selector===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="rule")return Oo(Mo,Di)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Ot.registerParse=ns=>{mt=ns},Ot.registerRule=ns=>{gt=ns},Ot.registerAtRule=ns=>{yt=ns},Ot.registerRoot=ns=>{wt=ns};var Mt=Ot;Ot.default=Ot,Ot.rebuild=ns=>{ns.type==="atrule"?Object.setPrototypeOf(ns,yt.prototype):ns.type==="rule"?Object.setPrototypeOf(ns,gt.prototype):ns.type==="decl"?Object.setPrototypeOf(ns,St.prototype):ns.type==="comment"?Object.setPrototypeOf(ns,Ct.prototype):ns.type==="root"&&Object.setPrototypeOf(ns,wt.prototype),ns[vt]=!0,ns.nodes&&ns.nodes.forEach((jr=>{Ot.rebuild(jr)}))};let At,Rt,Et=Mt,Nt=class extends Et{constructor(ns){super({type:"document",...ns}),this.nodes||(this.nodes=[])}toResult(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new At(new Rt,this,ns).stringify()}};Nt.registerLazyResult=ns=>{At=ns},Nt.registerProcessor=ns=>{Rt=ns};var Tt=Nt;Nt.default=Nt;let Pt=class{constructor(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.type="warning",this.text=ns,jr.node&&jr.node.source){let Oo=jr.node.rangeBy(jr);this.line=Oo.start.line,this.column=Oo.start.column,this.endLine=Oo.end.line,this.endColumn=Oo.end.column}for(let Oo in jr)this[Oo]=jr[Oo]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Ft=Pt;Pt.default=Pt;let Bt=Ft,_t=class{constructor(ns,jr,Oo){this.processor=ns,this.messages=[],this.root=jr,this.opts=Oo,this.css=void 0,this.map=void 0}toString(){return this.css}warn(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};jr.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(jr.plugin=this.lastPlugin.postcssPlugin);let Oo=new Bt(ns,jr);return this.messages.push(Oo),Oo}warnings(){return this.messages.filter((ns=>ns.type==="warning"))}get content(){return this.css}};var Ut=_t;_t.default=_t;const zt=39,jt=34,Wt=92,Vt=47,Gt=10,Yt=32,Zt=12,Jt=9,Xt=13,Ht=91,Kt=93,Qt=40,qt=41,$t=123,er=125,tr=59,rr=42,sr=58,nr=64,or=/[\t\n\f\r "#'()/;[\\\]{}]/g,ir=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ar=/.[\r\n"'(/\\]/,lr=/[\da-f]/i;let cr=Mt,hr=class extends cr{constructor(ns){super(ns),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var ur=hr;hr.default=hr,cr.registerAtRule(hr);let pr,dr,fr=Mt,mr=class extends fr{constructor(ns){super(ns),this.type="root",this.nodes||(this.nodes=[])}normalize(ns,jr,Oo){let Mo=super.normalize(ns);if(jr){if(Oo==="prepend")this.nodes.length>1?jr.raws.before=this.nodes[1].raws.before:delete jr.raws.before;else if(this.first!==jr)for(let Di of Mo)Di.raws.before=jr.raws.before}return Mo}removeChild(ns,jr){let Oo=this.index(ns);return!jr&&Oo===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[Oo].raws.before),super.removeChild(ns)}toResult(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new pr(new dr,this,ns).stringify()}};mr.registerLazyResult=ns=>{pr=ns},mr.registerProcessor=ns=>{dr=ns};var gr=mr;mr.default=mr,fr.registerRoot(mr);let yr={comma:ns=>yr.split(ns,[","],!0),space:ns=>yr.split(ns,[" ",`
`,"	"]),split(ns,jr,Oo){let Mo=[],Di="",Qi=!1,Tc=0,$c=!1,_c="",xc=!1;for(let Ec of ns)xc?xc=!1:Ec==="\\"?xc=!0:$c?Ec===_c&&($c=!1):Ec==='"'||Ec==="'"?($c=!0,_c=Ec):Ec==="("?Tc+=1:Ec===")"?Tc>0&&(Tc-=1):Tc===0&&jr.includes(Ec)&&(Qi=!0),Qi?(Di!==""&&Mo.push(Di.trim()),Di="",Qi=!1):Di+=Ec;return(Oo||Di!=="")&&Mo.push(Di.trim()),Mo}};var wr=yr;yr.default=yr;let br=Mt,vr=wr,Sr=class extends br{constructor(ns){super(ns),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return vr.comma(this.selector)}set selectors(ns){let jr=this.selector?this.selector.match(/,\s*/):null,Oo=jr?jr[0]:","+this.raw("between","beforeOpen");this.selector=ns.join(Oo)}};var Cr=Sr;Sr.default=Sr,br.registerRule(Sr);let Ir=Ee,kr=function(ns){let jr,Oo,Mo,Di,Qi,Tc,$c,_c,xc,Ec,Pc=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ac=ns.css.valueOf(),Oc=Pc.ignoreErrors,Mc=Ac.length,Rc=0,Uc=[],Dc=[];function Nc(zc){throw ns.error("Unclosed "+zc,Rc)}return{back:function(zc){Dc.push(zc)},endOfFile:function(){return Dc.length===0&&Rc>=Mc},nextToken:function(zc){if(Dc.length)return Dc.pop();if(Rc>=Mc)return;let Gc=!!zc&&zc.ignoreUnclosed;switch(jr=Ac.charCodeAt(Rc),jr){case Gt:case Yt:case Jt:case Xt:case Zt:Oo=Rc;do Oo+=1,jr=Ac.charCodeAt(Oo);while(jr===Yt||jr===Gt||jr===Jt||jr===Xt||jr===Zt);Ec=["space",Ac.slice(Rc,Oo)],Rc=Oo-1;break;case Ht:case Kt:case $t:case er:case sr:case tr:case qt:{let Yc=String.fromCharCode(jr);Ec=[Yc,Yc,Rc];break}case Qt:if(_c=Uc.length?Uc.pop()[1]:"",xc=Ac.charCodeAt(Rc+1),_c==="url"&&xc!==zt&&xc!==jt&&xc!==Yt&&xc!==Gt&&xc!==Jt&&xc!==Zt&&xc!==Xt){Oo=Rc;do{if(Tc=!1,Oo=Ac.indexOf(")",Oo+1),Oo===-1){if(Oc||Gc){Oo=Rc;break}Nc("bracket")}for($c=Oo;Ac.charCodeAt($c-1)===Wt;)$c-=1,Tc=!Tc}while(Tc);Ec=["brackets",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo}else Oo=Ac.indexOf(")",Rc+1),Di=Ac.slice(Rc,Oo+1),Oo===-1||ar.test(Di)?Ec=["(","(",Rc]:(Ec=["brackets",Di,Rc,Oo],Rc=Oo);break;case zt:case jt:Mo=jr===zt?"'":'"',Oo=Rc;do{if(Tc=!1,Oo=Ac.indexOf(Mo,Oo+1),Oo===-1){if(Oc||Gc){Oo=Rc+1;break}Nc("string")}for($c=Oo;Ac.charCodeAt($c-1)===Wt;)$c-=1,Tc=!Tc}while(Tc);Ec=["string",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;case nr:or.lastIndex=Rc+1,or.test(Ac),Oo=or.lastIndex===0?Ac.length-1:or.lastIndex-2,Ec=["at-word",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;case Wt:for(Oo=Rc,Qi=!0;Ac.charCodeAt(Oo+1)===Wt;)Oo+=1,Qi=!Qi;if(jr=Ac.charCodeAt(Oo+1),Qi&&jr!==Vt&&jr!==Yt&&jr!==Gt&&jr!==Jt&&jr!==Xt&&jr!==Zt&&(Oo+=1,lr.test(Ac.charAt(Oo)))){for(;lr.test(Ac.charAt(Oo+1));)Oo+=1;Ac.charCodeAt(Oo+1)===Yt&&(Oo+=1)}Ec=["word",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;default:jr===Vt&&Ac.charCodeAt(Rc+1)===rr?(Oo=Ac.indexOf("*/",Rc+2)+1,Oo===0&&(Oc||Gc?Oo=Ac.length:Nc("comment")),Ec=["comment",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo):(ir.lastIndex=Rc+1,ir.test(Ac),Oo=ir.lastIndex===0?Ac.length-1:ir.lastIndex-2,Ec=["word",Ac.slice(Rc,Oo+1),Rc,Oo],Uc.push(Ec),Rc=Oo)}return Rc++,Ec},position:function(){return Rc}}},xr=ft,Or=ur,Mr=gr,Ar=Cr;const Rr={empty:!0,space:!0};let Er=Mt,Nr=class{constructor(ns){this.input=ns,this.root=new Mr,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:ns,start:{column:1,line:1,offset:0}}}atrule(ns){let jr,Oo,Mo,Di=new Or;Di.name=ns[1].slice(1),Di.name===""&&this.unnamedAtrule(Di,ns),this.init(Di,ns[2]);let Qi=!1,Tc=!1,$c=[],_c=[];for(;!this.tokenizer.endOfFile();){if(jr=(ns=this.tokenizer.nextToken())[0],jr==="("||jr==="["?_c.push(jr==="("?")":"]"):jr==="{"&&_c.length>0?_c.push("}"):jr===_c[_c.length-1]&&_c.pop(),_c.length===0){if(jr===";"){Di.source.end=this.getPosition(ns[2]),Di.source.end.offset++,this.semicolon=!0;break}if(jr==="{"){Tc=!0;break}if(jr==="}"){if($c.length>0){for(Mo=$c.length-1,Oo=$c[Mo];Oo&&Oo[0]==="space";)Oo=$c[--Mo];Oo&&(Di.source.end=this.getPosition(Oo[3]||Oo[2]),Di.source.end.offset++)}this.end(ns);break}$c.push(ns)}else $c.push(ns);if(this.tokenizer.endOfFile()){Qi=!0;break}}Di.raws.between=this.spacesAndCommentsFromEnd($c),$c.length?(Di.raws.afterName=this.spacesAndCommentsFromStart($c),this.raw(Di,"params",$c),Qi&&(ns=$c[$c.length-1],Di.source.end=this.getPosition(ns[3]||ns[2]),Di.source.end.offset++,this.spaces=Di.raws.between,Di.raws.between="")):(Di.raws.afterName="",Di.params=""),Tc&&(Di.nodes=[],this.current=Di)}checkMissedSemicolon(ns){let jr=this.colon(ns);if(jr===!1)return;let Oo,Mo=0;for(let Di=jr-1;Di>=0&&(Oo=ns[Di],Oo[0]==="space"||(Mo+=1,Mo!==2));Di--);throw this.input.error("Missed semicolon",Oo[0]==="word"?Oo[3]+1:Oo[2])}colon(ns){let jr,Oo,Mo,Di=0;for(let[Qi,Tc]of ns.entries()){if(jr=Tc,Oo=jr[0],Oo==="("&&(Di+=1),Oo===")"&&(Di-=1),Di===0&&Oo===":"){if(Mo){if(Mo[0]==="word"&&Mo[1]==="progid")continue;return Qi}this.doubleColon(jr)}Mo=jr}return!1}comment(ns){let jr=new xr;this.init(jr,ns[2]),jr.source.end=this.getPosition(ns[3]||ns[2]),jr.source.end.offset++;let Oo=ns[1].slice(2,-2);if(/^\s*$/.test(Oo))jr.text="",jr.raws.left=Oo,jr.raws.right="";else{let Mo=Oo.match(/^(\s*)([^]*\S)(\s*)$/);jr.text=Mo[2],jr.raws.left=Mo[1],jr.raws.right=Mo[3]}}createTokenizer(){this.tokenizer=kr(this.input)}decl(ns,jr){let Oo=new Ir;this.init(Oo,ns[0][2]);let Mo,Di=ns[ns.length-1];for(Di[0]===";"&&(this.semicolon=!0,ns.pop()),Oo.source.end=this.getPosition(Di[3]||Di[2]||(function($c){for(let _c=$c.length-1;_c>=0;_c--){let xc=$c[_c],Ec=xc[3]||xc[2];if(Ec)return Ec}})(ns)),Oo.source.end.offset++;ns[0][0]!=="word";)ns.length===1&&this.unknownWord(ns),Oo.raws.before+=ns.shift()[1];for(Oo.source.start=this.getPosition(ns[0][2]),Oo.prop="";ns.length;){let $c=ns[0][0];if($c===":"||$c==="space"||$c==="comment")break;Oo.prop+=ns.shift()[1]}for(Oo.raws.between="";ns.length;){if(Mo=ns.shift(),Mo[0]===":"){Oo.raws.between+=Mo[1];break}Mo[0]==="word"&&/\w/.test(Mo[1])&&this.unknownWord([Mo]),Oo.raws.between+=Mo[1]}Oo.prop[0]!=="_"&&Oo.prop[0]!=="*"||(Oo.raws.before+=Oo.prop[0],Oo.prop=Oo.prop.slice(1));let Qi,Tc=[];for(;ns.length&&(Qi=ns[0][0],Qi==="space"||Qi==="comment");)Tc.push(ns.shift());this.precheckMissedSemicolon(ns);for(let $c=ns.length-1;$c>=0;$c--){if(Mo=ns[$c],Mo[1].toLowerCase()==="!important"){Oo.important=!0;let _c=this.stringFrom(ns,$c);_c=this.spacesFromEnd(ns)+_c,_c!==" !important"&&(Oo.raws.important=_c);break}if(Mo[1].toLowerCase()==="important"){let _c=ns.slice(0),xc="";for(let Ec=$c;Ec>0;Ec--){let Pc=_c[Ec][0];if(xc.trim().indexOf("!")===0&&Pc!=="space")break;xc=_c.pop()[1]+xc}xc.trim().indexOf("!")===0&&(Oo.important=!0,Oo.raws.important=xc,ns=_c)}if(Mo[0]!=="space"&&Mo[0]!=="comment")break}ns.some(($c=>$c[0]!=="space"&&$c[0]!=="comment"))&&(Oo.raws.between+=Tc.map(($c=>$c[1])).join(""),Tc=[]),this.raw(Oo,"value",Tc.concat(ns),jr),Oo.value.includes(":")&&!jr&&this.checkMissedSemicolon(ns)}doubleColon(ns){throw this.input.error("Double colon",{offset:ns[2]},{offset:ns[2]+ns[1].length})}emptyRule(ns){let jr=new Ar;this.init(jr,ns[2]),jr.selector="",jr.raws.between="",this.current=jr}end(ns){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(ns[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(ns)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(ns){if(this.spaces+=ns[1],this.current.nodes){let jr=this.current.nodes[this.current.nodes.length-1];jr&&jr.type==="rule"&&!jr.raws.ownSemicolon&&(jr.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(ns){let jr=this.input.fromOffset(ns);return{column:jr.col,line:jr.line,offset:ns}}init(ns,jr){this.current.push(ns),ns.source={input:this.input,start:this.getPosition(jr)},ns.raws.before=this.spaces,this.spaces="",ns.type!=="comment"&&(this.semicolon=!1)}other(ns){let jr=!1,Oo=null,Mo=!1,Di=null,Qi=[],Tc=ns[1].startsWith("--"),$c=[],_c=ns;for(;_c;){if(Oo=_c[0],$c.push(_c),Oo==="("||Oo==="[")Di||(Di=_c),Qi.push(Oo==="("?")":"]");else if(Tc&&Mo&&Oo==="{")Di||(Di=_c),Qi.push("}");else if(Qi.length===0){if(Oo===";"){if(Mo)return void this.decl($c,Tc);break}if(Oo==="{")return void this.rule($c);if(Oo==="}"){this.tokenizer.back($c.pop()),jr=!0;break}Oo===":"&&(Mo=!0)}else Oo===Qi[Qi.length-1]&&(Qi.pop(),Qi.length===0&&(Di=null));_c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(jr=!0),Qi.length>0&&this.unclosedBracket(Di),jr&&Mo){if(!Tc)for(;$c.length&&(_c=$c[$c.length-1][0],_c==="space"||_c==="comment");)this.tokenizer.back($c.pop());this.decl($c,Tc)}else this.unknownWord($c)}parse(){let ns;for(;!this.tokenizer.endOfFile();)switch(ns=this.tokenizer.nextToken(),ns[0]){case"space":this.spaces+=ns[1];break;case";":this.freeSemicolon(ns);break;case"}":this.end(ns);break;case"comment":this.comment(ns);break;case"at-word":this.atrule(ns);break;case"{":this.emptyRule(ns);break;default:this.other(ns)}this.endFile()}precheckMissedSemicolon(){}raw(ns,jr,Oo,Mo){let Di,Qi,Tc,$c,_c=Oo.length,xc="",Ec=!0;for(let Pc=0;Pc<_c;Pc+=1)Di=Oo[Pc],Qi=Di[0],Qi!=="space"||Pc!==_c-1||Mo?Qi==="comment"?($c=Oo[Pc-1]?Oo[Pc-1][0]:"empty",Tc=Oo[Pc+1]?Oo[Pc+1][0]:"empty",Rr[$c]||Rr[Tc]||xc.slice(-1)===","?Ec=!1:xc+=Di[1]):xc+=Di[1]:Ec=!1;if(!Ec){let Pc=Oo.reduce(((Ac,Oc)=>Ac+Oc[1]),"");ns.raws[jr]={raw:Pc,value:xc}}ns[jr]=xc}rule(ns){ns.pop();let jr=new Ar;this.init(jr,ns[0][2]),jr.raws.between=this.spacesAndCommentsFromEnd(ns),this.raw(jr,"selector",ns),this.current=jr}spacesAndCommentsFromEnd(ns){let jr,Oo="";for(;ns.length&&(jr=ns[ns.length-1][0],jr==="space"||jr==="comment");)Oo=ns.pop()[1]+Oo;return Oo}spacesAndCommentsFromStart(ns){let jr,Oo="";for(;ns.length&&(jr=ns[0][0],jr==="space"||jr==="comment");)Oo+=ns.shift()[1];return Oo}spacesFromEnd(ns){let jr,Oo="";for(;ns.length&&(jr=ns[ns.length-1][0],jr==="space");)Oo=ns.pop()[1]+Oo;return Oo}stringFrom(ns,jr){let Oo="";for(let Mo=jr;Mo<ns.length;Mo++)Oo+=ns[Mo][1];return ns.splice(jr,ns.length-jr),Oo}unclosedBlock(){let ns=this.current.source.start;throw this.input.error("Unclosed block",ns.line,ns.column)}unclosedBracket(ns){throw this.input.error("Unclosed bracket",{offset:ns[2]},{offset:ns[2]+1})}unexpectedClose(ns){throw this.input.error("Unexpected }",{offset:ns[2]},{offset:ns[2]+1})}unknownWord(ns){throw this.input.error("Unknown word",{offset:ns[0][2]},{offset:ns[0][2]+ns[0][1].length})}unnamedAtrule(ns,jr){throw this.input.error("At-rule without name",{offset:jr[2]},{offset:jr[2]+jr[1].length})}},Tr=et;function Lr(ns,jr){let Oo=new Tr(ns,jr),Mo=new Nr(Oo);try{Mo.parse()}catch(Di){throw Di}return Mo.root}var Dr=Lr;Lr.default=Lr,Er.registerParse(Lr);let{isClean:Pr,my:Fr}=de,Br=ut,_r=be,Ur=Mt,zr=Tt,Wr=Ut,Vr=Dr,Gr=gr;const Yr={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Zr={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Jr={Once:!0,postcssPlugin:!0,prepare:!0},Xr=0;function Hr(ns){return typeof ns=="object"&&typeof ns.then=="function"}function Kr(ns){let jr=!1,Oo=Yr[ns.type];return ns.type==="decl"?jr=ns.prop.toLowerCase():ns.type==="atrule"&&(jr=ns.name.toLowerCase()),jr&&ns.append?[Oo,Oo+"-"+jr,Xr,Oo+"Exit",Oo+"Exit-"+jr]:jr?[Oo,Oo+"-"+jr,Oo+"Exit",Oo+"Exit-"+jr]:ns.append?[Oo,Xr,Oo+"Exit"]:[Oo,Oo+"Exit"]}function Qr(ns){let jr;return jr=ns.type==="document"?["Document",Xr,"DocumentExit"]:ns.type==="root"?["Root",Xr,"RootExit"]:Kr(ns),{eventIndex:0,events:jr,iterator:0,node:ns,visitorIndex:0,visitors:[]}}function qr(ns){return ns[Pr]=!1,ns.nodes&&ns.nodes.forEach((jr=>qr(jr))),ns}let $r={},es=class ld{constructor(jr,Oo,Mo){let Di;if(this.stringified=!1,this.processed=!1,typeof Oo!="object"||Oo===null||Oo.type!=="root"&&Oo.type!=="document")if(Oo instanceof ld||Oo instanceof Wr)Di=qr(Oo.root),Oo.map&&(Mo.map===void 0&&(Mo.map={}),Mo.map.inline||(Mo.map.inline=!1),Mo.map.prev=Oo.map);else{let Qi=Vr;Mo.syntax&&(Qi=Mo.syntax.parse),Mo.parser&&(Qi=Mo.parser),Qi.parse&&(Qi=Qi.parse);try{Di=Qi(Oo,Mo)}catch(Tc){this.processed=!0,this.error=Tc}Di&&!Di[Fr]&&Ur.rebuild(Di)}else Di=qr(Oo);this.result=new Wr(jr,Di,Mo),this.helpers={...$r,postcss:$r,result:this.result},this.plugins=this.processor.plugins.map((Qi=>typeof Qi=="object"&&Qi.prepare?{...Qi,...Qi.prepare(this.result)}:Qi))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(jr){return this.async().catch(jr)}finally(jr){return this.async().then(jr,jr)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(jr,Oo){let Mo=this.result.lastPlugin;try{Oo&&Oo.addToError(jr),this.error=jr,jr.name!=="CssSyntaxError"||jr.plugin?Mo.postcssVersion:(jr.plugin=Mo.postcssPlugin,jr.setMessage())}catch(Di){console&&console.error&&console.error(Di)}return jr}prepareVisitors(){this.listeners={};let jr=(Oo,Mo,Di)=>{this.listeners[Mo]||(this.listeners[Mo]=[]),this.listeners[Mo].push([Oo,Di])};for(let Oo of this.plugins)if(typeof Oo=="object")for(let Mo in Oo){if(!Zr[Mo]&&/^[A-Z]/.test(Mo))throw new Error("Unknown event ".concat(Mo," in ").concat(Oo.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Jr[Mo])if(typeof Oo[Mo]=="object")for(let Di in Oo[Mo])jr(Oo,Di==="*"?Mo:Mo+"-"+Di.toLowerCase(),Oo[Mo][Di]);else typeof Oo[Mo]=="function"&&jr(Oo,Mo,Oo[Mo])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let jr=0;jr<this.plugins.length;jr++){let Oo=this.plugins[jr],Mo=this.runOnRoot(Oo);if(Hr(Mo))try{await Mo}catch(Di){throw this.handleError(Di)}}if(this.prepareVisitors(),this.hasListener){let jr=this.result.root;for(;!jr[Pr];){jr[Pr]=!0;let Oo=[Qr(jr)];for(;Oo.length>0;){let Mo=this.visitTick(Oo);if(Hr(Mo))try{await Mo}catch(Di){let Qi=Oo[Oo.length-1].node;throw this.handleError(Di,Qi)}}}if(this.listeners.OnceExit)for(let[Oo,Mo]of this.listeners.OnceExit){this.result.lastPlugin=Oo;try{if(jr.type==="document"){let Di=jr.nodes.map((Qi=>Mo(Qi,this.helpers)));await Promise.all(Di)}else await Mo(jr,this.helpers)}catch(Di){throw this.handleError(Di)}}}return this.processed=!0,this.stringify()}runOnRoot(jr){this.result.lastPlugin=jr;try{if(typeof jr=="object"&&jr.Once){if(this.result.root.type==="document"){let Oo=this.result.root.nodes.map((Mo=>jr.Once(Mo,this.helpers)));return Hr(Oo[0])?Promise.all(Oo):Oo}return jr.Once(this.result.root,this.helpers)}if(typeof jr=="function")return jr(this.result.root,this.result)}catch(Oo){throw this.handleError(Oo)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let jr=this.result.opts,Oo=_r;jr.syntax&&(Oo=jr.syntax.stringify),jr.stringifier&&(Oo=jr.stringifier),Oo.stringify&&(Oo=Oo.stringify);let Mo=new Br(Oo,this.result.root,this.result.opts).generate();return this.result.css=Mo[0],this.result.map=Mo[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let jr of this.plugins)if(Hr(this.runOnRoot(jr)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let jr=this.result.root;for(;!jr[Pr];)jr[Pr]=!0,this.walkSync(jr);if(this.listeners.OnceExit)if(jr.type==="document")for(let Oo of jr.nodes)this.visitSync(this.listeners.OnceExit,Oo);else this.visitSync(this.listeners.OnceExit,jr)}return this.result}then(jr,Oo){return this.async().then(jr,Oo)}toString(){return this.css}visitSync(jr,Oo){for(let[Mo,Di]of jr){let Qi;this.result.lastPlugin=Mo;try{Qi=Di(Oo,this.helpers)}catch(Tc){throw this.handleError(Tc,Oo.proxyOf)}if(Oo.type!=="root"&&Oo.type!=="document"&&!Oo.parent)return!0;if(Hr(Qi))throw this.getAsyncError()}}visitTick(jr){let Oo=jr[jr.length-1],{node:Mo,visitors:Di}=Oo;if(Mo.type!=="root"&&Mo.type!=="document"&&!Mo.parent)return void jr.pop();if(Di.length>0&&Oo.visitorIndex<Di.length){let[Tc,$c]=Di[Oo.visitorIndex];Oo.visitorIndex+=1,Oo.visitorIndex===Di.length&&(Oo.visitors=[],Oo.visitorIndex=0),this.result.lastPlugin=Tc;try{return $c(Mo.toProxy(),this.helpers)}catch(_c){throw this.handleError(_c,Mo)}}if(Oo.iterator!==0){let Tc,$c=Oo.iterator;for(;Tc=Mo.nodes[Mo.indexes[$c]];)if(Mo.indexes[$c]+=1,!Tc[Pr])return Tc[Pr]=!0,void jr.push(Qr(Tc));Oo.iterator=0,delete Mo.indexes[$c]}let Qi=Oo.events;for(;Oo.eventIndex<Qi.length;){let Tc=Qi[Oo.eventIndex];if(Oo.eventIndex+=1,Tc===Xr)return void(Mo.nodes&&Mo.nodes.length&&(Mo[Pr]=!0,Oo.iterator=Mo.getIterator()));if(this.listeners[Tc])return void(Oo.visitors=this.listeners[Tc])}jr.pop()}walkSync(jr){jr[Pr]=!0;let Oo=Kr(jr);for(let Mo of Oo)if(Mo===Xr)jr.nodes&&jr.each((Di=>{Di[Pr]||this.walkSync(Di)}));else{let Di=this.listeners[Mo];if(Di&&this.visitSync(Di,jr.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};es.registerPostcss=ns=>{$r=ns};var ts=es;es.default=es,Gr.registerLazyResult(es),zr.registerLazyResult(es);let rs=ut,ss=be,os=Dr;const is=Ut;let as=class{constructor(ns,jr,Oo){let Mo;jr=jr.toString(),this.stringified=!1,this._processor=ns,this._css=jr,this._opts=Oo,this._map=void 0;let Di=ss;this.result=new is(this._processor,Mo,this._opts),this.result.css=jr;let Qi=this;Object.defineProperty(this.result,"root",{get:()=>Qi.root});let Tc=new rs(Di,Mo,this._opts,jr);if(Tc.isMap()){let[$c,_c]=Tc.generate();$c&&(this.result.css=$c),_c&&(this.result.map=_c)}else Tc.clearAnnotation(),this.result.css=Tc.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(ns){return this.async().catch(ns)}finally(ns){return this.async().then(ns,ns)}sync(){if(this.error)throw this.error;return this.result}then(ns,jr){return this.async().then(ns,jr)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let ns,jr=os;try{ns=jr(this._css,this._opts)}catch(Oo){this.error=Oo}if(this.error)throw this.error;return this._root=ns,ns}get[Symbol.toStringTag](){return"NoWorkResult"}};var ls=as;as.default=as;let cs=ls,hs=ts,us=Tt,ps=gr,ds=class{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.version="8.4.38",this.plugins=this.normalize(ns)}normalize(ns){let jr=[];for(let Oo of ns)if(Oo.postcss===!0?Oo=Oo():Oo.postcss&&(Oo=Oo.postcss),typeof Oo=="object"&&Array.isArray(Oo.plugins))jr=jr.concat(Oo.plugins);else if(typeof Oo=="object"&&Oo.postcssPlugin)jr.push(Oo);else if(typeof Oo=="function")jr.push(Oo);else if(typeof Oo!="object"||!Oo.parse&&!Oo.stringify)throw new Error(Oo+" is not a PostCSS plugin");return jr}process(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.plugins.length||jr.parser||jr.stringifier||jr.syntax?new hs(this,ns,jr):new cs(this,ns,jr)}use(ns){return this.plugins=this.plugins.concat(this.normalize([ns])),this}};var fs=ds;ds.default=ds,ps.registerProcessor(ds),us.registerProcessor(ds);let ms=Ee,gs=Ue,ys=ft,ws=ur,bs=et,vs=gr,Ss=Cr;function Cs(ns,jr){if(Array.isArray(ns))return ns.map((Di=>Cs(Di)));let{inputs:Oo,...Mo}=ns;if(Oo){jr=[];for(let Di of Oo){let Qi={...Di,__proto__:bs.prototype};Qi.map&&(Qi.map={...Qi.map,__proto__:gs.prototype}),jr.push(Qi)}}if(Mo.nodes&&(Mo.nodes=ns.nodes.map((Di=>Cs(Di,jr)))),Mo.source){let{inputId:Di,...Qi}=Mo.source;Mo.source=Qi,Di!=null&&(Mo.source.input=jr[Di])}if(Mo.type==="root")return new vs(Mo);if(Mo.type==="decl")return new ms(Mo);if(Mo.type==="rule")return new Ss(Mo);if(Mo.type==="comment")return new ys(Mo);if(Mo.type==="atrule")return new ws(Mo);throw new Error("Unknown node type: "+ns.type)}var Is=Cs;Cs.default=Cs;let ks=pe,xs=Ee,Os=ts,Ms=Mt,As=fs,Rs=be,Es=Is,Ns=Tt,Ts=Ft,Ls=ft,Ds=ur,Ps=Ut,Fs=et,Bs=Dr,_s=wr,Us=Cr,zs=gr,js=Me;function Ws(){for(var ns=arguments.length,jr=new Array(ns),Oo=0;Oo<ns;Oo++)jr[Oo]=arguments[Oo];return jr.length===1&&Array.isArray(jr[0])&&(jr=jr[0]),new As(jr)}Ws.plugin=function(ns,jr){let Oo,Mo=!1;function Di(){console&&console.warn&&!Mo&&(Mo=!0,console.warn(ns+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),define_process_env_default.LANG&&define_process_env_default.LANG.startsWith("cn")&&console.warn(ns+`: éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:
https://www.w3ctech.com/topic/2226`));let Qi=jr(...arguments);return Qi.postcssPlugin=ns,Qi.postcssVersion=new As().version,Qi}return Object.defineProperty(Di,"postcss",{get:()=>(Oo||(Oo=Di()),Oo)}),Di.process=function(Qi,Tc,$c){return Ws([Di($c)]).process(Qi,Tc)},Di},Ws.stringify=Rs,Ws.parse=Bs,Ws.fromJSON=Es,Ws.list=_s,Ws.comment=ns=>new Ls(ns),Ws.atRule=ns=>new Ds(ns),Ws.decl=ns=>new xs(ns),Ws.rule=ns=>new Us(ns),Ws.root=ns=>new zs(ns),Ws.document=ns=>new Ns(ns),Ws.CssSyntaxError=ks,Ws.Declaration=xs,Ws.Container=Ms,Ws.Processor=As,Ws.Document=Ns,Ws.Comment=Ls,Ws.Warning=Ts,Ws.AtRule=Ds,Ws.Result=Ps,Ws.Input=Fs,Ws.Rule=Us,Ws.Root=zs,Ws.Node=js,Os.registerPostcss(Ws);var Vs=Ws;Ws.default=Ws;const Gs=re(Vs);Gs.stringify,Gs.fromJSON,Gs.plugin,Gs.parse,Gs.list,Gs.document,Gs.comment,Gs.atRule,Gs.rule,Gs.decl,Gs.root,Gs.CssSyntaxError,Gs.Declaration,Gs.Container,Gs.Processor,Gs.Document,Gs.Comment,Gs.Warning,Gs.AtRule,Gs.Result,Gs.Input,Gs.Rule,Gs.Root,Gs.Node;var Ys=Object.defineProperty,Zs=(ns,jr,Oo)=>((Mo,Di,Qi)=>Di in Mo?Ys(Mo,Di,{enumerable:!0,configurable:!0,writable:!0,value:Qi}):Mo[Di]=Qi)(ns,typeof jr!="symbol"?jr+"":jr,Oo);function Js(ns){return ns&&ns.__esModule&&Object.prototype.hasOwnProperty.call(ns,"default")?ns.default:ns}function Xs(ns){if(ns.__esModule)return ns;var jr=ns.default;if(typeof jr=="function"){var Oo=function Mo(){return this instanceof Mo?Reflect.construct(jr,arguments,this.constructor):jr.apply(this,arguments)};Oo.prototype=jr.prototype}else Oo={};return Object.defineProperty(Oo,"__esModule",{value:!0}),Object.keys(ns).forEach((function(Mo){var Di=Object.getOwnPropertyDescriptor(ns,Mo);Object.defineProperty(Oo,Mo,Di.get?Di:{enumerable:!0,get:function(){return ns[Mo]}})})),Oo}var Hs={exports:{}},Ks=String,Qs=function(){return{isColorSupported:!1,reset:Ks,bold:Ks,dim:Ks,italic:Ks,underline:Ks,inverse:Ks,hidden:Ks,strikethrough:Ks,black:Ks,red:Ks,green:Ks,yellow:Ks,blue:Ks,magenta:Ks,cyan:Ks,white:Ks,gray:Ks,bgBlack:Ks,bgRed:Ks,bgGreen:Ks,bgYellow:Ks,bgBlue:Ks,bgMagenta:Ks,bgCyan:Ks,bgWhite:Ks}};Hs.exports=Qs(),Hs.exports.createColors=Qs;var qs=Hs.exports;const $s=Xs(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));let en=qs,tn=$s,rn=class cd extends Error{constructor(jr,Oo,Mo,Di,Qi,Tc){super(jr),this.name="CssSyntaxError",this.reason=jr,Qi&&(this.file=Qi),Di&&(this.source=Di),Tc&&(this.plugin=Tc),Oo!==void 0&&Mo!==void 0&&(typeof Oo=="number"?(this.line=Oo,this.column=Mo):(this.line=Oo.line,this.column=Oo.column,this.endLine=Mo.line,this.endColumn=Mo.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,cd)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",this.line!==void 0&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(jr){if(!this.source)return"";let Oo=this.source;jr==null&&(jr=en.isColorSupported),tn&&jr&&(Oo=tn(Oo));let Mo,Di,Qi=Oo.split(/\r?\n/),Tc=Math.max(this.line-3,0),$c=Math.min(this.line+2,Qi.length),_c=String($c).length;if(jr){let{bold:xc,gray:Ec,red:Pc}=en.createColors(!0);Mo=Ac=>xc(Pc(Ac)),Di=Ac=>Ec(Ac)}else Mo=Di=xc=>xc;return Qi.slice(Tc,$c).map(((xc,Ec)=>{let Pc=Tc+1+Ec,Ac=" "+(" "+Pc).slice(-_c)+" | ";if(Pc===this.line){let Oc=Di(Ac.replace(/\d/g," "))+xc.slice(0,this.column-1).replace(/[^\t]/g," ");return Mo(">")+Di(Ac)+xc+`
 `+Oc+Mo("^")}return" "+Di(Ac)+xc})).join(`
`)}toString(){let jr=this.showSourceCode();return jr&&(jr=`

`+jr+`
`),this.name+": "+this.message+jr}};var sn=rn;rn.default=rn;var nn={};nn.isClean=Symbol("isClean"),nn.my=Symbol("my");const on={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};let an=class{constructor(ns){this.builder=ns}atrule(ns,jr){let Oo="@"+ns.name,Mo=ns.params?this.rawValue(ns,"params"):"";if(ns.raws.afterName!==void 0?Oo+=ns.raws.afterName:Mo&&(Oo+=" "),ns.nodes)this.block(ns,Oo+Mo);else{let Di=(ns.raws.between||"")+(jr?";":"");this.builder(Oo+Mo+Di,ns)}}beforeAfter(ns,jr){let Oo;Oo=ns.type==="decl"?this.raw(ns,null,"beforeDecl"):ns.type==="comment"?this.raw(ns,null,"beforeComment"):jr==="before"?this.raw(ns,null,"beforeRule"):this.raw(ns,null,"beforeClose");let Mo=ns.parent,Di=0;for(;Mo&&Mo.type!=="root";)Di+=1,Mo=Mo.parent;if(Oo.includes(`
`)){let Qi=this.raw(ns,null,"indent");if(Qi.length)for(let Tc=0;Tc<Di;Tc++)Oo+=Qi}return Oo}block(ns,jr){let Oo,Mo=this.raw(ns,"between","beforeOpen");this.builder(jr+Mo+"{",ns,"start"),ns.nodes&&ns.nodes.length?(this.body(ns),Oo=this.raw(ns,"after")):Oo=this.raw(ns,"after","emptyBody"),Oo&&this.builder(Oo),this.builder("}",ns,"end")}body(ns){let jr=ns.nodes.length-1;for(;jr>0&&ns.nodes[jr].type==="comment";)jr-=1;let Oo=this.raw(ns,"semicolon");for(let Mo=0;Mo<ns.nodes.length;Mo++){let Di=ns.nodes[Mo],Qi=this.raw(Di,"before");Qi&&this.builder(Qi),this.stringify(Di,jr!==Mo||Oo)}}comment(ns){let jr=this.raw(ns,"left","commentLeft"),Oo=this.raw(ns,"right","commentRight");this.builder("/*"+jr+ns.text+Oo+"*/",ns)}decl(ns,jr){let Oo=this.raw(ns,"between","colon"),Mo=ns.prop+Oo+this.rawValue(ns,"value");ns.important&&(Mo+=ns.raws.important||" !important"),jr&&(Mo+=";"),this.builder(Mo,ns)}document(ns){this.body(ns)}raw(ns,jr,Oo){let Mo;if(Oo||(Oo=jr),jr&&(Mo=ns.raws[jr],Mo!==void 0))return Mo;let Di=ns.parent;if(Oo==="before"&&(!Di||Di.type==="root"&&Di.first===ns||Di&&Di.type==="document"))return"";if(!Di)return on[Oo];let Qi=ns.root();if(Qi.rawCache||(Qi.rawCache={}),Qi.rawCache[Oo]!==void 0)return Qi.rawCache[Oo];if(Oo==="before"||Oo==="after")return this.beforeAfter(ns,Oo);{let $c="raw"+((Tc=Oo)[0].toUpperCase()+Tc.slice(1));this[$c]?Mo=this[$c](Qi,ns):Qi.walk((_c=>{if(Mo=_c.raws[jr],Mo!==void 0)return!1}))}var Tc;return Mo===void 0&&(Mo=on[Oo]),Qi.rawCache[Oo]=Mo,Mo}rawBeforeClose(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length>0&&Oo.raws.after!==void 0)return jr=Oo.raws.after,jr.includes(`
`)&&(jr=jr.replace(/[^\n]+$/,"")),!1})),jr&&(jr=jr.replace(/\S/g,"")),jr}rawBeforeComment(ns,jr){let Oo;return ns.walkComments((Mo=>{if(Mo.raws.before!==void 0)return Oo=Mo.raws.before,Oo.includes(`
`)&&(Oo=Oo.replace(/[^\n]+$/,"")),!1})),Oo===void 0?Oo=this.raw(jr,null,"beforeDecl"):Oo&&(Oo=Oo.replace(/\S/g,"")),Oo}rawBeforeDecl(ns,jr){let Oo;return ns.walkDecls((Mo=>{if(Mo.raws.before!==void 0)return Oo=Mo.raws.before,Oo.includes(`
`)&&(Oo=Oo.replace(/[^\n]+$/,"")),!1})),Oo===void 0?Oo=this.raw(jr,null,"beforeRule"):Oo&&(Oo=Oo.replace(/\S/g,"")),Oo}rawBeforeOpen(ns){let jr;return ns.walk((Oo=>{if(Oo.type!=="decl"&&(jr=Oo.raws.between,jr!==void 0))return!1})),jr}rawBeforeRule(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&(Oo.parent!==ns||ns.first!==Oo)&&Oo.raws.before!==void 0)return jr=Oo.raws.before,jr.includes(`
`)&&(jr=jr.replace(/[^\n]+$/,"")),!1})),jr&&(jr=jr.replace(/\S/g,"")),jr}rawColon(ns){let jr;return ns.walkDecls((Oo=>{if(Oo.raws.between!==void 0)return jr=Oo.raws.between.replace(/[^\s:]/g,""),!1})),jr}rawEmptyBody(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length===0&&(jr=Oo.raws.after,jr!==void 0))return!1})),jr}rawIndent(ns){if(ns.raws.indent)return ns.raws.indent;let jr;return ns.walk((Oo=>{let Mo=Oo.parent;if(Mo&&Mo!==ns&&Mo.parent&&Mo.parent===ns&&Oo.raws.before!==void 0){let Di=Oo.raws.before.split(`
`);return jr=Di[Di.length-1],jr=jr.replace(/\S/g,""),!1}})),jr}rawSemicolon(ns){let jr;return ns.walk((Oo=>{if(Oo.nodes&&Oo.nodes.length&&Oo.last.type==="decl"&&(jr=Oo.raws.semicolon,jr!==void 0))return!1})),jr}rawValue(ns,jr){let Oo=ns[jr],Mo=ns.raws[jr];return Mo&&Mo.value===Oo?Mo.raw:Oo}root(ns){this.body(ns),ns.raws.after&&this.builder(ns.raws.after)}rule(ns){this.block(ns,this.rawValue(ns,"selector")),ns.raws.ownSemicolon&&this.builder(ns.raws.ownSemicolon,ns,"end")}stringify(ns,jr){if(!this[ns.type])throw new Error("Unknown AST node type "+ns.type+". Maybe you need to change PostCSS stringifier.");this[ns.type](ns,jr)}};var ln=an;an.default=an;let cn=ln;function hn(ns,jr){new cn(jr).stringify(ns)}var un=hn;hn.default=hn;let{isClean:pn,my:dn}=nn,fn=sn,mn=ln,gn=un;function yn(ns,jr){let Oo=new ns.constructor;for(let Mo in ns){if(!Object.prototype.hasOwnProperty.call(ns,Mo)||Mo==="proxyCache")continue;let Di=ns[Mo],Qi=typeof Di;Mo==="parent"&&Qi==="object"?jr&&(Oo[Mo]=jr):Mo==="source"?Oo[Mo]=Di:Array.isArray(Di)?Oo[Mo]=Di.map((Tc=>yn(Tc,Oo))):(Qi==="object"&&Di!==null&&(Di=yn(Di)),Oo[Mo]=Di)}return Oo}let wn=class{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.raws={},this[pn]=!1,this[dn]=!0;for(let jr in ns)if(jr==="nodes"){this.nodes=[];for(let Oo of ns[jr])typeof Oo.clone=="function"?this.append(Oo.clone()):this.append(Oo)}else this[jr]=ns[jr]}addToError(ns){if(ns.postcssNode=this,ns.stack&&this.source&&/\n\s{4}at /.test(ns.stack)){let jr=this.source;ns.stack=ns.stack.replace(/\n\s{4}at /,"$&".concat(jr.input.from,":").concat(jr.start.line,":").concat(jr.start.column,"$&"))}return ns}after(ns){return this.parent.insertAfter(this,ns),this}assign(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let jr in ns)this[jr]=ns[jr];return this}before(ns){return this.parent.insertBefore(this,ns),this}cleanRaws(ns){delete this.raws.before,delete this.raws.after,ns||delete this.raws.between}clone(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=yn(this);for(let Oo in ns)jr[Oo]=ns[Oo];return jr}cloneAfter(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=this.clone(ns);return this.parent.insertAfter(this,jr),jr}cloneBefore(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jr=this.clone(ns);return this.parent.insertBefore(this,jr),jr}error(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.source){let{end:Oo,start:Mo}=this.rangeBy(jr);return this.source.input.error(ns,{column:Mo.column,line:Mo.line},{column:Oo.column,line:Oo.line},jr)}return new fn(ns)}getProxyProcessor(){return{get:(ns,jr)=>jr==="proxyOf"?ns:jr==="root"?()=>ns.root().toProxy():ns[jr],set:(ns,jr,Oo)=>(ns[jr]===Oo||(ns[jr]=Oo,jr!=="prop"&&jr!=="value"&&jr!=="name"&&jr!=="params"&&jr!=="important"&&jr!=="text"||ns.markDirty()),!0)}}markDirty(){if(this[pn]){this[pn]=!1;let ns=this;for(;ns=ns.parent;)ns[pn]=!1}}next(){if(!this.parent)return;let ns=this.parent.index(this);return this.parent.nodes[ns+1]}positionBy(ns,jr){let Oo=this.source.start;if(ns.index)Oo=this.positionInside(ns.index,jr);else if(ns.word){let Mo=(jr=this.toString()).indexOf(ns.word);Mo!==-1&&(Oo=this.positionInside(Mo,jr))}return Oo}positionInside(ns,jr){let Oo=jr||this.toString(),Mo=this.source.start.column,Di=this.source.start.line;for(let Qi=0;Qi<ns;Qi++)Oo[Qi]===`
`?(Mo=1,Di+=1):Mo+=1;return{column:Mo,line:Di}}prev(){if(!this.parent)return;let ns=this.parent.index(this);return this.parent.nodes[ns-1]}rangeBy(ns){let jr={column:this.source.start.column,line:this.source.start.line},Oo=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:jr.column+1,line:jr.line};if(ns.word){let Mo=this.toString(),Di=Mo.indexOf(ns.word);Di!==-1&&(jr=this.positionInside(Di,Mo),Oo=this.positionInside(Di+ns.word.length,Mo))}else ns.start?jr={column:ns.start.column,line:ns.start.line}:ns.index&&(jr=this.positionInside(ns.index)),ns.end?Oo={column:ns.end.column,line:ns.end.line}:typeof ns.endIndex=="number"?Oo=this.positionInside(ns.endIndex):ns.index&&(Oo=this.positionInside(ns.index+1));return(Oo.line<jr.line||Oo.line===jr.line&&Oo.column<=jr.column)&&(Oo={column:jr.column+1,line:jr.line}),{end:Oo,start:jr}}raw(ns,jr){return new mn().raw(this,ns,jr)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(){if(this.parent){let Mo=this,Di=!1;for(var ns=arguments.length,jr=new Array(ns),Oo=0;Oo<ns;Oo++)jr[Oo]=arguments[Oo];for(let Qi of jr)Qi===this?Di=!0:Di?(this.parent.insertAfter(Mo,Qi),Mo=Qi):this.parent.insertBefore(Mo,Qi);Di||this.remove()}return this}root(){let ns=this;for(;ns.parent&&ns.parent.type!=="document";)ns=ns.parent;return ns}toJSON(ns,jr){let Oo={},Mo=jr==null;jr=jr||new Map;let Di=0;for(let Qi in this){if(!Object.prototype.hasOwnProperty.call(this,Qi)||Qi==="parent"||Qi==="proxyCache")continue;let Tc=this[Qi];if(Array.isArray(Tc))Oo[Qi]=Tc.map(($c=>typeof $c=="object"&&$c.toJSON?$c.toJSON(null,jr):$c));else if(typeof Tc=="object"&&Tc.toJSON)Oo[Qi]=Tc.toJSON(null,jr);else if(Qi==="source"){let $c=jr.get(Tc.input);$c==null&&($c=Di,jr.set(Tc.input,Di),Di++),Oo[Qi]={end:Tc.end,inputId:$c,start:Tc.start}}else Oo[Qi]=Tc}return Mo&&(Oo.inputs=[...jr.keys()].map((Qi=>Qi.toJSON()))),Oo}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gn;ns.stringify&&(ns=ns.stringify);let jr="";return ns(this,(Oo=>{jr+=Oo})),jr}warn(ns,jr,Oo){let Mo={node:this};for(let Di in Oo)Mo[Di]=Oo[Di];return ns.warn(jr,Mo)}get proxyOf(){return this}};var bn=wn;wn.default=wn;let vn=bn,Sn=class extends vn{constructor(ns){ns&&ns.value!==void 0&&typeof ns.value!="string"&&(ns={...ns,value:String(ns.value)}),super(ns),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Cn=Sn;Sn.default=Sn;var In={nanoid:function(){let ns="",jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;for(;jr--;)ns+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return ns}};let{SourceMapConsumer:kn,SourceMapGenerator:xn}=$s,{existsSync:On,readFileSync:Mn}=$s,{dirname:An,join:Rn}=$s,En=class{constructor(ns,jr){if(jr.map===!1)return;this.loadAnnotation(ns),this.inline=this.startWith(this.annotation,"data:");let Oo=jr.map?jr.map.prev:void 0,Mo=this.loadMap(jr.from,Oo);!this.mapFile&&jr.from&&(this.mapFile=jr.from),this.mapFile&&(this.root=An(this.mapFile)),Mo&&(this.text=Mo)}consumer(){return this.consumerCache||(this.consumerCache=new kn(this.text)),this.consumerCache}decodeInline(ns){if(/^data:application\/json;charset=utf-?8,/.test(ns)||/^data:application\/json,/.test(ns))return decodeURIComponent(ns.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(ns)||/^data:application\/json;base64,/.test(ns))return jr=ns.substr(RegExp.lastMatch.length),Buffer?Buffer.from(jr,"base64").toString():window.atob(jr);var jr;let Oo=ns.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+Oo)}getAnnotationURL(ns){return ns.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(ns){return typeof ns=="object"&&(typeof ns.mappings=="string"||typeof ns._mappings=="string"||Array.isArray(ns.sections))}loadAnnotation(ns){let jr=ns.match(/\/\*\s*# sourceMappingURL=/gm);if(!jr)return;let Oo=ns.lastIndexOf(jr.pop()),Mo=ns.indexOf("*/",Oo);Oo>-1&&Mo>-1&&(this.annotation=this.getAnnotationURL(ns.substring(Oo,Mo)))}loadFile(ns){if(this.root=An(ns),On(ns))return this.mapFile=ns,Mn(ns,"utf-8").toString().trim()}loadMap(ns,jr){if(jr===!1)return!1;if(jr){if(typeof jr=="string")return jr;if(typeof jr!="function"){if(jr instanceof kn)return xn.fromSourceMap(jr).toString();if(jr instanceof xn)return jr.toString();if(this.isMap(jr))return JSON.stringify(jr);throw new Error("Unsupported previous source map format: "+jr.toString())}{let Oo=jr(ns);if(Oo){let Mo=this.loadFile(Oo);if(!Mo)throw new Error("Unable to load previous source map: "+Oo.toString());return Mo}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let Oo=this.annotation;return ns&&(Oo=Rn(An(ns),Oo)),this.loadFile(Oo)}}}startWith(ns,jr){return!!ns&&ns.substr(0,jr.length)===jr}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Nn=En;En.default=En;let{SourceMapConsumer:Tn,SourceMapGenerator:Ln}=$s,{fileURLToPath:Dn,pathToFileURL:Pn}=$s,{isAbsolute:Fn,resolve:Bn}=$s,{nanoid:_n}=In,Un=$s,zn=sn,jn=Nn,Wn=Symbol("fromOffsetCache"),Vn=!!(Tn&&Ln),Gn=!!(Bn&&Fn),Yn=class{constructor(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ns==null||typeof ns=="object"&&!ns.toString)throw new Error("PostCSS received ".concat(ns," instead of CSS string"));if(this.css=ns.toString(),this.css[0]==="\uFEFF"||this.css[0]==="ï¿¾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,jr.from&&(!Gn||/^\w+:\/\//.test(jr.from)||Fn(jr.from)?this.file=jr.from:this.file=Bn(jr.from)),Gn&&Vn){let Oo=new jn(this.css,jr);if(Oo.text){this.map=Oo;let Mo=Oo.consumer().file;!this.file&&Mo&&(this.file=this.mapResolve(Mo))}}this.file||(this.id="<input css "+_n(6)+">"),this.map&&(this.map.file=this.from)}error(ns,jr,Oo){let Mo,Di,Qi,Tc=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(jr&&typeof jr=="object"){let _c=jr,xc=Oo;if(typeof _c.offset=="number"){let Ec=this.fromOffset(_c.offset);jr=Ec.line,Oo=Ec.col}else jr=_c.line,Oo=_c.column;if(typeof xc.offset=="number"){let Ec=this.fromOffset(xc.offset);Di=Ec.line,Qi=Ec.col}else Di=xc.line,Qi=xc.column}else if(!Oo){let _c=this.fromOffset(jr);jr=_c.line,Oo=_c.col}let $c=this.origin(jr,Oo,Di,Qi);return Mo=$c?new zn(ns,$c.endLine===void 0?$c.line:{column:$c.column,line:$c.line},$c.endLine===void 0?$c.column:{column:$c.endColumn,line:$c.endLine},$c.source,$c.file,Tc.plugin):new zn(ns,Di===void 0?jr:{column:Oo,line:jr},Di===void 0?Oo:{column:Qi,line:Di},this.css,this.file,Tc.plugin),Mo.input={column:Oo,endColumn:Qi,endLine:Di,line:jr,source:this.css},this.file&&(Pn&&(Mo.input.url=Pn(this.file).toString()),Mo.input.file=this.file),Mo}fromOffset(ns){let jr,Oo;if(this[Wn])Oo=this[Wn];else{let Di=this.css.split(`
`);Oo=new Array(Di.length);let Qi=0;for(let Tc=0,$c=Di.length;Tc<$c;Tc++)Oo[Tc]=Qi,Qi+=Di[Tc].length+1;this[Wn]=Oo}jr=Oo[Oo.length-1];let Mo=0;if(ns>=jr)Mo=Oo.length-1;else{let Di,Qi=Oo.length-2;for(;Mo<Qi;)if(Di=Mo+(Qi-Mo>>1),ns<Oo[Di])Qi=Di-1;else{if(!(ns>=Oo[Di+1])){Mo=Di;break}Mo=Di+1}}return{col:ns-Oo[Mo]+1,line:Mo+1}}mapResolve(ns){return/^\w+:\/\//.test(ns)?ns:Bn(this.map.consumer().sourceRoot||this.map.root||".",ns)}origin(ns,jr,Oo,Mo){if(!this.map)return!1;let Di,Qi,Tc=this.map.consumer(),$c=Tc.originalPositionFor({column:jr,line:ns});if(!$c.source)return!1;typeof Oo=="number"&&(Di=Tc.originalPositionFor({column:Mo,line:Oo})),Qi=Fn($c.source)?Pn($c.source):new URL($c.source,this.map.consumer().sourceRoot||Pn(this.map.mapFile));let _c={column:$c.column,endColumn:Di&&Di.column,endLine:Di&&Di.line,line:$c.line,url:Qi.toString()};if(Qi.protocol==="file:"){if(!Dn)throw new Error("file: protocol is not available in this PostCSS build");_c.file=Dn(Qi)}let xc=Tc.sourceContentFor($c.source);return xc&&(_c.source=xc),_c}toJSON(){let ns={};for(let jr of["hasBOM","css","file","id"])this[jr]!=null&&(ns[jr]=this[jr]);return this.map&&(ns.map={...this.map},ns.map.consumerCache&&(ns.map.consumerCache=void 0)),ns}get from(){return this.file||this.id}};var Zn=Yn;Yn.default=Yn,Un&&Un.registerInput&&Un.registerInput(Yn);let{SourceMapConsumer:Jn,SourceMapGenerator:Xn}=$s,{dirname:Hn,relative:Kn,resolve:Qn,sep:qn}=$s,{pathToFileURL:$n}=$s,eo=Zn,to=!!(Jn&&Xn),ro=!!(Hn&&Qn&&Kn&&qn);var so=class{constructor(ns,jr,Oo,Mo){this.stringify=ns,this.mapOpts=Oo.map||{},this.root=jr,this.opts=Oo,this.css=Mo,this.originalCSS=Mo,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let ns;ns=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let jr=`
`;this.css.includes(`\r
`)&&(jr=`\r
`),this.css+=jr+"/*# sourceMappingURL="+ns+" */"}applyPrevMaps(){for(let ns of this.previous()){let jr,Oo=this.toUrl(this.path(ns.file)),Mo=ns.root||Hn(ns.file);this.mapOpts.sourcesContent===!1?(jr=new Jn(ns.text),jr.sourcesContent&&(jr.sourcesContent=null)):jr=ns.consumer(),this.map.applySourceMap(jr,Oo,this.toUrl(this.path(Mo)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let ns;for(let jr=this.root.nodes.length-1;jr>=0;jr--)ns=this.root.nodes[jr],ns.type==="comment"&&ns.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(jr)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),ro&&to&&this.isMap())return this.generateMap();{let ns="";return this.stringify(this.root,(jr=>{ns+=jr})),[ns]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let ns=this.previous()[0].consumer();ns.file=this.outputFile(),this.map=Xn.fromSourceMap(ns,{ignoreInvalidMapping:!0})}else this.map=new Xn({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Xn({file:this.outputFile(),ignoreInvalidMapping:!0});let ns,jr,Oo=1,Mo=1,Di="<no source>",Qi={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((Tc,$c,_c)=>{if(this.css+=Tc,$c&&_c!=="end"&&(Qi.generated.line=Oo,Qi.generated.column=Mo-1,$c.source&&$c.source.start?(Qi.source=this.sourcePath($c),Qi.original.line=$c.source.start.line,Qi.original.column=$c.source.start.column-1,this.map.addMapping(Qi)):(Qi.source=Di,Qi.original.line=1,Qi.original.column=0,this.map.addMapping(Qi))),ns=Tc.match(/\n/g),ns?(Oo+=ns.length,jr=Tc.lastIndexOf(`
`),Mo=Tc.length-jr):Mo+=Tc.length,$c&&_c!=="start"){let xc=$c.parent||{raws:{}};($c.type==="decl"||$c.type==="atrule"&&!$c.nodes)&&$c===xc.last&&!xc.raws.semicolon||($c.source&&$c.source.end?(Qi.source=this.sourcePath($c),Qi.original.line=$c.source.end.line,Qi.original.column=$c.source.end.column-1,Qi.generated.line=Oo,Qi.generated.column=Mo-2,this.map.addMapping(Qi)):(Qi.source=Di,Qi.original.line=1,Qi.original.column=0,Qi.generated.line=Oo,Qi.generated.column=Mo-1,this.map.addMapping(Qi)))}}))}isAnnotation(){return!!this.isInline()||(this.mapOpts.annotation!==void 0?this.mapOpts.annotation:!this.previous().length||this.previous().some((ns=>ns.annotation)))}isInline(){if(this.mapOpts.inline!==void 0)return this.mapOpts.inline;let ns=this.mapOpts.annotation;return(ns===void 0||ns===!0)&&(!this.previous().length||this.previous().some((jr=>jr.inline)))}isMap(){return this.opts.map!==void 0?!!this.opts.map:this.previous().length>0}isSourcesContent(){return this.mapOpts.sourcesContent!==void 0?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((ns=>ns.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(ns){if(this.mapOpts.absolute||ns.charCodeAt(0)===60||/^\w+:\/\//.test(ns))return ns;let jr=this.memoizedPaths.get(ns);if(jr)return jr;let Oo=this.opts.to?Hn(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(Oo=Hn(Qn(Oo,this.mapOpts.annotation)));let Mo=Kn(Oo,ns);return this.memoizedPaths.set(ns,Mo),Mo}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((ns=>{if(ns.source&&ns.source.input.map){let jr=ns.source.input.map;this.previousMaps.includes(jr)||this.previousMaps.push(jr)}}));else{let ns=new eo(this.originalCSS,this.opts);ns.map&&this.previousMaps.push(ns.map)}return this.previousMaps}setSourcesContent(){let ns={};if(this.root)this.root.walk((jr=>{if(jr.source){let Oo=jr.source.input.from;if(Oo&&!ns[Oo]){ns[Oo]=!0;let Mo=this.usesFileUrls?this.toFileUrl(Oo):this.toUrl(this.path(Oo));this.map.setSourceContent(Mo,jr.source.input.css)}}}));else if(this.css){let jr=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(jr,this.css)}}sourcePath(ns){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(ns.source.input.from):this.toUrl(this.path(ns.source.input.from))}toBase64(ns){return Buffer?Buffer.from(ns).toString("base64"):window.btoa(unescape(encodeURIComponent(ns)))}toFileUrl(ns){let jr=this.memoizedFileURLs.get(ns);if(jr)return jr;if($n){let Oo=$n(ns).toString();return this.memoizedFileURLs.set(ns,Oo),Oo}throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(ns){let jr=this.memoizedURLs.get(ns);if(jr)return jr;qn==="\\"&&(ns=ns.replace(/\\/g,"/"));let Oo=encodeURI(ns).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(ns,Oo),Oo}};let no=bn,oo=class extends no{constructor(ns){super(ns),this.type="comment"}};var io=oo;oo.default=oo;let ao,lo,co,ho,{isClean:uo,my:po}=nn,fo=Cn,mo=io,go=bn;function yo(ns){return ns.map((jr=>(jr.nodes&&(jr.nodes=yo(jr.nodes)),delete jr.source,jr)))}function wo(ns){if(ns[uo]=!1,ns.proxyOf.nodes)for(let jr of ns.proxyOf.nodes)wo(jr)}let bo=class ud extends go{append(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];for(let Di of Oo){let Qi=this.normalize(Di,this.last);for(let Tc of Qi)this.proxyOf.nodes.push(Tc)}return this.markDirty(),this}cleanRaws(jr){if(super.cleanRaws(jr),this.nodes)for(let Oo of this.nodes)Oo.cleanRaws(jr)}each(jr){if(!this.proxyOf.nodes)return;let Oo,Mo,Di=this.getIterator();for(;this.indexes[Di]<this.proxyOf.nodes.length&&(Oo=this.indexes[Di],Mo=jr(this.proxyOf.nodes[Oo],Oo),Mo!==!1);)this.indexes[Di]+=1;return delete this.indexes[Di],Mo}every(jr){return this.nodes.every(jr)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let jr=this.lastEach;return this.indexes[jr]=0,jr}getProxyProcessor(){return{get:(jr,Oo)=>Oo==="proxyOf"?jr:jr[Oo]?Oo==="each"||typeof Oo=="string"&&Oo.startsWith("walk")?function(){for(var Mo=arguments.length,Di=new Array(Mo),Qi=0;Qi<Mo;Qi++)Di[Qi]=arguments[Qi];return jr[Oo](...Di.map((Tc=>typeof Tc=="function"?($c,_c)=>Tc($c.toProxy(),_c):Tc)))}:Oo==="every"||Oo==="some"?Mo=>jr[Oo]((function(Di){for(var Qi=arguments.length,Tc=new Array(Qi>1?Qi-1:0),$c=1;$c<Qi;$c++)Tc[$c-1]=arguments[$c];return Mo(Di.toProxy(),...Tc)})):Oo==="root"?()=>jr.root().toProxy():Oo==="nodes"?jr.nodes.map((Mo=>Mo.toProxy())):Oo==="first"||Oo==="last"?jr[Oo].toProxy():jr[Oo]:jr[Oo],set:(jr,Oo,Mo)=>(jr[Oo]===Mo||(jr[Oo]=Mo,Oo!=="name"&&Oo!=="params"&&Oo!=="selector"||jr.markDirty()),!0)}}index(jr){return typeof jr=="number"?jr:(jr.proxyOf&&(jr=jr.proxyOf),this.proxyOf.nodes.indexOf(jr))}insertAfter(jr,Oo){let Mo,Di=this.index(jr),Qi=this.normalize(Oo,this.proxyOf.nodes[Di]).reverse();Di=this.index(jr);for(let Tc of Qi)this.proxyOf.nodes.splice(Di+1,0,Tc);for(let Tc in this.indexes)Mo=this.indexes[Tc],Di<Mo&&(this.indexes[Tc]=Mo+Qi.length);return this.markDirty(),this}insertBefore(jr,Oo){let Mo,Di=this.index(jr),Qi=Di===0&&"prepend",Tc=this.normalize(Oo,this.proxyOf.nodes[Di],Qi).reverse();Di=this.index(jr);for(let $c of Tc)this.proxyOf.nodes.splice(Di,0,$c);for(let $c in this.indexes)Mo=this.indexes[$c],Di<=Mo&&(this.indexes[$c]=Mo+Tc.length);return this.markDirty(),this}normalize(jr,Oo){if(typeof jr=="string")jr=yo(ao(jr).nodes);else if(jr===void 0)jr=[];else if(Array.isArray(jr)){jr=jr.slice(0);for(let Mo of jr)Mo.parent&&Mo.parent.removeChild(Mo,"ignore")}else if(jr.type==="root"&&this.type!=="document"){jr=jr.nodes.slice(0);for(let Mo of jr)Mo.parent&&Mo.parent.removeChild(Mo,"ignore")}else if(jr.type)jr=[jr];else if(jr.prop){if(jr.value===void 0)throw new Error("Value field is missed in node creation");typeof jr.value!="string"&&(jr.value=String(jr.value)),jr=[new fo(jr)]}else if(jr.selector)jr=[new lo(jr)];else if(jr.name)jr=[new co(jr)];else{if(!jr.text)throw new Error("Unknown node type in node creation");jr=[new mo(jr)]}return jr.map((Mo=>(Mo[po]||ud.rebuild(Mo),(Mo=Mo.proxyOf).parent&&Mo.parent.removeChild(Mo),Mo[uo]&&wo(Mo),Mo.raws.before===void 0&&Oo&&Oo.raws.before!==void 0&&(Mo.raws.before=Oo.raws.before.replace(/\S/g,"")),Mo.parent=this.proxyOf,Mo)))}prepend(){for(var jr=arguments.length,Oo=new Array(jr),Mo=0;Mo<jr;Mo++)Oo[Mo]=arguments[Mo];Oo=Oo.reverse();for(let Di of Oo){let Qi=this.normalize(Di,this.first,"prepend").reverse();for(let Tc of Qi)this.proxyOf.nodes.unshift(Tc);for(let Tc in this.indexes)this.indexes[Tc]=this.indexes[Tc]+Qi.length}return this.markDirty(),this}push(jr){return jr.parent=this,this.proxyOf.nodes.push(jr),this}removeAll(){for(let jr of this.proxyOf.nodes)jr.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(jr){let Oo;jr=this.index(jr),this.proxyOf.nodes[jr].parent=void 0,this.proxyOf.nodes.splice(jr,1);for(let Mo in this.indexes)Oo=this.indexes[Mo],Oo>=jr&&(this.indexes[Mo]=Oo-1);return this.markDirty(),this}replaceValues(jr,Oo,Mo){return Mo||(Mo=Oo,Oo={}),this.walkDecls((Di=>{Oo.props&&!Oo.props.includes(Di.prop)||Oo.fast&&!Di.value.includes(Oo.fast)||(Di.value=Di.value.replace(jr,Mo))})),this.markDirty(),this}some(jr){return this.nodes.some(jr)}walk(jr){return this.each(((Oo,Mo)=>{let Di;try{Di=jr(Oo,Mo)}catch(Qi){throw Oo.addToError(Qi)}return Di!==!1&&Oo.walk&&(Di=Oo.walk(jr)),Di}))}walkAtRules(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="atrule"&&jr.test(Mo.name))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="atrule"&&Mo.name===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="atrule")return Oo(Mo,Di)})))}walkComments(jr){return this.walk(((Oo,Mo)=>{if(Oo.type==="comment")return jr(Oo,Mo)}))}walkDecls(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="decl"&&jr.test(Mo.prop))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="decl"&&Mo.prop===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="decl")return Oo(Mo,Di)})))}walkRules(jr,Oo){return Oo?jr instanceof RegExp?this.walk(((Mo,Di)=>{if(Mo.type==="rule"&&jr.test(Mo.selector))return Oo(Mo,Di)})):this.walk(((Mo,Di)=>{if(Mo.type==="rule"&&Mo.selector===jr)return Oo(Mo,Di)})):(Oo=jr,this.walk(((Mo,Di)=>{if(Mo.type==="rule")return Oo(Mo,Di)})))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};bo.registerParse=ns=>{ao=ns},bo.registerRule=ns=>{lo=ns},bo.registerAtRule=ns=>{co=ns},bo.registerRoot=ns=>{ho=ns};var vo=bo;bo.default=bo,bo.rebuild=ns=>{ns.type==="atrule"?Object.setPrototypeOf(ns,co.prototype):ns.type==="rule"?Object.setPrototypeOf(ns,lo.prototype):ns.type==="decl"?Object.setPrototypeOf(ns,fo.prototype):ns.type==="comment"?Object.setPrototypeOf(ns,mo.prototype):ns.type==="root"&&Object.setPrototypeOf(ns,ho.prototype),ns[po]=!0,ns.nodes&&ns.nodes.forEach((jr=>{bo.rebuild(jr)}))};let So,Co,Io=vo,ko=class extends Io{constructor(ns){super({type:"document",...ns}),this.nodes||(this.nodes=[])}toResult(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new So(new Co,this,ns).stringify()}};ko.registerLazyResult=ns=>{So=ns},ko.registerProcessor=ns=>{Co=ns};var xo=ko;ko.default=ko;let Ao=class{constructor(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.type="warning",this.text=ns,jr.node&&jr.node.source){let Oo=jr.node.rangeBy(jr);this.line=Oo.start.line,this.column=Oo.start.column,this.endLine=Oo.end.line,this.endColumn=Oo.end.column}for(let Oo in jr)this[Oo]=jr[Oo]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Ro=Ao;Ao.default=Ao;let Eo=Ro,No=class{constructor(ns,jr,Oo){this.processor=ns,this.messages=[],this.root=jr,this.opts=Oo,this.css=void 0,this.map=void 0}toString(){return this.css}warn(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};jr.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(jr.plugin=this.lastPlugin.postcssPlugin);let Oo=new Eo(ns,jr);return this.messages.push(Oo),Oo}warnings(){return this.messages.filter((ns=>ns.type==="warning"))}get content(){return this.css}};var To=No;No.default=No;const Lo=39,Do=34,Po=92,Fo=47,Bo=10,_o=32,Uo=12,zo=9,jo=13,Wo=91,Vo=93,Go=40,Yo=41,Zo=123,Jo=125,Xo=59,Ho=42,Ko=58,Qo=64,qo=/[\t\n\f\r "#'()/;[\\\]{}]/g,$o=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ei=/.[\r\n"'(/\\]/,ti=/[\da-f]/i;let ri=vo,si=class extends ri{constructor(ns){super(ns),this.type="atrule"}append(){return this.proxyOf.nodes||(this.nodes=[]),super.append(...arguments)}prepend(){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...arguments)}};var ni=si;si.default=si,ri.registerAtRule(si);let oi,ii,ai=vo,li=class extends ai{constructor(ns){super(ns),this.type="root",this.nodes||(this.nodes=[])}normalize(ns,jr,Oo){let Mo=super.normalize(ns);if(jr){if(Oo==="prepend")this.nodes.length>1?jr.raws.before=this.nodes[1].raws.before:delete jr.raws.before;else if(this.first!==jr)for(let Di of Mo)Di.raws.before=jr.raws.before}return Mo}removeChild(ns,jr){let Oo=this.index(ns);return!jr&&Oo===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[Oo].raws.before),super.removeChild(ns)}toResult(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new oi(new ii,this,ns).stringify()}};li.registerLazyResult=ns=>{oi=ns},li.registerProcessor=ns=>{ii=ns};var ci=li;li.default=li,ai.registerRoot(li);let hi={comma:ns=>hi.split(ns,[","],!0),space:ns=>hi.split(ns,[" ",`
`,"	"]),split(ns,jr,Oo){let Mo=[],Di="",Qi=!1,Tc=0,$c=!1,_c="",xc=!1;for(let Ec of ns)xc?xc=!1:Ec==="\\"?xc=!0:$c?Ec===_c&&($c=!1):Ec==='"'||Ec==="'"?($c=!0,_c=Ec):Ec==="("?Tc+=1:Ec===")"?Tc>0&&(Tc-=1):Tc===0&&jr.includes(Ec)&&(Qi=!0),Qi?(Di!==""&&Mo.push(Di.trim()),Di="",Qi=!1):Di+=Ec;return(Oo||Di!=="")&&Mo.push(Di.trim()),Mo}};var ui=hi;hi.default=hi;let pi=vo,di=ui,fi=class extends pi{constructor(ns){super(ns),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return di.comma(this.selector)}set selectors(ns){let jr=this.selector?this.selector.match(/,\s*/):null,Oo=jr?jr[0]:","+this.raw("between","beforeOpen");this.selector=ns.join(Oo)}};var mi=fi;fi.default=fi,pi.registerRule(fi);let gi=Cn,yi=function(ns){let jr,Oo,Mo,Di,Qi,Tc,$c,_c,xc,Ec,Pc=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ac=ns.css.valueOf(),Oc=Pc.ignoreErrors,Mc=Ac.length,Rc=0,Uc=[],Dc=[];function Nc(zc){throw ns.error("Unclosed "+zc,Rc)}return{back:function(zc){Dc.push(zc)},endOfFile:function(){return Dc.length===0&&Rc>=Mc},nextToken:function(zc){if(Dc.length)return Dc.pop();if(Rc>=Mc)return;let Gc=!!zc&&zc.ignoreUnclosed;switch(jr=Ac.charCodeAt(Rc),jr){case Bo:case _o:case zo:case jo:case Uo:Oo=Rc;do Oo+=1,jr=Ac.charCodeAt(Oo);while(jr===_o||jr===Bo||jr===zo||jr===jo||jr===Uo);Ec=["space",Ac.slice(Rc,Oo)],Rc=Oo-1;break;case Wo:case Vo:case Zo:case Jo:case Ko:case Xo:case Yo:{let Yc=String.fromCharCode(jr);Ec=[Yc,Yc,Rc];break}case Go:if(_c=Uc.length?Uc.pop()[1]:"",xc=Ac.charCodeAt(Rc+1),_c==="url"&&xc!==Lo&&xc!==Do&&xc!==_o&&xc!==Bo&&xc!==zo&&xc!==Uo&&xc!==jo){Oo=Rc;do{if(Tc=!1,Oo=Ac.indexOf(")",Oo+1),Oo===-1){if(Oc||Gc){Oo=Rc;break}Nc("bracket")}for($c=Oo;Ac.charCodeAt($c-1)===Po;)$c-=1,Tc=!Tc}while(Tc);Ec=["brackets",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo}else Oo=Ac.indexOf(")",Rc+1),Di=Ac.slice(Rc,Oo+1),Oo===-1||ei.test(Di)?Ec=["(","(",Rc]:(Ec=["brackets",Di,Rc,Oo],Rc=Oo);break;case Lo:case Do:Mo=jr===Lo?"'":'"',Oo=Rc;do{if(Tc=!1,Oo=Ac.indexOf(Mo,Oo+1),Oo===-1){if(Oc||Gc){Oo=Rc+1;break}Nc("string")}for($c=Oo;Ac.charCodeAt($c-1)===Po;)$c-=1,Tc=!Tc}while(Tc);Ec=["string",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;case Qo:qo.lastIndex=Rc+1,qo.test(Ac),Oo=qo.lastIndex===0?Ac.length-1:qo.lastIndex-2,Ec=["at-word",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;case Po:for(Oo=Rc,Qi=!0;Ac.charCodeAt(Oo+1)===Po;)Oo+=1,Qi=!Qi;if(jr=Ac.charCodeAt(Oo+1),Qi&&jr!==Fo&&jr!==_o&&jr!==Bo&&jr!==zo&&jr!==jo&&jr!==Uo&&(Oo+=1,ti.test(Ac.charAt(Oo)))){for(;ti.test(Ac.charAt(Oo+1));)Oo+=1;Ac.charCodeAt(Oo+1)===_o&&(Oo+=1)}Ec=["word",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo;break;default:jr===Fo&&Ac.charCodeAt(Rc+1)===Ho?(Oo=Ac.indexOf("*/",Rc+2)+1,Oo===0&&(Oc||Gc?Oo=Ac.length:Nc("comment")),Ec=["comment",Ac.slice(Rc,Oo+1),Rc,Oo],Rc=Oo):($o.lastIndex=Rc+1,$o.test(Ac),Oo=$o.lastIndex===0?Ac.length-1:$o.lastIndex-2,Ec=["word",Ac.slice(Rc,Oo+1),Rc,Oo],Uc.push(Ec),Rc=Oo)}return Rc++,Ec},position:function(){return Rc}}},wi=io,bi=ni,vi=ci,Si=mi;const Ci={empty:!0,space:!0};let Ii=vo,ki=class{constructor(ns){this.input=ns,this.root=new vi,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:ns,start:{column:1,line:1,offset:0}}}atrule(ns){let jr,Oo,Mo,Di=new bi;Di.name=ns[1].slice(1),Di.name===""&&this.unnamedAtrule(Di,ns),this.init(Di,ns[2]);let Qi=!1,Tc=!1,$c=[],_c=[];for(;!this.tokenizer.endOfFile();){if(jr=(ns=this.tokenizer.nextToken())[0],jr==="("||jr==="["?_c.push(jr==="("?")":"]"):jr==="{"&&_c.length>0?_c.push("}"):jr===_c[_c.length-1]&&_c.pop(),_c.length===0){if(jr===";"){Di.source.end=this.getPosition(ns[2]),Di.source.end.offset++,this.semicolon=!0;break}if(jr==="{"){Tc=!0;break}if(jr==="}"){if($c.length>0){for(Mo=$c.length-1,Oo=$c[Mo];Oo&&Oo[0]==="space";)Oo=$c[--Mo];Oo&&(Di.source.end=this.getPosition(Oo[3]||Oo[2]),Di.source.end.offset++)}this.end(ns);break}$c.push(ns)}else $c.push(ns);if(this.tokenizer.endOfFile()){Qi=!0;break}}Di.raws.between=this.spacesAndCommentsFromEnd($c),$c.length?(Di.raws.afterName=this.spacesAndCommentsFromStart($c),this.raw(Di,"params",$c),Qi&&(ns=$c[$c.length-1],Di.source.end=this.getPosition(ns[3]||ns[2]),Di.source.end.offset++,this.spaces=Di.raws.between,Di.raws.between="")):(Di.raws.afterName="",Di.params=""),Tc&&(Di.nodes=[],this.current=Di)}checkMissedSemicolon(ns){let jr=this.colon(ns);if(jr===!1)return;let Oo,Mo=0;for(let Di=jr-1;Di>=0&&(Oo=ns[Di],Oo[0]==="space"||(Mo+=1,Mo!==2));Di--);throw this.input.error("Missed semicolon",Oo[0]==="word"?Oo[3]+1:Oo[2])}colon(ns){let jr,Oo,Mo,Di=0;for(let[Qi,Tc]of ns.entries()){if(jr=Tc,Oo=jr[0],Oo==="("&&(Di+=1),Oo===")"&&(Di-=1),Di===0&&Oo===":"){if(Mo){if(Mo[0]==="word"&&Mo[1]==="progid")continue;return Qi}this.doubleColon(jr)}Mo=jr}return!1}comment(ns){let jr=new wi;this.init(jr,ns[2]),jr.source.end=this.getPosition(ns[3]||ns[2]),jr.source.end.offset++;let Oo=ns[1].slice(2,-2);if(/^\s*$/.test(Oo))jr.text="",jr.raws.left=Oo,jr.raws.right="";else{let Mo=Oo.match(/^(\s*)([^]*\S)(\s*)$/);jr.text=Mo[2],jr.raws.left=Mo[1],jr.raws.right=Mo[3]}}createTokenizer(){this.tokenizer=yi(this.input)}decl(ns,jr){let Oo=new gi;this.init(Oo,ns[0][2]);let Mo,Di=ns[ns.length-1];for(Di[0]===";"&&(this.semicolon=!0,ns.pop()),Oo.source.end=this.getPosition(Di[3]||Di[2]||(function($c){for(let _c=$c.length-1;_c>=0;_c--){let xc=$c[_c],Ec=xc[3]||xc[2];if(Ec)return Ec}})(ns)),Oo.source.end.offset++;ns[0][0]!=="word";)ns.length===1&&this.unknownWord(ns),Oo.raws.before+=ns.shift()[1];for(Oo.source.start=this.getPosition(ns[0][2]),Oo.prop="";ns.length;){let $c=ns[0][0];if($c===":"||$c==="space"||$c==="comment")break;Oo.prop+=ns.shift()[1]}for(Oo.raws.between="";ns.length;){if(Mo=ns.shift(),Mo[0]===":"){Oo.raws.between+=Mo[1];break}Mo[0]==="word"&&/\w/.test(Mo[1])&&this.unknownWord([Mo]),Oo.raws.between+=Mo[1]}Oo.prop[0]!=="_"&&Oo.prop[0]!=="*"||(Oo.raws.before+=Oo.prop[0],Oo.prop=Oo.prop.slice(1));let Qi,Tc=[];for(;ns.length&&(Qi=ns[0][0],Qi==="space"||Qi==="comment");)Tc.push(ns.shift());this.precheckMissedSemicolon(ns);for(let $c=ns.length-1;$c>=0;$c--){if(Mo=ns[$c],Mo[1].toLowerCase()==="!important"){Oo.important=!0;let _c=this.stringFrom(ns,$c);_c=this.spacesFromEnd(ns)+_c,_c!==" !important"&&(Oo.raws.important=_c);break}if(Mo[1].toLowerCase()==="important"){let _c=ns.slice(0),xc="";for(let Ec=$c;Ec>0;Ec--){let Pc=_c[Ec][0];if(xc.trim().indexOf("!")===0&&Pc!=="space")break;xc=_c.pop()[1]+xc}xc.trim().indexOf("!")===0&&(Oo.important=!0,Oo.raws.important=xc,ns=_c)}if(Mo[0]!=="space"&&Mo[0]!=="comment")break}ns.some(($c=>$c[0]!=="space"&&$c[0]!=="comment"))&&(Oo.raws.between+=Tc.map(($c=>$c[1])).join(""),Tc=[]),this.raw(Oo,"value",Tc.concat(ns),jr),Oo.value.includes(":")&&!jr&&this.checkMissedSemicolon(ns)}doubleColon(ns){throw this.input.error("Double colon",{offset:ns[2]},{offset:ns[2]+ns[1].length})}emptyRule(ns){let jr=new Si;this.init(jr,ns[2]),jr.selector="",jr.raws.between="",this.current=jr}end(ns){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(ns[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(ns)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(ns){if(this.spaces+=ns[1],this.current.nodes){let jr=this.current.nodes[this.current.nodes.length-1];jr&&jr.type==="rule"&&!jr.raws.ownSemicolon&&(jr.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(ns){let jr=this.input.fromOffset(ns);return{column:jr.col,line:jr.line,offset:ns}}init(ns,jr){this.current.push(ns),ns.source={input:this.input,start:this.getPosition(jr)},ns.raws.before=this.spaces,this.spaces="",ns.type!=="comment"&&(this.semicolon=!1)}other(ns){let jr=!1,Oo=null,Mo=!1,Di=null,Qi=[],Tc=ns[1].startsWith("--"),$c=[],_c=ns;for(;_c;){if(Oo=_c[0],$c.push(_c),Oo==="("||Oo==="[")Di||(Di=_c),Qi.push(Oo==="("?")":"]");else if(Tc&&Mo&&Oo==="{")Di||(Di=_c),Qi.push("}");else if(Qi.length===0){if(Oo===";"){if(Mo)return void this.decl($c,Tc);break}if(Oo==="{")return void this.rule($c);if(Oo==="}"){this.tokenizer.back($c.pop()),jr=!0;break}Oo===":"&&(Mo=!0)}else Oo===Qi[Qi.length-1]&&(Qi.pop(),Qi.length===0&&(Di=null));_c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(jr=!0),Qi.length>0&&this.unclosedBracket(Di),jr&&Mo){if(!Tc)for(;$c.length&&(_c=$c[$c.length-1][0],_c==="space"||_c==="comment");)this.tokenizer.back($c.pop());this.decl($c,Tc)}else this.unknownWord($c)}parse(){let ns;for(;!this.tokenizer.endOfFile();)switch(ns=this.tokenizer.nextToken(),ns[0]){case"space":this.spaces+=ns[1];break;case";":this.freeSemicolon(ns);break;case"}":this.end(ns);break;case"comment":this.comment(ns);break;case"at-word":this.atrule(ns);break;case"{":this.emptyRule(ns);break;default:this.other(ns)}this.endFile()}precheckMissedSemicolon(){}raw(ns,jr,Oo,Mo){let Di,Qi,Tc,$c,_c=Oo.length,xc="",Ec=!0;for(let Pc=0;Pc<_c;Pc+=1)Di=Oo[Pc],Qi=Di[0],Qi!=="space"||Pc!==_c-1||Mo?Qi==="comment"?($c=Oo[Pc-1]?Oo[Pc-1][0]:"empty",Tc=Oo[Pc+1]?Oo[Pc+1][0]:"empty",Ci[$c]||Ci[Tc]||xc.slice(-1)===","?Ec=!1:xc+=Di[1]):xc+=Di[1]:Ec=!1;if(!Ec){let Pc=Oo.reduce(((Ac,Oc)=>Ac+Oc[1]),"");ns.raws[jr]={raw:Pc,value:xc}}ns[jr]=xc}rule(ns){ns.pop();let jr=new Si;this.init(jr,ns[0][2]),jr.raws.between=this.spacesAndCommentsFromEnd(ns),this.raw(jr,"selector",ns),this.current=jr}spacesAndCommentsFromEnd(ns){let jr,Oo="";for(;ns.length&&(jr=ns[ns.length-1][0],jr==="space"||jr==="comment");)Oo=ns.pop()[1]+Oo;return Oo}spacesAndCommentsFromStart(ns){let jr,Oo="";for(;ns.length&&(jr=ns[0][0],jr==="space"||jr==="comment");)Oo+=ns.shift()[1];return Oo}spacesFromEnd(ns){let jr,Oo="";for(;ns.length&&(jr=ns[ns.length-1][0],jr==="space");)Oo=ns.pop()[1]+Oo;return Oo}stringFrom(ns,jr){let Oo="";for(let Mo=jr;Mo<ns.length;Mo++)Oo+=ns[Mo][1];return ns.splice(jr,ns.length-jr),Oo}unclosedBlock(){let ns=this.current.source.start;throw this.input.error("Unclosed block",ns.line,ns.column)}unclosedBracket(ns){throw this.input.error("Unclosed bracket",{offset:ns[2]},{offset:ns[2]+1})}unexpectedClose(ns){throw this.input.error("Unexpected }",{offset:ns[2]},{offset:ns[2]+1})}unknownWord(ns){throw this.input.error("Unknown word",{offset:ns[0][2]},{offset:ns[0][2]+ns[0][1].length})}unnamedAtrule(ns,jr){throw this.input.error("At-rule without name",{offset:jr[2]},{offset:jr[2]+jr[1].length})}},xi=Zn;function Oi(ns,jr){let Oo=new xi(ns,jr),Mo=new ki(Oo);try{Mo.parse()}catch(Di){throw Di}return Mo.root}var Mi=Oi;Oi.default=Oi,Ii.registerParse(Oi);let{isClean:Ai,my:Ri}=nn,Ei=so,Ni=un,Ti=vo,Li=xo,Pi=To,Fi=Mi,Bi=ci;const _i={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Ui={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},zi={Once:!0,postcssPlugin:!0,prepare:!0},ji=0;function Wi(ns){return typeof ns=="object"&&typeof ns.then=="function"}function Vi(ns){let jr=!1,Oo=_i[ns.type];return ns.type==="decl"?jr=ns.prop.toLowerCase():ns.type==="atrule"&&(jr=ns.name.toLowerCase()),jr&&ns.append?[Oo,Oo+"-"+jr,ji,Oo+"Exit",Oo+"Exit-"+jr]:jr?[Oo,Oo+"-"+jr,Oo+"Exit",Oo+"Exit-"+jr]:ns.append?[Oo,ji,Oo+"Exit"]:[Oo,Oo+"Exit"]}function Gi(ns){let jr;return jr=ns.type==="document"?["Document",ji,"DocumentExit"]:ns.type==="root"?["Root",ji,"RootExit"]:Vi(ns),{eventIndex:0,events:jr,iterator:0,node:ns,visitorIndex:0,visitors:[]}}function Yi(ns){return ns[Ai]=!1,ns.nodes&&ns.nodes.forEach((jr=>Yi(jr))),ns}let Zi={},Ji=class dd{constructor(jr,Oo,Mo){let Di;if(this.stringified=!1,this.processed=!1,typeof Oo!="object"||Oo===null||Oo.type!=="root"&&Oo.type!=="document")if(Oo instanceof dd||Oo instanceof Pi)Di=Yi(Oo.root),Oo.map&&(Mo.map===void 0&&(Mo.map={}),Mo.map.inline||(Mo.map.inline=!1),Mo.map.prev=Oo.map);else{let Qi=Fi;Mo.syntax&&(Qi=Mo.syntax.parse),Mo.parser&&(Qi=Mo.parser),Qi.parse&&(Qi=Qi.parse);try{Di=Qi(Oo,Mo)}catch(Tc){this.processed=!0,this.error=Tc}Di&&!Di[Ri]&&Ti.rebuild(Di)}else Di=Yi(Oo);this.result=new Pi(jr,Di,Mo),this.helpers={...Zi,postcss:Zi,result:this.result},this.plugins=this.processor.plugins.map((Qi=>typeof Qi=="object"&&Qi.prepare?{...Qi,...Qi.prepare(this.result)}:Qi))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(jr){return this.async().catch(jr)}finally(jr){return this.async().then(jr,jr)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(jr,Oo){let Mo=this.result.lastPlugin;try{Oo&&Oo.addToError(jr),this.error=jr,jr.name!=="CssSyntaxError"||jr.plugin?Mo.postcssVersion:(jr.plugin=Mo.postcssPlugin,jr.setMessage())}catch(Di){console&&console.error&&console.error(Di)}return jr}prepareVisitors(){this.listeners={};let jr=(Oo,Mo,Di)=>{this.listeners[Mo]||(this.listeners[Mo]=[]),this.listeners[Mo].push([Oo,Di])};for(let Oo of this.plugins)if(typeof Oo=="object")for(let Mo in Oo){if(!Ui[Mo]&&/^[A-Z]/.test(Mo))throw new Error("Unknown event ".concat(Mo," in ").concat(Oo.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!zi[Mo])if(typeof Oo[Mo]=="object")for(let Di in Oo[Mo])jr(Oo,Di==="*"?Mo:Mo+"-"+Di.toLowerCase(),Oo[Mo][Di]);else typeof Oo[Mo]=="function"&&jr(Oo,Mo,Oo[Mo])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let jr=0;jr<this.plugins.length;jr++){let Oo=this.plugins[jr],Mo=this.runOnRoot(Oo);if(Wi(Mo))try{await Mo}catch(Di){throw this.handleError(Di)}}if(this.prepareVisitors(),this.hasListener){let jr=this.result.root;for(;!jr[Ai];){jr[Ai]=!0;let Oo=[Gi(jr)];for(;Oo.length>0;){let Mo=this.visitTick(Oo);if(Wi(Mo))try{await Mo}catch(Di){let Qi=Oo[Oo.length-1].node;throw this.handleError(Di,Qi)}}}if(this.listeners.OnceExit)for(let[Oo,Mo]of this.listeners.OnceExit){this.result.lastPlugin=Oo;try{if(jr.type==="document"){let Di=jr.nodes.map((Qi=>Mo(Qi,this.helpers)));await Promise.all(Di)}else await Mo(jr,this.helpers)}catch(Di){throw this.handleError(Di)}}}return this.processed=!0,this.stringify()}runOnRoot(jr){this.result.lastPlugin=jr;try{if(typeof jr=="object"&&jr.Once){if(this.result.root.type==="document"){let Oo=this.result.root.nodes.map((Mo=>jr.Once(Mo,this.helpers)));return Wi(Oo[0])?Promise.all(Oo):Oo}return jr.Once(this.result.root,this.helpers)}if(typeof jr=="function")return jr(this.result.root,this.result)}catch(Oo){throw this.handleError(Oo)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let jr=this.result.opts,Oo=Ni;jr.syntax&&(Oo=jr.syntax.stringify),jr.stringifier&&(Oo=jr.stringifier),Oo.stringify&&(Oo=Oo.stringify);let Mo=new Ei(Oo,this.result.root,this.result.opts).generate();return this.result.css=Mo[0],this.result.map=Mo[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let jr of this.plugins)if(Wi(this.runOnRoot(jr)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){let jr=this.result.root;for(;!jr[Ai];)jr[Ai]=!0,this.walkSync(jr);if(this.listeners.OnceExit)if(jr.type==="document")for(let Oo of jr.nodes)this.visitSync(this.listeners.OnceExit,Oo);else this.visitSync(this.listeners.OnceExit,jr)}return this.result}then(jr,Oo){return this.async().then(jr,Oo)}toString(){return this.css}visitSync(jr,Oo){for(let[Mo,Di]of jr){let Qi;this.result.lastPlugin=Mo;try{Qi=Di(Oo,this.helpers)}catch(Tc){throw this.handleError(Tc,Oo.proxyOf)}if(Oo.type!=="root"&&Oo.type!=="document"&&!Oo.parent)return!0;if(Wi(Qi))throw this.getAsyncError()}}visitTick(jr){let Oo=jr[jr.length-1],{node:Mo,visitors:Di}=Oo;if(Mo.type!=="root"&&Mo.type!=="document"&&!Mo.parent)return void jr.pop();if(Di.length>0&&Oo.visitorIndex<Di.length){let[Tc,$c]=Di[Oo.visitorIndex];Oo.visitorIndex+=1,Oo.visitorIndex===Di.length&&(Oo.visitors=[],Oo.visitorIndex=0),this.result.lastPlugin=Tc;try{return $c(Mo.toProxy(),this.helpers)}catch(_c){throw this.handleError(_c,Mo)}}if(Oo.iterator!==0){let Tc,$c=Oo.iterator;for(;Tc=Mo.nodes[Mo.indexes[$c]];)if(Mo.indexes[$c]+=1,!Tc[Ai])return Tc[Ai]=!0,void jr.push(Gi(Tc));Oo.iterator=0,delete Mo.indexes[$c]}let Qi=Oo.events;for(;Oo.eventIndex<Qi.length;){let Tc=Qi[Oo.eventIndex];if(Oo.eventIndex+=1,Tc===ji)return void(Mo.nodes&&Mo.nodes.length&&(Mo[Ai]=!0,Oo.iterator=Mo.getIterator()));if(this.listeners[Tc])return void(Oo.visitors=this.listeners[Tc])}jr.pop()}walkSync(jr){jr[Ai]=!0;let Oo=Vi(jr);for(let Mo of Oo)if(Mo===ji)jr.nodes&&jr.each((Di=>{Di[Ai]||this.walkSync(Di)}));else{let Di=this.listeners[Mo];if(Di&&this.visitSync(Di,jr.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Ji.registerPostcss=ns=>{Zi=ns};var Xi=Ji;Ji.default=Ji,Bi.registerLazyResult(Ji),Li.registerLazyResult(Ji);let Hi=so,Ki=un,qi=Mi;const $i=To;let ea=class{constructor(ns,jr,Oo){let Mo;jr=jr.toString(),this.stringified=!1,this._processor=ns,this._css=jr,this._opts=Oo,this._map=void 0;let Di=Ki;this.result=new $i(this._processor,Mo,this._opts),this.result.css=jr;let Qi=this;Object.defineProperty(this.result,"root",{get:()=>Qi.root});let Tc=new Hi(Di,Mo,this._opts,jr);if(Tc.isMap()){let[$c,_c]=Tc.generate();$c&&(this.result.css=$c),_c&&(this.result.map=_c)}else Tc.clearAnnotation(),this.result.css=Tc.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(ns){return this.async().catch(ns)}finally(ns){return this.async().then(ns,ns)}sync(){if(this.error)throw this.error;return this.result}then(ns,jr){return this.async().then(ns,jr)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let ns,jr=qi;try{ns=jr(this._css,this._opts)}catch(Oo){this.error=Oo}if(this.error)throw this.error;return this._root=ns,ns}get[Symbol.toStringTag](){return"NoWorkResult"}};var ta=ea;ea.default=ea;let ra=ta,sa=Xi,na=xo,oa=ci,ia=class{constructor(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.version="8.4.38",this.plugins=this.normalize(ns)}normalize(ns){let jr=[];for(let Oo of ns)if(Oo.postcss===!0?Oo=Oo():Oo.postcss&&(Oo=Oo.postcss),typeof Oo=="object"&&Array.isArray(Oo.plugins))jr=jr.concat(Oo.plugins);else if(typeof Oo=="object"&&Oo.postcssPlugin)jr.push(Oo);else if(typeof Oo=="function")jr.push(Oo);else if(typeof Oo!="object"||!Oo.parse&&!Oo.stringify)throw new Error(Oo+" is not a PostCSS plugin");return jr}process(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.plugins.length||jr.parser||jr.stringifier||jr.syntax?new sa(this,ns,jr):new ra(this,ns,jr)}use(ns){return this.plugins=this.plugins.concat(this.normalize([ns])),this}};var aa=ia;ia.default=ia,oa.registerProcessor(ia),na.registerProcessor(ia);let la=Cn,ca=Nn,ha=io,ua=ni,pa=Zn,da=ci,fa=mi;function ma(ns,jr){if(Array.isArray(ns))return ns.map((Di=>ma(Di)));let{inputs:Oo,...Mo}=ns;if(Oo){jr=[];for(let Di of Oo){let Qi={...Di,__proto__:pa.prototype};Qi.map&&(Qi.map={...Qi.map,__proto__:ca.prototype}),jr.push(Qi)}}if(Mo.nodes&&(Mo.nodes=ns.nodes.map((Di=>ma(Di,jr)))),Mo.source){let{inputId:Di,...Qi}=Mo.source;Mo.source=Qi,Di!=null&&(Mo.source.input=jr[Di])}if(Mo.type==="root")return new da(Mo);if(Mo.type==="decl")return new la(Mo);if(Mo.type==="rule")return new fa(Mo);if(Mo.type==="comment")return new ha(Mo);if(Mo.type==="atrule")return new ua(Mo);throw new Error("Unknown node type: "+ns.type)}var ga=ma;ma.default=ma;let ya=sn,wa=Cn,ba=Xi,va=vo,Sa=aa,Ca=un,Ia=ga,ka=xo,xa=Ro,Oa=io,Ma=ni,Aa=To,Ra=Zn,Ea=Mi,Na=ui,Ta=mi,La=ci,Da=bn;function Pa(){for(var ns=arguments.length,jr=new Array(ns),Oo=0;Oo<ns;Oo++)jr[Oo]=arguments[Oo];return jr.length===1&&Array.isArray(jr[0])&&(jr=jr[0]),new Sa(jr)}Pa.plugin=function(ns,jr){let Oo,Mo=!1;function Di(){console&&console.warn&&!Mo&&(Mo=!0,console.warn(ns+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),define_process_env_default.LANG&&define_process_env_default.LANG.startsWith("cn")&&console.warn(ns+`: éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:
https://www.w3ctech.com/topic/2226`));let Qi=jr(...arguments);return Qi.postcssPlugin=ns,Qi.postcssVersion=new Sa().version,Qi}return Object.defineProperty(Di,"postcss",{get:()=>(Oo||(Oo=Di()),Oo)}),Di.process=function(Qi,Tc,$c){return Pa([Di($c)]).process(Qi,Tc)},Di},Pa.stringify=Ca,Pa.parse=Ea,Pa.fromJSON=Ia,Pa.list=Na,Pa.comment=ns=>new Oa(ns),Pa.atRule=ns=>new Ma(ns),Pa.decl=ns=>new wa(ns),Pa.rule=ns=>new Ta(ns),Pa.root=ns=>new La(ns),Pa.document=ns=>new ka(ns),Pa.CssSyntaxError=ya,Pa.Declaration=wa,Pa.Container=va,Pa.Processor=Sa,Pa.Document=ka,Pa.Comment=Oa,Pa.Warning=xa,Pa.AtRule=Ma,Pa.Result=Aa,Pa.Input=Ra,Pa.Rule=Ta,Pa.Root=La,Pa.Node=Da,ba.registerPostcss(Pa);var Fa=Pa;Pa.default=Pa;const Ba=Js(Fa);Ba.stringify,Ba.fromJSON,Ba.plugin,Ba.parse,Ba.list,Ba.document,Ba.comment,Ba.atRule,Ba.rule,Ba.decl,Ba.root,Ba.CssSyntaxError,Ba.Declaration,Ba.Container,Ba.Processor,Ba.Document,Ba.Comment,Ba.Warning,Ba.AtRule,Ba.Result,Ba.Input,Ba.Rule,Ba.Root,Ba.Node;class _a{constructor(){Zs(this,"parentElement",null),Zs(this,"parentNode",null),Zs(this,"ownerDocument"),Zs(this,"firstChild",null),Zs(this,"lastChild",null),Zs(this,"previousSibling",null),Zs(this,"nextSibling",null),Zs(this,"ELEMENT_NODE",1),Zs(this,"TEXT_NODE",3),Zs(this,"nodeType"),Zs(this,"nodeName"),Zs(this,"RRNodeType")}get childNodes(){const jr=[];let Oo=this.firstChild;for(;Oo;)jr.push(Oo),Oo=Oo.nextSibling;return jr}contains(jr){if(!(jr instanceof _a)||jr.ownerDocument!==this.ownerDocument)return!1;if(jr===this)return!0;for(;jr.parentNode;){if(jr.parentNode===this)return!0;jr=jr.parentNode}return!1}appendChild(jr){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(jr,Oo){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(jr){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}const Ua={Node:["childNodes","parentNode","parentElement","textContent","ownerDocument"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},za={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},ja={},Wa=()=>!!globalThis.Zone;function Va(ns){if(ja[ns])return ja[ns];const jr=globalThis[ns],Oo=jr.prototype,Mo=ns in Ua?Ua[ns]:void 0,Di=!!(Mo&&Mo.every(($c=>{var _c,xc;return!!((xc=(_c=Object.getOwnPropertyDescriptor(Oo,$c))==null?void 0:_c.get)!=null&&xc.toString().includes("[native code]"))}))),Qi=ns in za?za[ns]:void 0,Tc=!!(Qi&&Qi.every(($c=>{var _c;return typeof Oo[$c]=="function"&&((_c=Oo[$c])==null?void 0:_c.toString().includes("[native code]"))})));if(Di&&Tc&&!Wa())return ja[ns]=jr.prototype,jr.prototype;try{const $c=document.createElement("iframe");document.body.appendChild($c);const _c=$c.contentWindow;if(!_c)return jr.prototype;const xc=_c[ns].prototype;return document.body.removeChild($c),xc?ja[ns]=xc:Oo}catch{return Oo}}const Ga={};function Ya(ns,jr,Oo){var Mo;const Di="".concat(ns,".").concat(String(Oo));if(Ga[Di])return Ga[Di].call(jr);const Qi=Va(ns),Tc=(Mo=Object.getOwnPropertyDescriptor(Qi,Oo))==null?void 0:Mo.get;return Tc?(Ga[Di]=Tc,Tc.call(jr)):jr[Oo]}const Za={};function Ja(ns,jr,Oo){const Mo="".concat(ns,".").concat(String(Oo));if(Za[Mo])return Za[Mo].bind(jr);const Di=Va(ns)[Oo];return typeof Di!="function"?jr[Oo]:(Za[Mo]=Di,Di.bind(jr))}function Xa(){return Va("MutationObserver").constructor}function Ha(ns,jr,Oo){try{if(!(jr in ns))return()=>{};const Mo=ns[jr],Di=Oo(Mo);return typeof Di=="function"&&(Di.prototype=Di.prototype||{},Object.defineProperties(Di,{__rrweb_original__:{enumerable:!1,value:Mo}})),ns[jr]=Di,()=>{ns[jr]=Mo}}catch{return()=>{}}}const Ka={ownerDocument:function(ns){return Ya("Node",ns,"ownerDocument")},childNodes:function(ns){return Ya("Node",ns,"childNodes")},parentNode:function(ns){return Ya("Node",ns,"parentNode")},parentElement:function(ns){return Ya("Node",ns,"parentElement")},textContent:function(ns){return Ya("Node",ns,"textContent")},contains:function(ns,jr){return Ja("Node",ns,"contains")(jr)},getRootNode:function(ns){return Ja("Node",ns,"getRootNode")()},host:function(ns){return ns&&"host"in ns?Ya("ShadowRoot",ns,"host"):null},styleSheets:function(ns){return ns.styleSheets},shadowRoot:function(ns){return ns&&"shadowRoot"in ns?Ya("Element",ns,"shadowRoot"):null},querySelector:function(ns,jr){return Ya("Element",ns,"querySelector")(jr)},querySelectorAll:function(ns,jr){return Ya("Element",ns,"querySelectorAll")(jr)},mutationObserver:Xa,patch:Ha};function Qa(ns,jr){let Oo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const Mo={capture:!0,passive:!0};return Oo.addEventListener(ns,jr,Mo),()=>Oo.removeEventListener(ns,jr,Mo)}const qa=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let $a={map:{},getId:()=>(console.error(qa),-1),getNode:()=>(console.error(qa),null),removeNodeFromMap(){console.error(qa)},has:()=>(console.error(qa),!1),reset(){console.error(qa)}};function el(ns,jr){let Oo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Mo=null,Di=0;return function(){for(var Qi=arguments.length,Tc=new Array(Qi),$c=0;$c<Qi;$c++)Tc[$c]=arguments[$c];const _c=Date.now();Di||Oo.leading!==!1||(Di=_c);const xc=jr-(_c-Di),Ec=this;xc<=0||xc>jr?(Mo&&(clearTimeout(Mo),Mo=null),Di=_c,ns.apply(Ec,Tc)):Mo||Oo.trailing===!1||(Mo=setTimeout((()=>{Di=Oo.leading===!1?0:Date.now(),Mo=null,ns.apply(Ec,Tc)}),xc))}}function tl(ns,jr,Oo,Mo){let Di=arguments.length>4&&arguments[4]!==void 0?arguments[4]:window;const Qi=Di.Object.getOwnPropertyDescriptor(ns,jr);return Di.Object.defineProperty(ns,jr,Mo?Oo:{set(Tc){setTimeout((()=>{Oo.set.call(this,Tc)}),0),Qi&&Qi.set&&Qi.set.call(this,Tc)}}),()=>tl(ns,jr,Qi||{},!0)}typeof window<"u"&&window.Proxy&&window.Reflect&&($a=new Proxy($a,{get:(ns,jr,Oo)=>(jr==="map"&&console.error(qa),Reflect.get(ns,jr,Oo))}));let rl=Date.now;function sl(ns){var jr,Oo,Mo,Di;const Qi=ns.document;return{left:Qi.scrollingElement?Qi.scrollingElement.scrollLeft:ns.pageXOffset!==void 0?ns.pageXOffset:Qi.documentElement.scrollLeft||Qi?.body&&((jr=Ka.parentElement(Qi.body))==null?void 0:jr.scrollLeft)||((Oo=Qi?.body)==null?void 0:Oo.scrollLeft)||0,top:Qi.scrollingElement?Qi.scrollingElement.scrollTop:ns.pageYOffset!==void 0?ns.pageYOffset:Qi?.documentElement.scrollTop||Qi?.body&&((Mo=Ka.parentElement(Qi.body))==null?void 0:Mo.scrollTop)||((Di=Qi?.body)==null?void 0:Di.scrollTop)||0}}function nl(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ol(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function il(ns){return ns?ns.nodeType===ns.ELEMENT_NODE?ns:Ka.parentElement(ns):null}function al(ns,jr,Oo,Mo){if(!ns)return!1;const Di=il(ns);if(!Di)return!1;try{if(typeof jr=="string"){if(Di.classList.contains(jr)||Mo&&Di.closest("."+jr)!==null)return!0}else if(K(Di,jr,Mo))return!0}catch{}return!!(Oo&&(Di.matches(Oo)||Mo&&Di.closest(Oo)!==null))}function ll(ns,jr,Oo){return!(ns.tagName!=="TITLE"||!Oo.headTitleMutations)||jr.getId(ns)===_}function cl(ns,jr){if(b(ns))return!1;const Oo=jr.getId(ns);if(!jr.has(Oo))return!0;const Mo=Ka.parentNode(ns);return(!Mo||Mo.nodeType!==ns.DOCUMENT_NODE)&&(!Mo||cl(Mo,jr))}function hl(ns){return!!ns.changedTouches}function ul(ns,jr){return!!(ns.nodeName==="IFRAME"&&jr.getMeta(ns))}function pl(ns,jr){return!!(ns.nodeName==="LINK"&&ns.nodeType===ns.ELEMENT_NODE&&ns.getAttribute&&ns.getAttribute("rel")==="stylesheet"&&jr.getMeta(ns))}function dl(ns){return!!ns&&(ns instanceof _a&&"shadowRoot"in ns?!!ns.shadowRoot:!!Ka.shadowRoot(ns))}/[1-9][0-9]{12}/.test(Date.now().toString())||(rl=()=>new Date().getTime());class fl{constructor(){n(this,"id",1),n(this,"styleIDMap",new WeakMap),n(this,"idStyleMap",new Map)}getId(jr){var Oo;return(Oo=this.styleIDMap.get(jr))!==null&&Oo!==void 0?Oo:-1}has(jr){return this.styleIDMap.has(jr)}add(jr,Oo){if(this.has(jr))return this.getId(jr);let Mo;return Mo=Oo===void 0?this.id++:Oo,this.styleIDMap.set(jr,Mo),this.idStyleMap.set(Mo,jr),Mo}getStyle(jr){return this.idStyleMap.get(jr)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ml(ns){var jr;let Oo=null;return"getRootNode"in ns&&((jr=Ka.getRootNode(ns))==null?void 0:jr.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Ka.host(Ka.getRootNode(ns))&&(Oo=Ka.host(Ka.getRootNode(ns))),Oo}function gl(ns){const jr=Ka.ownerDocument(ns);if(!jr)return!1;const Oo=(function(Mo){let Di,Qi=Mo;for(;Di=ml(Qi);)Qi=Di;return Qi})(ns);return Ka.contains(jr,Oo)}function yl(ns){const jr=Ka.ownerDocument(ns);return!!jr&&(Ka.contains(jr,ns)||gl(ns))}var wl=(ns=>(ns[ns.DomContentLoaded=0]="DomContentLoaded",ns[ns.Load=1]="Load",ns[ns.FullSnapshot=2]="FullSnapshot",ns[ns.IncrementalSnapshot=3]="IncrementalSnapshot",ns[ns.Meta=4]="Meta",ns[ns.Custom=5]="Custom",ns[ns.Plugin=6]="Plugin",ns))(wl||{}),bl=(ns=>(ns[ns.Mutation=0]="Mutation",ns[ns.MouseMove=1]="MouseMove",ns[ns.MouseInteraction=2]="MouseInteraction",ns[ns.Scroll=3]="Scroll",ns[ns.ViewportResize=4]="ViewportResize",ns[ns.Input=5]="Input",ns[ns.TouchMove=6]="TouchMove",ns[ns.MediaInteraction=7]="MediaInteraction",ns[ns.StyleSheetRule=8]="StyleSheetRule",ns[ns.CanvasMutation=9]="CanvasMutation",ns[ns.Font=10]="Font",ns[ns.Log=11]="Log",ns[ns.Drag=12]="Drag",ns[ns.StyleDeclaration=13]="StyleDeclaration",ns[ns.Selection=14]="Selection",ns[ns.AdoptedStyleSheet=15]="AdoptedStyleSheet",ns[ns.CustomElement=16]="CustomElement",ns))(bl||{}),vl=(ns=>(ns[ns.MouseUp=0]="MouseUp",ns[ns.MouseDown=1]="MouseDown",ns[ns.Click=2]="Click",ns[ns.ContextMenu=3]="ContextMenu",ns[ns.DblClick=4]="DblClick",ns[ns.Focus=5]="Focus",ns[ns.Blur=6]="Blur",ns[ns.TouchStart=7]="TouchStart",ns[ns.TouchMove_Departed=8]="TouchMove_Departed",ns[ns.TouchEnd=9]="TouchEnd",ns[ns.TouchCancel=10]="TouchCancel",ns))(vl||{}),Sl=(ns=>(ns[ns.Mouse=0]="Mouse",ns[ns.Pen=1]="Pen",ns[ns.Touch=2]="Touch",ns))(Sl||{}),Cl=(ns=>(ns[ns["2D"]=0]="2D",ns[ns.WebGL=1]="WebGL",ns[ns.WebGL2=2]="WebGL2",ns))(Cl||{}),Il=(ns=>(ns[ns.Play=0]="Play",ns[ns.Pause=1]="Pause",ns[ns.Seeked=2]="Seeked",ns[ns.VolumeChange=3]="VolumeChange",ns[ns.RateChange=4]="RateChange",ns))(Il||{}),kl=(ns=>(ns[ns.Document=0]="Document",ns[ns.DocumentType=1]="DocumentType",ns[ns.Element=2]="Element",ns[ns.Text=3]="Text",ns[ns.CDATA=4]="CDATA",ns[ns.Comment=5]="Comment",ns))(kl||{});function xl(ns){return"__ln"in ns}class Ol{constructor(){n(this,"length",0),n(this,"head",null),n(this,"tail",null)}get(jr){if(jr>=this.length)throw new Error("Position outside of list range");let Oo=this.head;for(let Mo=0;Mo<jr;Mo++)Oo=Oo?.next||null;return Oo}addNode(jr){const Oo={value:jr,previous:null,next:null};if(jr.__ln=Oo,jr.previousSibling&&xl(jr.previousSibling)){const Mo=jr.previousSibling.__ln.next;Oo.next=Mo,Oo.previous=jr.previousSibling.__ln,jr.previousSibling.__ln.next=Oo,Mo&&(Mo.previous=Oo)}else if(jr.nextSibling&&xl(jr.nextSibling)&&jr.nextSibling.__ln.previous){const Mo=jr.nextSibling.__ln.previous;Oo.previous=Mo,Oo.next=jr.nextSibling.__ln,jr.nextSibling.__ln.previous=Oo,Mo&&(Mo.next=Oo)}else this.head&&(this.head.previous=Oo),Oo.next=this.head,this.head=Oo;Oo.next===null&&(this.tail=Oo),this.length++}removeNode(jr){const Oo=jr.__ln;this.head&&(Oo.previous?(Oo.previous.next=Oo.next,Oo.next?Oo.next.previous=Oo.previous:this.tail=Oo.previous):(this.head=Oo.next,this.head?this.head.previous=null:this.tail=null),jr.__ln&&delete jr.__ln,this.length--)}}const Ml=(ns,jr)=>"".concat(ns,"@").concat(jr);class Al{constructor(){n(this,"frozen",!1),n(this,"locked",!1),n(this,"texts",[]),n(this,"attributes",[]),n(this,"attributeMap",new WeakMap),n(this,"removes",[]),n(this,"mapRemoves",[]),n(this,"movedMap",{}),n(this,"addedSet",new Set),n(this,"movedSet",new Set),n(this,"droppedSet",new Set),n(this,"removesSubTreeCache",new Set),n(this,"mutationCb"),n(this,"blockClass"),n(this,"blockSelector"),n(this,"maskTextClass"),n(this,"maskTextSelector"),n(this,"inlineStylesheet"),n(this,"maskInputOptions"),n(this,"maskTextFn"),n(this,"maskInputFn"),n(this,"keepIframeSrcFn"),n(this,"recordCanvas"),n(this,"inlineImages"),n(this,"slimDOMOptions"),n(this,"dataURLOptions"),n(this,"doc"),n(this,"mirror"),n(this,"iframeManager"),n(this,"stylesheetManager"),n(this,"shadowDomManager"),n(this,"canvasManager"),n(this,"processedNodeManager"),n(this,"unattachedDoc"),n(this,"processMutations",(jr=>{jr.forEach(this.processMutation),this.emit()})),n(this,"emit",(()=>{if(this.frozen||this.locked)return;const jr=[],Oo=new Set,Mo=new Ol,Di=_c=>{let xc=_c,Ec=_;for(;Ec===_;)xc=xc&&xc.nextSibling,Ec=xc&&this.mirror.getId(xc);return Ec},Qi=_c=>{const xc=Ka.parentNode(_c);if(!xc||!yl(_c))return;let Ec=!1;if(_c.nodeType===Node.TEXT_NODE){const Mc=xc.tagName;if(Mc==="TEXTAREA")return;Mc==="STYLE"&&this.addedSet.has(xc)&&(Ec=!0)}const Pc=b(xc)?this.mirror.getId(ml(_c)):this.mirror.getId(xc),Ac=Di(_c);if(Pc===-1||Ac===-1)return Mo.addNode(_c);const Oc=te(_c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:Mc=>{ul(Mc,this.mirror)&&this.iframeManager.addIframe(Mc),pl(Mc,this.mirror)&&this.stylesheetManager.trackLinkElement(Mc),dl(_c)&&this.shadowDomManager.addShadowRoot(Ka.shadowRoot(_c),this.doc)},onIframeLoad:(Mc,Rc)=>{this.iframeManager.attachIframe(Mc,Rc),this.shadowDomManager.observeAttachShadow(Mc)},onStylesheetLoad:(Mc,Rc)=>{this.stylesheetManager.attachLinkElement(Mc,Rc)},cssCaptured:Ec});Oc&&(jr.push({parentId:Pc,nextId:Ac,node:Oc}),Oo.add(Oc.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const _c of this.movedSet)El(this.removesSubTreeCache,_c,this.mirror)&&!this.movedSet.has(Ka.parentNode(_c))||Qi(_c);for(const _c of this.addedSet)Nl(this.droppedSet,_c)||El(this.removesSubTreeCache,_c,this.mirror)?Nl(this.movedSet,_c)?Qi(_c):this.droppedSet.add(_c):Qi(_c);let Tc=null;for(;Mo.length;){let _c=null;if(Tc){const xc=this.mirror.getId(Ka.parentNode(Tc.value)),Ec=Di(Tc.value);xc!==-1&&Ec!==-1&&(_c=Tc)}if(!_c){let xc=Mo.tail;for(;xc;){const Ec=xc;if(xc=xc.previous,Ec){const Pc=this.mirror.getId(Ka.parentNode(Ec.value));if(Di(Ec.value)===-1)continue;if(Pc!==-1){_c=Ec;break}{const Ac=Ec.value,Oc=Ka.parentNode(Ac);if(Oc&&Oc.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const Mc=Ka.host(Oc);if(this.mirror.getId(Mc)!==-1){_c=Ec;break}}}}}}if(!_c){for(;Mo.head;)Mo.removeNode(Mo.head.value);break}Tc=_c.previous,Mo.removeNode(_c.value),Qi(_c.value)}const $c={texts:this.texts.map((_c=>{const xc=_c.node,Ec=Ka.parentNode(xc);return Ec&&Ec.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(Ec),{id:this.mirror.getId(xc),value:_c.value}})).filter((_c=>!Oo.has(_c.id))).filter((_c=>this.mirror.has(_c.id))),attributes:this.attributes.map((_c=>{const{attributes:xc}=_c;if(typeof xc.style=="string"){const Ec=JSON.stringify(_c.styleDiff),Pc=JSON.stringify(_c._unchangedStyles);Ec.length<xc.style.length&&(Ec+Pc).split("var(").length===xc.style.split("var(").length&&(xc.style=_c.styleDiff)}return{id:this.mirror.getId(_c.node),attributes:xc}})).filter((_c=>!Oo.has(_c.id))).filter((_c=>this.mirror.has(_c.id))),removes:this.removes,adds:jr};($c.texts.length||$c.attributes.length||$c.removes.length||$c.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb($c))})),n(this,"genTextAreaValueMutation",(jr=>{let Oo=this.attributeMap.get(jr);Oo||(Oo={node:jr,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Oo),this.attributeMap.set(jr,Oo));const Mo=Array.from(Ka.childNodes(jr),(Di=>Ka.textContent(Di)||"")).join("");Oo.attributes.value=k({element:jr,maskInputOptions:this.maskInputOptions,tagName:jr.tagName,type:M(jr),value:Mo,maskInputFn:this.maskInputFn})})),n(this,"processMutation",(jr=>{if(!ll(jr.target,this.mirror,this.slimDOMOptions))switch(jr.type){case"characterData":{const Oo=Ka.textContent(jr.target);al(jr.target,this.blockClass,this.blockSelector,!1)||Oo===jr.oldValue||this.texts.push({value:Q(jr.target,this.maskTextClass,this.maskTextSelector,!0)&&Oo?this.maskTextFn?this.maskTextFn(Oo,il(jr.target)):Oo.replace(/[\S]/g,"*"):Oo,node:jr.target});break}case"attributes":{const Oo=jr.target;let Mo=jr.attributeName,Di=jr.target.getAttribute(Mo);if(Mo==="value"){const Tc=M(Oo);Di=k({element:Oo,maskInputOptions:this.maskInputOptions,tagName:Oo.tagName,type:Tc,value:Di,maskInputFn:this.maskInputFn})}if(al(jr.target,this.blockClass,this.blockSelector,!1)||Di===jr.oldValue)return;let Qi=this.attributeMap.get(jr.target);if(Oo.tagName==="IFRAME"&&Mo==="src"&&!this.keepIframeSrcFn(Di)){if(Oo.contentDocument)return;Mo="rr_src"}if(Qi||(Qi={node:jr.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(Qi),this.attributeMap.set(jr.target,Qi)),Mo==="type"&&Oo.tagName==="INPUT"&&(jr.oldValue||"").toLowerCase()==="password"&&Oo.setAttribute("data-rr-is-password","true"),!H(Oo.tagName,Mo))if(Qi.attributes[Mo]=X(this.doc,x(Oo.tagName),x(Mo),Di),Mo==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const Tc=this.unattachedDoc.createElement("span");jr.oldValue&&Tc.setAttribute("style",jr.oldValue);for(const $c of Array.from(Oo.style)){const _c=Oo.style.getPropertyValue($c),xc=Oo.style.getPropertyPriority($c);_c!==Tc.style.getPropertyValue($c)||xc!==Tc.style.getPropertyPriority($c)?Qi.styleDiff[$c]=xc===""?_c:[_c,xc]:Qi._unchangedStyles[$c]=[_c,xc]}for(const $c of Array.from(Tc.style))Oo.style.getPropertyValue($c)===""&&(Qi.styleDiff[$c]=!1)}else Mo==="open"&&Oo.tagName==="DIALOG"&&(Oo.matches("dialog:modal")?Qi.attributes.rr_open_mode="modal":Qi.attributes.rr_open_mode="non-modal");break}case"childList":if(al(jr.target,this.blockClass,this.blockSelector,!0))return;if(jr.target.tagName==="TEXTAREA")return void this.genTextAreaValueMutation(jr.target);jr.addedNodes.forEach((Oo=>this.genAdds(Oo,jr.target))),jr.removedNodes.forEach((Oo=>{const Mo=this.mirror.getId(Oo),Di=b(jr.target)?this.mirror.getId(Ka.host(jr.target)):this.mirror.getId(jr.target);al(jr.target,this.blockClass,this.blockSelector,!1)||ll(Oo,this.mirror,this.slimDOMOptions)||!(function(Qi,Tc){return Tc.getId(Qi)!==-1})(Oo,this.mirror)||(this.addedSet.has(Oo)?(Rl(this.addedSet,Oo),this.droppedSet.add(Oo)):this.addedSet.has(jr.target)&&Mo===-1||cl(jr.target,this.mirror)||(this.movedSet.has(Oo)&&this.movedMap[Ml(Mo,Di)]?Rl(this.movedSet,Oo):(this.removes.push({parentId:Di,id:Mo,isShadow:!(!b(jr.target)||!v(jr.target))||void 0}),(function(Qi,Tc){const $c=[Qi];for(;$c.length;){const _c=$c.pop();Tc.has(_c)||(Tc.add(_c),Ka.childNodes(_c).forEach((xc=>$c.push(xc))))}})(Oo,this.removesSubTreeCache))),this.mapRemoves.push(Oo))}))}})),n(this,"genAdds",((jr,Oo)=>{if(!this.processedNodeManager.inOtherBuffer(jr,this)&&!this.addedSet.has(jr)&&!this.movedSet.has(jr)){if(this.mirror.hasNode(jr)){if(ll(jr,this.mirror,this.slimDOMOptions))return;this.movedSet.add(jr);let Mo=null;Oo&&this.mirror.hasNode(Oo)&&(Mo=this.mirror.getId(Oo)),Mo&&Mo!==-1&&(this.movedMap[Ml(this.mirror.getId(jr),Mo)]=!0)}else this.addedSet.add(jr),this.droppedSet.delete(jr);al(jr,this.blockClass,this.blockSelector,!1)||(Ka.childNodes(jr).forEach((Mo=>this.genAdds(Mo))),dl(jr)&&Ka.childNodes(Ka.shadowRoot(jr)).forEach((Mo=>{this.processedNodeManager.add(Mo,this),this.genAdds(Mo,jr)})))}}))}init(jr){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((Oo=>{this[Oo]=jr[Oo]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Rl(ns,jr){ns.delete(jr),Ka.childNodes(jr).forEach((Oo=>Rl(ns,Oo)))}function El(ns,jr,Oo){return ns.size!==0&&(function(Mo,Di,Qi){const Tc=Ka.parentNode(Di);return!!Tc&&Mo.has(Tc)})(ns,jr)}function Nl(ns,jr){return ns.size!==0&&Tl(ns,jr)}function Tl(ns,jr){const Oo=Ka.parentNode(jr);return!!Oo&&(!!ns.has(Oo)||Tl(ns,Oo))}let Ll;const Dl=ns=>Ll?function(){try{return ns(...arguments)}catch(jr){if(Ll&&Ll(jr)===!0)return;throw jr}}:ns,Pl=[];function Fl(ns){try{if("composedPath"in ns){const jr=ns.composedPath();if(jr.length)return jr[0]}else if("path"in ns&&ns.path.length)return ns.path[0]}catch{}return ns&&ns.target}function Bl(ns,jr){const Oo=new Al;Pl.push(Oo),Oo.init(ns);const Mo=new(Xa())(Dl(Oo.processMutations.bind(Oo)));return Mo.observe(jr,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),Mo}function _l(ns){let{mouseInteractionCb:jr,doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,sampling:Tc}=ns;if(Tc.mouseInteraction===!1)return()=>{};const $c=Tc.mouseInteraction===!0||Tc.mouseInteraction===void 0?{}:Tc.mouseInteraction,_c=[];let xc=null;return Object.keys(vl).filter((Ec=>Number.isNaN(Number(Ec))&&!Ec.endsWith("_Departed")&&$c[Ec]!==!1)).forEach((Ec=>{let Pc=x(Ec);const Ac=(Oc=>Mc=>{const Rc=Fl(Mc);if(al(Rc,Di,Qi,!0))return;let Uc=null,Dc=Oc;if("pointerType"in Mc){switch(Mc.pointerType){case"mouse":Uc=Sl.Mouse;break;case"touch":Uc=Sl.Touch;break;case"pen":Uc=Sl.Pen}Uc===Sl.Touch?vl[Oc]===vl.MouseDown?Dc="TouchStart":vl[Oc]===vl.MouseUp&&(Dc="TouchEnd"):Sl.Pen}else hl(Mc)&&(Uc=Sl.Touch);Uc!==null?(xc=Uc,(Dc.startsWith("Touch")&&Uc===Sl.Touch||Dc.startsWith("Mouse")&&Uc===Sl.Mouse)&&(Uc=null)):vl[Oc]===vl.Click&&(Uc=xc,xc=null);const Nc=hl(Mc)?Mc.changedTouches[0]:Mc;if(!Nc)return;const zc=Mo.getId(Rc),{clientX:Gc,clientY:Yc}=Nc;Dl(jr)({type:vl[Dc],id:zc,x:Gc,y:Yc,...Uc!==null&&{pointerType:Uc}})})(Ec);if(window.PointerEvent)switch(vl[Ec]){case vl.MouseDown:case vl.MouseUp:Pc=Pc.replace("mouse","pointer");break;case vl.TouchStart:case vl.TouchEnd:return}_c.push(Qa(Pc,Ac,Oo))})),Dl((()=>{_c.forEach((Ec=>Ec()))}))}function Ul(ns){let{scrollCb:jr,doc:Oo,mirror:Mo,blockClass:Di,blockSelector:Qi,sampling:Tc}=ns;return Qa("scroll",Dl(el(Dl(($c=>{const _c=Fl($c);if(!_c||al(_c,Di,Qi,!0))return;const xc=Mo.getId(_c);if(_c===Oo&&Oo.defaultView){const Ec=sl(Oo.defaultView);jr({id:xc,x:Ec.left,y:Ec.top})}else jr({id:xc,x:_c.scrollLeft,y:_c.scrollTop})})),Tc.scroll||100)),Oo)}const zl=["INPUT","TEXTAREA","SELECT"],jl=new WeakMap;function Wl(ns){return(function(jr,Oo){if(Zl("CSSGroupingRule")&&jr.parentRule instanceof CSSGroupingRule||Zl("CSSMediaRule")&&jr.parentRule instanceof CSSMediaRule||Zl("CSSSupportsRule")&&jr.parentRule instanceof CSSSupportsRule||Zl("CSSConditionRule")&&jr.parentRule instanceof CSSConditionRule){const Mo=Array.from(jr.parentRule.cssRules).indexOf(jr);Oo.unshift(Mo)}else if(jr.parentStyleSheet){const Mo=Array.from(jr.parentStyleSheet.cssRules).indexOf(jr);Oo.unshift(Mo)}return Oo})(ns,[])}function Vl(ns,jr,Oo){let Mo,Di;return ns?(ns.ownerNode?Mo=jr.getId(ns.ownerNode):Di=Oo.getId(ns),{styleId:Di,id:Mo}):{}}function Gl(ns,jr){let{mirror:Oo,stylesheetManager:Mo}=ns;var Di,Qi,Tc;let $c=null;$c=jr.nodeName==="#document"?Oo.getId(jr):Oo.getId(Ka.host(jr));const _c=jr.nodeName==="#document"?(Di=jr.defaultView)==null?void 0:Di.Document:(Tc=(Qi=jr.ownerDocument)==null?void 0:Qi.defaultView)==null?void 0:Tc.ShadowRoot,xc=_c?.prototype?Object.getOwnPropertyDescriptor(_c?.prototype,"adoptedStyleSheets"):void 0;return $c!==null&&$c!==-1&&_c&&xc?(Object.defineProperty(jr,"adoptedStyleSheets",{configurable:xc.configurable,enumerable:xc.enumerable,get(){var Ec;return(Ec=xc.get)==null?void 0:Ec.call(this)},set(Ec){var Pc;const Ac=(Pc=xc.set)==null?void 0:Pc.call(this,Ec);if($c!==null&&$c!==-1)try{Mo.adoptStyleSheets(Ec,$c)}catch{}return Ac}}),Dl((()=>{Object.defineProperty(jr,"adoptedStyleSheets",{configurable:xc.configurable,enumerable:xc.enumerable,get:xc.get,set:xc.set})}))):()=>{}}function Yl(ns){let jr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Oo=ns.doc.defaultView;if(!Oo)return()=>{};let Mo;(function(Dc,Nc){const{mutationCb:zc,mousemoveCb:Gc,mouseInteractionCb:Yc,scrollCb:Kc,viewportResizeCb:au,inputCb:Jc,mediaInteractionCb:iu,styleSheetRuleCb:tu,styleDeclarationCb:Vc,canvasMutationCb:Qc,fontCb:Hc,selectionCb:ru,customElementCb:nu}=Dc;Dc.mutationCb=function(){Nc.mutation&&Nc.mutation(...arguments),zc(...arguments)},Dc.mousemoveCb=function(){Nc.mousemove&&Nc.mousemove(...arguments),Gc(...arguments)},Dc.mouseInteractionCb=function(){Nc.mouseInteraction&&Nc.mouseInteraction(...arguments),Yc(...arguments)},Dc.scrollCb=function(){Nc.scroll&&Nc.scroll(...arguments),Kc(...arguments)},Dc.viewportResizeCb=function(){Nc.viewportResize&&Nc.viewportResize(...arguments),au(...arguments)},Dc.inputCb=function(){Nc.input&&Nc.input(...arguments),Jc(...arguments)},Dc.mediaInteractionCb=function(){Nc.mediaInteaction&&Nc.mediaInteaction(...arguments),iu(...arguments)},Dc.styleSheetRuleCb=function(){Nc.styleSheetRule&&Nc.styleSheetRule(...arguments),tu(...arguments)},Dc.styleDeclarationCb=function(){Nc.styleDeclaration&&Nc.styleDeclaration(...arguments),Vc(...arguments)},Dc.canvasMutationCb=function(){Nc.canvasMutation&&Nc.canvasMutation(...arguments),Qc(...arguments)},Dc.fontCb=function(){Nc.font&&Nc.font(...arguments),Hc(...arguments)},Dc.selectionCb=function(){Nc.selection&&Nc.selection(...arguments),ru(...arguments)},Dc.customElementCb=function(){Nc.customElement&&Nc.customElement(...arguments),nu(...arguments)}})(ns,jr),ns.recordDOM&&(Mo=Bl(ns,ns.doc));const Di=(function(Dc){let{mousemoveCb:Nc,sampling:zc,doc:Gc,mirror:Yc}=Dc;if(zc.mousemove===!1)return()=>{};const Kc=typeof zc.mousemove=="number"?zc.mousemove:50,au=typeof zc.mousemoveCallback=="number"?zc.mousemoveCallback:500;let Jc,iu=[];const tu=el(Dl((Hc=>{const ru=Date.now()-Jc;Nc(iu.map((nu=>(nu.timeOffset-=ru,nu))),Hc),iu=[],Jc=null})),au),Vc=Dl(el(Dl((Hc=>{const ru=Fl(Hc),{clientX:nu,clientY:Lc}=hl(Hc)?Hc.changedTouches[0]:Hc;Jc||(Jc=rl()),iu.push({x:nu,y:Lc,id:Yc.getId(ru),timeOffset:rl()-Jc}),tu(typeof DragEvent<"u"&&Hc instanceof DragEvent?bl.Drag:Hc instanceof MouseEvent?bl.MouseMove:bl.TouchMove)})),Kc,{trailing:!1})),Qc=[Qa("mousemove",Vc,Gc),Qa("touchmove",Vc,Gc),Qa("drag",Vc,Gc)];return Dl((()=>{Qc.forEach((Hc=>Hc()))}))})(ns),Qi=_l(ns),Tc=Ul(ns),$c=(function(Dc,Nc){let{viewportResizeCb:zc}=Dc,{win:Gc}=Nc,Yc=-1,Kc=-1;return Qa("resize",Dl(el(Dl((()=>{const au=nl(),Jc=ol();Yc===au&&Kc===Jc||(zc({width:Number(Jc),height:Number(au)}),Yc=au,Kc=Jc)})),200)),Gc)})(ns,{win:Oo}),_c=(function(Dc){let{inputCb:Nc,doc:zc,mirror:Gc,blockClass:Yc,blockSelector:Kc,ignoreClass:au,ignoreSelector:Jc,maskInputOptions:iu,maskInputFn:tu,sampling:Vc,userTriggeredOnInput:Qc}=Dc;function Hc(Fc){let su=Fl(Fc);const qc=Fc.isTrusted,lu=su&&su.tagName;if(su&&lu==="OPTION"&&(su=Ka.parentElement(su)),!su||!lu||zl.indexOf(lu)<0||al(su,Yc,Kc,!0)||su.classList.contains(au)||Jc&&su.matches(Jc))return;let pu=su.value,cu=!1;const mu=M(su)||"";mu==="radio"||mu==="checkbox"?cu=su.checked:(iu[lu.toLowerCase()]||iu[mu])&&(pu=k({element:su,maskInputOptions:iu,tagName:lu,type:mu,value:pu,maskInputFn:tu})),ru(su,Qc?{text:pu,isChecked:cu,userTriggered:qc}:{text:pu,isChecked:cu});const yu=su.name;mu==="radio"&&yu&&cu&&zc.querySelectorAll('input[type="radio"][name="'.concat(yu,'"]')).forEach(($u=>{if($u!==su){const Iu=$u.value;ru($u,Qc?{text:Iu,isChecked:!cu,userTriggered:!1}:{text:Iu,isChecked:!cu})}}))}function ru(Fc,su){const qc=jl.get(Fc);if(!qc||qc.text!==su.text||qc.isChecked!==su.isChecked){jl.set(Fc,su);const lu=Gc.getId(Fc);Dl(Nc)({...su,id:lu})}}const nu=(Vc.input==="last"?["change"]:["input","change"]).map((Fc=>Qa(Fc,Dl(Hc),zc))),Lc=zc.defaultView;if(!Lc)return()=>{nu.forEach((Fc=>Fc()))};const Wc=Lc.Object.getOwnPropertyDescriptor(Lc.HTMLInputElement.prototype,"value"),Xc=[[Lc.HTMLInputElement.prototype,"value"],[Lc.HTMLInputElement.prototype,"checked"],[Lc.HTMLSelectElement.prototype,"value"],[Lc.HTMLTextAreaElement.prototype,"value"],[Lc.HTMLSelectElement.prototype,"selectedIndex"],[Lc.HTMLOptionElement.prototype,"selected"]];return Wc&&Wc.set&&nu.push(...Xc.map((Fc=>tl(Fc[0],Fc[1],{set(){Dl(Hc)({target:this,isTrusted:!1})}},!1,Lc)))),Dl((()=>{nu.forEach((Fc=>Fc()))}))})(ns),xc=(function(Dc){let{mediaInteractionCb:Nc,blockClass:zc,blockSelector:Gc,mirror:Yc,sampling:Kc,doc:au}=Dc;const Jc=Dl((tu=>el(Dl((Vc=>{const Qc=Fl(Vc);if(!Qc||al(Qc,zc,Gc,!0))return;const{currentTime:Hc,volume:ru,muted:nu,playbackRate:Lc,loop:Wc}=Qc;Nc({type:tu,id:Yc.getId(Qc),currentTime:Hc,volume:ru,muted:nu,playbackRate:Lc,loop:Wc})})),Kc.media||500))),iu=[Qa("play",Jc(Il.Play),au),Qa("pause",Jc(Il.Pause),au),Qa("seeked",Jc(Il.Seeked),au),Qa("volumechange",Jc(Il.VolumeChange),au),Qa("ratechange",Jc(Il.RateChange),au)];return Dl((()=>{iu.forEach((tu=>tu()))}))})(ns);let Ec=()=>{},Pc=()=>{},Ac=()=>{},Oc=()=>{};ns.recordDOM&&(Ec=(function(Dc,Nc){let{styleSheetRuleCb:zc,mirror:Gc,stylesheetManager:Yc}=Dc,{win:Kc}=Nc;if(!Kc.CSSStyleSheet||!Kc.CSSStyleSheet.prototype)return()=>{};const au=Kc.CSSStyleSheet.prototype.insertRule;Kc.CSSStyleSheet.prototype.insertRule=new Proxy(au,{apply:Dl(((Hc,ru,nu)=>{const[Lc,Wc]=nu,{id:Xc,styleId:Fc}=Vl(ru,Gc,Yc.styleMirror);return(Xc&&Xc!==-1||Fc&&Fc!==-1)&&zc({id:Xc,styleId:Fc,adds:[{rule:Lc,index:Wc}]}),Hc.apply(ru,nu)}))}),Kc.CSSStyleSheet.prototype.addRule=function(Hc,ru){let nu=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.cssRules.length;const Lc="".concat(Hc," { ").concat(ru," }");return Kc.CSSStyleSheet.prototype.insertRule.apply(this,[Lc,nu])};const Jc=Kc.CSSStyleSheet.prototype.deleteRule;let iu,tu;Kc.CSSStyleSheet.prototype.deleteRule=new Proxy(Jc,{apply:Dl(((Hc,ru,nu)=>{const[Lc]=nu,{id:Wc,styleId:Xc}=Vl(ru,Gc,Yc.styleMirror);return(Wc&&Wc!==-1||Xc&&Xc!==-1)&&zc({id:Wc,styleId:Xc,removes:[{index:Lc}]}),Hc.apply(ru,nu)}))}),Kc.CSSStyleSheet.prototype.removeRule=function(Hc){return Kc.CSSStyleSheet.prototype.deleteRule.apply(this,[Hc])},Kc.CSSStyleSheet.prototype.replace&&(iu=Kc.CSSStyleSheet.prototype.replace,Kc.CSSStyleSheet.prototype.replace=new Proxy(iu,{apply:Dl(((Hc,ru,nu)=>{const[Lc]=nu,{id:Wc,styleId:Xc}=Vl(ru,Gc,Yc.styleMirror);return(Wc&&Wc!==-1||Xc&&Xc!==-1)&&zc({id:Wc,styleId:Xc,replace:Lc}),Hc.apply(ru,nu)}))})),Kc.CSSStyleSheet.prototype.replaceSync&&(tu=Kc.CSSStyleSheet.prototype.replaceSync,Kc.CSSStyleSheet.prototype.replaceSync=new Proxy(tu,{apply:Dl(((Hc,ru,nu)=>{const[Lc]=nu,{id:Wc,styleId:Xc}=Vl(ru,Gc,Yc.styleMirror);return(Wc&&Wc!==-1||Xc&&Xc!==-1)&&zc({id:Wc,styleId:Xc,replaceSync:Lc}),Hc.apply(ru,nu)}))}));const Vc={};Jl("CSSGroupingRule")?Vc.CSSGroupingRule=Kc.CSSGroupingRule:(Jl("CSSMediaRule")&&(Vc.CSSMediaRule=Kc.CSSMediaRule),Jl("CSSConditionRule")&&(Vc.CSSConditionRule=Kc.CSSConditionRule),Jl("CSSSupportsRule")&&(Vc.CSSSupportsRule=Kc.CSSSupportsRule));const Qc={};return Object.entries(Vc).forEach((Hc=>{let[ru,nu]=Hc;Qc[ru]={insertRule:nu.prototype.insertRule,deleteRule:nu.prototype.deleteRule},nu.prototype.insertRule=new Proxy(Qc[ru].insertRule,{apply:Dl(((Lc,Wc,Xc)=>{const[Fc,su]=Xc,{id:qc,styleId:lu}=Vl(Wc.parentStyleSheet,Gc,Yc.styleMirror);return(qc&&qc!==-1||lu&&lu!==-1)&&zc({id:qc,styleId:lu,adds:[{rule:Fc,index:[...Wl(Wc),su||0]}]}),Lc.apply(Wc,Xc)}))}),nu.prototype.deleteRule=new Proxy(Qc[ru].deleteRule,{apply:Dl(((Lc,Wc,Xc)=>{const[Fc]=Xc,{id:su,styleId:qc}=Vl(Wc.parentStyleSheet,Gc,Yc.styleMirror);return(su&&su!==-1||qc&&qc!==-1)&&zc({id:su,styleId:qc,removes:[{index:[...Wl(Wc),Fc]}]}),Lc.apply(Wc,Xc)}))})})),Dl((()=>{Kc.CSSStyleSheet.prototype.insertRule=au,Kc.CSSStyleSheet.prototype.deleteRule=Jc,iu&&(Kc.CSSStyleSheet.prototype.replace=iu),tu&&(Kc.CSSStyleSheet.prototype.replaceSync=tu),Object.entries(Vc).forEach((Hc=>{let[ru,nu]=Hc;nu.prototype.insertRule=Qc[ru].insertRule,nu.prototype.deleteRule=Qc[ru].deleteRule}))}))})(ns,{win:Oo}),Pc=Gl(ns,ns.doc),Ac=(function(Dc,Nc){let{styleDeclarationCb:zc,mirror:Gc,ignoreCSSAttributes:Yc,stylesheetManager:Kc}=Dc,{win:au}=Nc;const Jc=au.CSSStyleDeclaration.prototype.setProperty;au.CSSStyleDeclaration.prototype.setProperty=new Proxy(Jc,{apply:Dl(((tu,Vc,Qc)=>{var Hc;const[ru,nu,Lc]=Qc;if(Yc.has(ru))return Jc.apply(Vc,[ru,nu,Lc]);const{id:Wc,styleId:Xc}=Vl((Hc=Vc.parentRule)==null?void 0:Hc.parentStyleSheet,Gc,Kc.styleMirror);return(Wc&&Wc!==-1||Xc&&Xc!==-1)&&zc({id:Wc,styleId:Xc,set:{property:ru,value:nu,priority:Lc},index:Wl(Vc.parentRule)}),tu.apply(Vc,Qc)}))});const iu=au.CSSStyleDeclaration.prototype.removeProperty;return au.CSSStyleDeclaration.prototype.removeProperty=new Proxy(iu,{apply:Dl(((tu,Vc,Qc)=>{var Hc;const[ru]=Qc;if(Yc.has(ru))return iu.apply(Vc,[ru]);const{id:nu,styleId:Lc}=Vl((Hc=Vc.parentRule)==null?void 0:Hc.parentStyleSheet,Gc,Kc.styleMirror);return(nu&&nu!==-1||Lc&&Lc!==-1)&&zc({id:nu,styleId:Lc,remove:{property:ru},index:Wl(Vc.parentRule)}),tu.apply(Vc,Qc)}))}),Dl((()=>{au.CSSStyleDeclaration.prototype.setProperty=Jc,au.CSSStyleDeclaration.prototype.removeProperty=iu}))})(ns,{win:Oo}),ns.collectFonts&&(Oc=(function(Dc){let{fontCb:Nc,doc:zc}=Dc;const Gc=zc.defaultView;if(!Gc)return()=>{};const Yc=[],Kc=new WeakMap,au=Gc.FontFace;Gc.FontFace=function(iu,tu,Vc){const Qc=new au(iu,tu,Vc);return Kc.set(Qc,{family:iu,buffer:typeof tu!="string",descriptors:Vc,fontSource:typeof tu=="string"?tu:JSON.stringify(Array.from(new Uint8Array(tu)))}),Qc};const Jc=Ha(zc.fonts,"add",(function(iu){return function(tu){return setTimeout(Dl((()=>{const Vc=Kc.get(tu);Vc&&(Nc(Vc),Kc.delete(tu))})),0),iu.apply(this,[tu])}}));return Yc.push((()=>{Gc.FontFace=au})),Yc.push(Jc),Dl((()=>{Yc.forEach((iu=>iu()))}))})(ns)));const Mc=(function(Dc){const{doc:Nc,mirror:zc,blockClass:Gc,blockSelector:Yc,selectionCb:Kc}=Dc;let au=!0;const Jc=Dl((()=>{const iu=Nc.getSelection();if(!iu||au&&iu?.isCollapsed)return;au=iu.isCollapsed||!1;const tu=[],Vc=iu.rangeCount||0;for(let Qc=0;Qc<Vc;Qc++){const Hc=iu.getRangeAt(Qc),{startContainer:ru,startOffset:nu,endContainer:Lc,endOffset:Wc}=Hc;al(ru,Gc,Yc,!0)||al(Lc,Gc,Yc,!0)||tu.push({start:zc.getId(ru),startOffset:nu,end:zc.getId(Lc),endOffset:Wc})}Kc({ranges:tu})}));return Jc(),Qa("selectionchange",Jc)})(ns),Rc=(function(Dc){let{doc:Nc,customElementCb:zc}=Dc;const Gc=Nc.defaultView;return Gc&&Gc.customElements?Ha(Gc.customElements,"define",(function(Yc){return function(Kc,au,Jc){try{zc({define:{name:Kc}})}catch{console.warn("Custom element callback failed for ".concat(Kc))}return Yc.apply(this,[Kc,au,Jc])}})):()=>{}})(ns),Uc=[];for(const Dc of ns.plugins)Uc.push(Dc.observer(Dc.callback,Oo,Dc.options));return Dl((()=>{Pl.forEach((Dc=>Dc.reset())),Mo?.disconnect(),Di(),Qi(),Tc(),$c(),_c(),xc(),Ec(),Pc(),Ac(),Oc(),Mc(),Rc(),Uc.forEach((Dc=>Dc()))}))}function Zl(ns){return window[ns]!==void 0}function Jl(ns){return!!(window[ns]!==void 0&&window[ns].prototype&&"insertRule"in window[ns].prototype&&"deleteRule"in window[ns].prototype)}class Xl{constructor(jr){n(this,"iframeIdToRemoteIdMap",new WeakMap),n(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=jr}getId(jr,Oo,Mo,Di){const Qi=Mo||this.getIdToRemoteIdMap(jr),Tc=Di||this.getRemoteIdToIdMap(jr);let $c=Qi.get(Oo);return $c||($c=this.generateIdFn(),Qi.set(Oo,$c),Tc.set($c,Oo)),$c}getIds(jr,Oo){const Mo=this.getIdToRemoteIdMap(jr),Di=this.getRemoteIdToIdMap(jr);return Oo.map((Qi=>this.getId(jr,Qi,Mo,Di)))}getRemoteId(jr,Oo,Mo){const Di=Mo||this.getRemoteIdToIdMap(jr);return typeof Oo!="number"?Oo:Di.get(Oo)||-1}getRemoteIds(jr,Oo){const Mo=this.getRemoteIdToIdMap(jr);return Oo.map((Di=>this.getRemoteId(jr,Di,Mo)))}reset(jr){if(!jr)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(jr),this.iframeRemoteIdToIdMap.delete(jr)}getIdToRemoteIdMap(jr){let Oo=this.iframeIdToRemoteIdMap.get(jr);return Oo||(Oo=new Map,this.iframeIdToRemoteIdMap.set(jr,Oo)),Oo}getRemoteIdToIdMap(jr){let Oo=this.iframeRemoteIdToIdMap.get(jr);return Oo||(Oo=new Map,this.iframeRemoteIdToIdMap.set(jr,Oo)),Oo}}class Hl{constructor(jr){n(this,"iframes",new WeakMap),n(this,"crossOriginIframeMap",new WeakMap),n(this,"crossOriginIframeMirror",new Xl(U)),n(this,"crossOriginIframeStyleMirror"),n(this,"crossOriginIframeRootIdMap",new WeakMap),n(this,"mirror"),n(this,"mutationCb"),n(this,"wrappedEmit"),n(this,"loadListener"),n(this,"stylesheetManager"),n(this,"recordCrossOriginIframes"),this.mutationCb=jr.mutationCb,this.wrappedEmit=jr.wrappedEmit,this.stylesheetManager=jr.stylesheetManager,this.recordCrossOriginIframes=jr.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Xl(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=jr.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(jr){this.iframes.set(jr,!0),jr.contentWindow&&this.crossOriginIframeMap.set(jr.contentWindow,jr)}addLoadListener(jr){this.loadListener=jr}attachIframe(jr,Oo){var Mo,Di;this.mutationCb({adds:[{parentId:this.mirror.getId(jr),nextId:null,node:Oo}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((Mo=jr.contentWindow)==null||Mo.addEventListener("message",this.handleMessage.bind(this))),(Di=this.loadListener)==null||Di.call(this,jr),jr.contentDocument&&jr.contentDocument.adoptedStyleSheets&&jr.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(jr.contentDocument.adoptedStyleSheets,this.mirror.getId(jr.contentDocument))}handleMessage(jr){const Oo=jr;if(Oo.data.type!=="rrweb"||Oo.origin!==Oo.data.origin||!jr.source)return;const Mo=this.crossOriginIframeMap.get(jr.source);if(!Mo)return;const Di=this.transformCrossOriginEvent(Mo,Oo.data.event);Di&&this.wrappedEmit(Di,Oo.data.isCheckout)}transformCrossOriginEvent(jr,Oo){var Mo;switch(Oo.type){case wl.FullSnapshot:{this.crossOriginIframeMirror.reset(jr),this.crossOriginIframeStyleMirror.reset(jr),this.replaceIdOnNode(Oo.data.node,jr);const Di=Oo.data.node.id;return this.crossOriginIframeRootIdMap.set(jr,Di),this.patchRootIdOnNode(Oo.data.node,Di),{timestamp:Oo.timestamp,type:wl.IncrementalSnapshot,data:{source:bl.Mutation,adds:[{parentId:this.mirror.getId(jr),nextId:null,node:Oo.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case wl.Meta:case wl.Load:case wl.DomContentLoaded:return!1;case wl.Plugin:return Oo;case wl.Custom:return this.replaceIds(Oo.data.payload,jr,["id","parentId","previousId","nextId"]),Oo;case wl.IncrementalSnapshot:switch(Oo.data.source){case bl.Mutation:return Oo.data.adds.forEach((Di=>{this.replaceIds(Di,jr,["parentId","nextId","previousId"]),this.replaceIdOnNode(Di.node,jr);const Qi=this.crossOriginIframeRootIdMap.get(jr);Qi&&this.patchRootIdOnNode(Di.node,Qi)})),Oo.data.removes.forEach((Di=>{this.replaceIds(Di,jr,["parentId","id"])})),Oo.data.attributes.forEach((Di=>{this.replaceIds(Di,jr,["id"])})),Oo.data.texts.forEach((Di=>{this.replaceIds(Di,jr,["id"])})),Oo;case bl.Drag:case bl.TouchMove:case bl.MouseMove:return Oo.data.positions.forEach((Di=>{this.replaceIds(Di,jr,["id"])})),Oo;case bl.ViewportResize:return!1;case bl.MediaInteraction:case bl.MouseInteraction:case bl.Scroll:case bl.CanvasMutation:case bl.Input:return this.replaceIds(Oo.data,jr,["id"]),Oo;case bl.StyleSheetRule:case bl.StyleDeclaration:return this.replaceIds(Oo.data,jr,["id"]),this.replaceStyleIds(Oo.data,jr,["styleId"]),Oo;case bl.Font:return Oo;case bl.Selection:return Oo.data.ranges.forEach((Di=>{this.replaceIds(Di,jr,["start","end"])})),Oo;case bl.AdoptedStyleSheet:return this.replaceIds(Oo.data,jr,["id"]),this.replaceStyleIds(Oo.data,jr,["styleIds"]),(Mo=Oo.data.styles)==null||Mo.forEach((Di=>{this.replaceStyleIds(Di,jr,["styleId"])})),Oo}}return!1}replace(jr,Oo,Mo,Di){for(const Qi of Di)(Array.isArray(Oo[Qi])||typeof Oo[Qi]=="number")&&(Array.isArray(Oo[Qi])?Oo[Qi]=jr.getIds(Mo,Oo[Qi]):Oo[Qi]=jr.getId(Mo,Oo[Qi]));return Oo}replaceIds(jr,Oo,Mo){return this.replace(this.crossOriginIframeMirror,jr,Oo,Mo)}replaceStyleIds(jr,Oo,Mo){return this.replace(this.crossOriginIframeStyleMirror,jr,Oo,Mo)}replaceIdOnNode(jr,Oo){this.replaceIds(jr,Oo,["id","rootId"]),"childNodes"in jr&&jr.childNodes.forEach((Mo=>{this.replaceIdOnNode(Mo,Oo)}))}patchRootIdOnNode(jr,Oo){jr.type===kl.Document||jr.rootId||(jr.rootId=Oo),"childNodes"in jr&&jr.childNodes.forEach((Mo=>{this.patchRootIdOnNode(Mo,Oo)}))}}class Kl{constructor(jr){n(this,"shadowDoms",new WeakSet),n(this,"mutationCb"),n(this,"scrollCb"),n(this,"bypassOptions"),n(this,"mirror"),n(this,"restoreHandlers",[]),this.mutationCb=jr.mutationCb,this.scrollCb=jr.scrollCb,this.bypassOptions=jr.bypassOptions,this.mirror=jr.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(jr,Oo){if(!v(jr)||this.shadowDoms.has(jr))return;this.shadowDoms.add(jr);const Mo=Bl({...this.bypassOptions,doc:Oo,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},jr);this.restoreHandlers.push((()=>Mo.disconnect())),this.restoreHandlers.push(Ul({...this.bypassOptions,scrollCb:this.scrollCb,doc:jr,mirror:this.mirror})),setTimeout((()=>{jr.adoptedStyleSheets&&jr.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(jr.adoptedStyleSheets,this.mirror.getId(Ka.host(jr))),this.restoreHandlers.push(Gl({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},jr))}),0)}observeAttachShadow(jr){jr.contentWindow&&jr.contentDocument&&this.patchAttachShadow(jr.contentWindow.Element,jr.contentDocument)}patchAttachShadow(jr,Oo){const Mo=this;this.restoreHandlers.push(Ha(jr.prototype,"attachShadow",(function(Di){return function(Qi){const Tc=Di.call(this,Qi),$c=Ka.shadowRoot(this);return $c&&yl(this)&&Mo.addShadowRoot($c,Oo),Tc}})))}reset(){this.restoreHandlers.forEach((jr=>{try{jr()}catch{}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}for(var Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ql=typeof Uint8Array>"u"?[]:new Uint8Array(256),$l=0;$l<64;$l++)ql[Ql.charCodeAt($l)]=$l;const ec=new Map,tc=(ns,jr,Oo)=>{if(!ns||!nc(ns,jr)&&typeof ns!="object")return;const Mo=(function(Qi,Tc){let $c=ec.get(Qi);return $c||($c=new Map,ec.set(Qi,$c)),$c.has(Tc)||$c.set(Tc,[]),$c.get(Tc)})(Oo,ns.constructor.name);let Di=Mo.indexOf(ns);return Di===-1&&(Di=Mo.length,Mo.push(ns)),Di};function rc(ns,jr,Oo){if(ns instanceof Array)return ns.map((Mo=>rc(Mo,jr,Oo)));if(ns===null)return ns;if(ns instanceof Float32Array||ns instanceof Float64Array||ns instanceof Int32Array||ns instanceof Uint32Array||ns instanceof Uint8Array||ns instanceof Uint16Array||ns instanceof Int16Array||ns instanceof Int8Array||ns instanceof Uint8ClampedArray)return{rr_type:ns.constructor.name,args:[Object.values(ns)]};if(ns instanceof ArrayBuffer)return{rr_type:ns.constructor.name,base64:(function(Mo){var Di,Qi=new Uint8Array(Mo),Tc=Qi.length,$c="";for(Di=0;Di<Tc;Di+=3)$c+=Ql[Qi[Di]>>2],$c+=Ql[(3&Qi[Di])<<4|Qi[Di+1]>>4],$c+=Ql[(15&Qi[Di+1])<<2|Qi[Di+2]>>6],$c+=Ql[63&Qi[Di+2]];return Tc%3==2?$c=$c.substring(0,$c.length-1)+"=":Tc%3==1&&($c=$c.substring(0,$c.length-2)+"=="),$c})(ns)};if(ns instanceof DataView)return{rr_type:ns.constructor.name,args:[rc(ns.buffer,jr,Oo),ns.byteOffset,ns.byteLength]};if(ns instanceof HTMLImageElement){const Mo=ns.constructor.name,{src:Di}=ns;return{rr_type:Mo,src:Di}}return ns instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:ns.toDataURL()}:ns instanceof ImageData?{rr_type:ns.constructor.name,args:[rc(ns.data,jr,Oo),ns.width,ns.height]}:nc(ns,jr)||typeof ns=="object"?{rr_type:ns.constructor.name,index:tc(ns,jr,Oo)}:ns}const sc=(ns,jr,Oo)=>ns.map((Mo=>rc(Mo,jr,Oo))),nc=(ns,jr)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((Mo=>typeof jr[Mo]=="function")).find((Mo=>ns instanceof jr[Mo]));function oc(ns,jr,Oo,Mo){const Di=[];try{const Qi=Ha(ns.HTMLCanvasElement.prototype,"getContext",(function(Tc){return function($c){for(var _c=arguments.length,xc=new Array(_c>1?_c-1:0),Ec=1;Ec<_c;Ec++)xc[Ec-1]=arguments[Ec];if(!al(this,jr,Oo,!0)){const Pc=(function(Ac){return Ac==="experimental-webgl"?"webgl":Ac})($c);if("__context"in this||(this.__context=Pc),Mo&&["webgl","webgl2"].includes(Pc))if(xc[0]&&typeof xc[0]=="object"){const Ac=xc[0];Ac.preserveDrawingBuffer||(Ac.preserveDrawingBuffer=!0)}else xc.splice(0,1,{preserveDrawingBuffer:!0})}return Tc.apply(this,[$c,...xc])}}));Di.push(Qi)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{Di.forEach((Qi=>Qi()))}}function ic(ns,jr,Oo,Mo,Di,Qi){const Tc=[],$c=Object.getOwnPropertyNames(ns);for(const _c of $c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(_c))try{if(typeof ns[_c]!="function")continue;const xc=Ha(ns,_c,(function(Ec){return function(){for(var Pc=arguments.length,Ac=new Array(Pc),Oc=0;Oc<Pc;Oc++)Ac[Oc]=arguments[Oc];const Mc=Ec.apply(this,Ac);if(tc(Mc,Qi,this),"tagName"in this.canvas&&!al(this.canvas,Mo,Di,!0)){const Rc=sc(Ac,Qi,this),Uc={type:jr,property:_c,args:Rc};Oo(this.canvas,Uc)}return Mc}}));Tc.push(xc)}catch{const xc=tl(ns,_c,{set(Ec){Oo(this.canvas,{type:jr,property:_c,args:[Ec],setter:!0})}});Tc.push(xc)}return Tc}const ac="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",lc=typeof window<"u"&&window.Blob&&new Blob([(cc=ac,Uint8Array.from(atob(cc),(ns=>ns.charCodeAt(0))))],{type:"text/javascript;charset=utf-8"});var cc;function hc(ns){let jr;try{if(jr=lc&&(window.URL||window.webkitURL).createObjectURL(lc),!jr)throw"";const Oo=new Worker(jr,{name:ns?.name});return Oo.addEventListener("error",(()=>{(window.URL||window.webkitURL).revokeObjectURL(jr)})),Oo}catch{return new Worker("data:text/javascript;base64,"+ac,{name:ns?.name})}finally{jr&&(window.URL||window.webkitURL).revokeObjectURL(jr)}}class uc{constructor(jr){n(this,"pendingCanvasMutations",new Map),n(this,"rafStamps",{latestId:0,invokeId:null}),n(this,"mirror"),n(this,"mutationCb"),n(this,"resetObservers"),n(this,"frozen",!1),n(this,"locked",!1),n(this,"processMutation",((_c,xc)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(_c)||this.pendingCanvasMutations.set(_c,[]),this.pendingCanvasMutations.get(_c).push(xc)}));const{sampling:Oo="all",win:Mo,blockClass:Di,blockSelector:Qi,recordCanvas:Tc,dataURLOptions:$c}=jr;this.mutationCb=jr.mutationCb,this.mirror=jr.mirror,Tc&&Oo==="all"&&this.initCanvasMutationObserver(Mo,Di,Qi),Tc&&typeof Oo=="number"&&this.initCanvasFPSObserver(Oo,Mo,Di,Qi,{dataURLOptions:$c})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(jr,Oo,Mo,Di,Qi){const Tc=oc(Oo,Mo,Di,!0),$c=new Map,_c=new hc;_c.onmessage=Oc=>{const{id:Mc}=Oc.data;if($c.set(Mc,!1),!("base64"in Oc.data))return;const{base64:Rc,type:Uc,width:Dc,height:Nc}=Oc.data;this.mutationCb({id:Mc,type:Cl["2D"],commands:[{property:"clearRect",args:[0,0,Dc,Nc]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:Rc}],type:Uc}]},0,0]}]})};const xc=1e3/jr;let Ec,Pc=0;const Ac=Oc=>{Pc&&Oc-Pc<xc||(Pc=Oc,(()=>{const Mc=[];return Oo.document.querySelectorAll("canvas").forEach((Rc=>{al(Rc,Mo,Di,!0)||Mc.push(Rc)})),Mc})().forEach((async Mc=>{var Rc;const Uc=this.mirror.getId(Mc);if($c.get(Uc)||Mc.width===0||Mc.height===0)return;if($c.set(Uc,!0),["webgl","webgl2"].includes(Mc.__context)){const Nc=Mc.getContext(Mc.__context);((Rc=Nc?.getContextAttributes())==null?void 0:Rc.preserveDrawingBuffer)===!1&&Nc.clear(Nc.COLOR_BUFFER_BIT)}const Dc=await createImageBitmap(Mc);_c.postMessage({id:Uc,bitmap:Dc,width:Mc.width,height:Mc.height,dataURLOptions:Qi.dataURLOptions},[Dc])}))),Ec=requestAnimationFrame(Ac)};Ec=requestAnimationFrame(Ac),this.resetObservers=()=>{Tc(),cancelAnimationFrame(Ec)}}initCanvasMutationObserver(jr,Oo,Mo){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const Di=oc(jr,Oo,Mo,!1),Qi=(function($c,_c,xc,Ec){const Pc=[],Ac=Object.getOwnPropertyNames(_c.CanvasRenderingContext2D.prototype);for(const Oc of Ac)try{if(typeof _c.CanvasRenderingContext2D.prototype[Oc]!="function")continue;const Mc=Ha(_c.CanvasRenderingContext2D.prototype,Oc,(function(Rc){return function(){for(var Uc=arguments.length,Dc=new Array(Uc),Nc=0;Nc<Uc;Nc++)Dc[Nc]=arguments[Nc];return al(this.canvas,xc,Ec,!0)||setTimeout((()=>{const zc=sc(Dc,_c,this);$c(this.canvas,{type:Cl["2D"],property:Oc,args:zc})}),0),Rc.apply(this,Dc)}}));Pc.push(Mc)}catch{const Mc=tl(_c.CanvasRenderingContext2D.prototype,Oc,{set(Rc){$c(this.canvas,{type:Cl["2D"],property:Oc,args:[Rc],setter:!0})}});Pc.push(Mc)}return()=>{Pc.forEach((Oc=>Oc()))}})(this.processMutation.bind(this),jr,Oo,Mo),Tc=(function($c,_c,xc,Ec){const Pc=[];return Pc.push(...ic(_c.WebGLRenderingContext.prototype,Cl.WebGL,$c,xc,Ec,_c)),_c.WebGL2RenderingContext!==void 0&&Pc.push(...ic(_c.WebGL2RenderingContext.prototype,Cl.WebGL2,$c,xc,Ec,_c)),()=>{Pc.forEach((Ac=>Ac()))}})(this.processMutation.bind(this),jr,Oo,Mo);this.resetObservers=()=>{Di(),Qi(),Tc()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const jr=Oo=>{this.rafStamps.latestId=Oo,requestAnimationFrame(jr)};requestAnimationFrame(jr)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((jr,Oo)=>{const Mo=this.mirror.getId(Oo);this.flushPendingCanvasMutationFor(Oo,Mo)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(jr,Oo){if(this.frozen||this.locked)return;const Mo=this.pendingCanvasMutations.get(jr);if(!Mo||Oo===-1)return;const Di=Mo.map((Tc=>{const{type:$c,..._c}=Tc;return _c})),{type:Qi}=Mo[0];this.mutationCb({id:Oo,type:Qi,commands:Di}),this.pendingCanvasMutations.delete(jr)}}class pc{constructor(jr){n(this,"trackedLinkElements",new WeakSet),n(this,"mutationCb"),n(this,"adoptedStyleSheetCb"),n(this,"styleMirror",new fl),this.mutationCb=jr.mutationCb,this.adoptedStyleSheetCb=jr.adoptedStyleSheetCb}attachLinkElement(jr,Oo){"_cssText"in Oo.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:Oo.id,attributes:Oo.attributes}]}),this.trackLinkElement(jr)}trackLinkElement(jr){this.trackedLinkElements.has(jr)||(this.trackedLinkElements.add(jr),this.trackStylesheetInLinkElement(jr))}adoptStyleSheets(jr,Oo){if(jr.length===0)return;const Mo={id:Oo,styleIds:[]},Di=[];for(const Qi of jr){let Tc;this.styleMirror.has(Qi)?Tc=this.styleMirror.getId(Qi):(Tc=this.styleMirror.add(Qi),Di.push({styleId:Tc,rules:Array.from(Qi.rules||CSSRule,(($c,_c)=>({rule:C($c,Qi.href),index:_c})))})),Mo.styleIds.push(Tc)}Di.length>0&&(Mo.styles=Di),this.adoptedStyleSheetCb(Mo)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(jr){}}class dc{constructor(){n(this,"nodeMap",new WeakMap),n(this,"active",!1)}inOtherBuffer(jr,Oo){const Mo=this.nodeMap.get(jr);return Mo&&Array.from(Mo).some((Di=>Di!==Oo))}add(jr,Oo){this.active||(this.active=!0,requestAnimationFrame((()=>{this.nodeMap=new WeakMap,this.active=!1}))),this.nodeMap.set(jr,(this.nodeMap.get(jr)||new Set).add(Oo))}destroy(){}}let fc,mc,gc,yc=!1;try{if(Array.from([1],(ns=>2*ns))[0]!==2){const ns=document.createElement("iframe");document.body.appendChild(ns),Array.from=((r=ns.contentWindow)==null?void 0:r.Array.from)||Array.from,document.body.removeChild(ns)}}catch(ns){console.debug("Unable to override Array.from",ns)}const wc=new I;function bc(){let ns=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{emit:jr,checkoutEveryNms:Oo,checkoutEveryNth:Mo,blockClass:Di="rr-block",blockSelector:Qi=null,ignoreClass:Tc="rr-ignore",ignoreSelector:$c=null,maskTextClass:_c="rr-mask",maskTextSelector:xc=null,inlineStylesheet:Ec=!0,maskAllInputs:Pc,maskInputOptions:Ac,slimDOMOptions:Oc,maskInputFn:Mc,maskTextFn:Rc,hooks:Uc,packFn:Dc,sampling:Nc={},dataURLOptions:zc={},mousemoveWait:Gc,recordDOM:Yc=!0,recordCanvas:Kc=!1,recordCrossOriginIframes:au=!1,recordAfter:Jc=ns.recordAfter==="DOMContentLoaded"?ns.recordAfter:"load",userTriggeredOnInput:iu=!1,collectFonts:tu=!1,inlineImages:Vc=!1,plugins:Qc,keepIframeSrcFn:Hc=(()=>!1),ignoreCSSAttributes:ru=new Set([]),errorHandler:nu}=ns;Ll=nu;const Lc=!au||window.parent===window;let Wc=!1;if(!Lc)try{window.parent.document&&(Wc=!1)}catch{Wc=!0}if(Lc&&!jr)throw new Error("emit function is required");if(!Lc&&!Wc)return()=>{};Gc!==void 0&&Nc.mousemove===void 0&&(Nc.mousemove=Gc),wc.reset();const Xc=Pc===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:Ac!==void 0?Ac:{password:!0},Fc=ee(Oc);let su;(function(){let uu=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;"NodeList"in uu&&!uu.NodeList.prototype.forEach&&(uu.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in uu&&!uu.DOMTokenList.prototype.forEach&&(uu.DOMTokenList.prototype.forEach=Array.prototype.forEach)})();let qc=0;const lu=uu=>{for(const Tu of Qc||[])Tu.eventProcessor&&(uu=Tu.eventProcessor(uu));return Dc&&!Wc&&(uu=Dc(uu)),uu};fc=(uu,Tu)=>{var du;const gu=uu;if(gu.timestamp=rl(),!((du=Pl[0])!=null&&du.isFrozen())||gu.type===wl.FullSnapshot||gu.type===wl.IncrementalSnapshot&&gu.data.source===bl.Mutation||Pl.forEach((bu=>bu.unfreeze())),Lc)jr?.(lu(gu),Tu);else if(Wc){const bu={type:"rrweb",event:lu(gu),origin:window.location.origin,isCheckout:Tu};window.parent.postMessage(bu,"*")}if(gu.type===wl.FullSnapshot)su=gu,qc=0;else if(gu.type===wl.IncrementalSnapshot){if(gu.data.source===bl.Mutation&&gu.data.isAttachIframe)return;qc++;const bu=Mo&&qc>=Mo,hu=Oo&&gu.timestamp-su.timestamp>Oo;(bu||hu)&&mc(!0)}};const pu=uu=>{fc({type:wl.IncrementalSnapshot,data:{source:bl.Mutation,...uu}})},cu=uu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.Scroll,...uu}}),mu=uu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.CanvasMutation,...uu}}),yu=new pc({mutationCb:pu,adoptedStyleSheetCb:uu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.AdoptedStyleSheet,...uu}})}),$u=new Hl({mirror:wc,mutationCb:pu,stylesheetManager:yu,recordCrossOriginIframes:au,wrappedEmit:fc});for(const uu of Qc||[])uu.getMirror&&uu.getMirror({nodeMirror:wc,crossOriginIframeMirror:$u.crossOriginIframeMirror,crossOriginIframeStyleMirror:$u.crossOriginIframeStyleMirror});const Iu=new dc;gc=new uc({recordCanvas:Kc,mutationCb:mu,win:window,blockClass:Di,blockSelector:Qi,mirror:wc,sampling:Nc.canvas,dataURLOptions:zc});const Su=new Kl({mutationCb:pu,scrollCb:cu,bypassOptions:{blockClass:Di,blockSelector:Qi,maskTextClass:_c,maskTextSelector:xc,inlineStylesheet:Ec,maskInputOptions:Xc,dataURLOptions:zc,maskTextFn:Rc,maskInputFn:Mc,recordCanvas:Kc,inlineImages:Vc,sampling:Nc,slimDOMOptions:Fc,iframeManager:$u,stylesheetManager:yu,canvasManager:gc,keepIframeSrcFn:Hc,processedNodeManager:Iu},mirror:wc});mc=function(){let uu=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!Yc)return;fc({type:wl.Meta,data:{href:window.location.href,width:ol(),height:nl()}},uu),yu.reset(),Su.init(),Pl.forEach((du=>du.lock()));const Tu=(function(du,gu){const{mirror:bu=new I,blockClass:hu="rr-block",blockSelector:_u=null,maskTextClass:ku="rr-mask",maskTextSelector:Ou=null,inlineStylesheet:Eu=!0,inlineImages:Au=!1,recordCanvas:Bu=!1,maskAllInputs:Nu=!1,maskTextFn:Vu,maskInputFn:zu,slimDOM:Hu=!1,dataURLOptions:qu,preserveWhiteSpace:ju,onSerialize:Zc,onIframeLoad:Bc,iframeLoadTimeout:jc,onStylesheetLoad:ou,stylesheetLoadTimeout:eu,keepIframeSrcFn:fu=(()=>!1)}=gu||{};return te(du,{doc:du,mirror:bu,blockClass:hu,blockSelector:_u,maskTextClass:ku,maskTextSelector:Ou,skipChild:!1,inlineStylesheet:Eu,maskInputOptions:Nu===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:Nu===!1?{password:!0}:Nu,maskTextFn:Vu,maskInputFn:zu,slimDOMOptions:ee(Hu),dataURLOptions:qu,inlineImages:Au,recordCanvas:Bu,preserveWhiteSpace:ju,onSerialize:Zc,onIframeLoad:Bc,iframeLoadTimeout:jc,onStylesheetLoad:ou,stylesheetLoadTimeout:eu,keepIframeSrcFn:fu,newlyAddedElement:!1})})(document,{mirror:wc,blockClass:Di,blockSelector:Qi,maskTextClass:_c,maskTextSelector:xc,inlineStylesheet:Ec,maskAllInputs:Xc,maskTextFn:Rc,maskInputFn:Mc,slimDOM:Fc,dataURLOptions:zc,recordCanvas:Kc,inlineImages:Vc,onSerialize:du=>{ul(du,wc)&&$u.addIframe(du),pl(du,wc)&&yu.trackLinkElement(du),dl(du)&&Su.addShadowRoot(Ka.shadowRoot(du),document)},onIframeLoad:(du,gu)=>{$u.attachIframe(du,gu),Su.observeAttachShadow(du)},onStylesheetLoad:(du,gu)=>{yu.attachLinkElement(du,gu)},keepIframeSrcFn:Hc});if(!Tu)return console.warn("Failed to snapshot the document");fc({type:wl.FullSnapshot,data:{node:Tu,initialOffset:sl(window)}},uu),Pl.forEach((du=>du.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&yu.adoptStyleSheets(document.adoptedStyleSheets,wc.getId(document))};try{const uu=[],Tu=gu=>{var bu;return Dl(Yl)({mutationCb:pu,mousemoveCb:(hu,_u)=>fc({type:wl.IncrementalSnapshot,data:{source:_u,positions:hu}}),mouseInteractionCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.MouseInteraction,...hu}}),scrollCb:cu,viewportResizeCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.ViewportResize,...hu}}),inputCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.Input,...hu}}),mediaInteractionCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.MediaInteraction,...hu}}),styleSheetRuleCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.StyleSheetRule,...hu}}),styleDeclarationCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.StyleDeclaration,...hu}}),canvasMutationCb:mu,fontCb:hu=>fc({type:wl.IncrementalSnapshot,data:{source:bl.Font,...hu}}),selectionCb:hu=>{fc({type:wl.IncrementalSnapshot,data:{source:bl.Selection,...hu}})},customElementCb:hu=>{fc({type:wl.IncrementalSnapshot,data:{source:bl.CustomElement,...hu}})},blockClass:Di,ignoreClass:Tc,ignoreSelector:$c,maskTextClass:_c,maskTextSelector:xc,maskInputOptions:Xc,inlineStylesheet:Ec,sampling:Nc,recordDOM:Yc,recordCanvas:Kc,inlineImages:Vc,userTriggeredOnInput:iu,collectFonts:tu,doc:gu,maskInputFn:Mc,maskTextFn:Rc,keepIframeSrcFn:Hc,blockSelector:Qi,slimDOMOptions:Fc,dataURLOptions:zc,mirror:wc,iframeManager:$u,stylesheetManager:yu,shadowDomManager:Su,processedNodeManager:Iu,canvasManager:gc,ignoreCSSAttributes:ru,plugins:((bu=Qc?.filter((hu=>hu.observer)))==null?void 0:bu.map((hu=>({observer:hu.observer,options:hu.options,callback:_u=>fc({type:wl.Plugin,data:{plugin:hu.name,payload:_u}})}))))||[]},Uc)};$u.addLoadListener((gu=>{try{uu.push(Tu(gu.contentDocument))}catch(bu){console.warn(bu)}}));const du=()=>{mc(),uu.push(Tu(document)),yc=!0};return["interactive","complete"].includes(document.readyState)?du():(uu.push(Qa("DOMContentLoaded",(()=>{fc({type:wl.DomContentLoaded,data:{}}),Jc==="DOMContentLoaded"&&du()}))),uu.push(Qa("load",(()=>{fc({type:wl.Load,data:{}}),Jc==="load"&&du()}),window))),()=>{uu.forEach((gu=>{try{gu()}catch(bu){String(bu).toLowerCase().includes("cross-origin")||console.warn(bu)}})),Iu.destroy(),yc=!1,Ll=void 0}}catch(uu){console.warn(uu)}}var vc,Sc;bc.addCustomEvent=(ns,jr)=>{if(!yc)throw new Error("please add custom event after start recording");fc({type:wl.Custom,data:{tag:ns,payload:jr}})},bc.freezePage=()=>{Pl.forEach((ns=>ns.freeze()))},bc.takeFullSnapshot=ns=>{if(!yc)throw new Error("please take full snapshot after start recording");mc(ns)},bc.mirror=wc,(Sc=vc||(vc={}))[Sc.NotStarted=0]="NotStarted",Sc[Sc.Running=1]="Running",Sc[Sc.Stopped=2]="Stopped";const Cc={...console},Ic=["log","info","error","warn","debug"].reduce(((ns,jr)=>(ns[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];console[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns.unproxy[jr]=function(){for(var Oo=arguments.length,Mo=new Array(Oo),Di=0;Di<Oo;Di++)Mo[Di]=arguments[Di];Cc[jr]("[PageSpy] [".concat(jr.toLocaleUpperCase(),"] "),...Mo)},ns)),{unproxy:{}});class kc{constructor(){let jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t(this,"name","RRWebPlugin"),t(this,"stopListener",null),this.options=jr}onInit(jr){let{socketStore:Oo}=jr;if(typeof window!="object"||typeof document!="object"||Object.prototype.toString.call(document)!=="[object HTMLDocument]")return void Ic.warn("".concat(this.name," can only used in browser environment"));if(!MutationObserver)return void Ic.warn("".concat(this.name," built on the MutationObserver API and it's not detected in the current browser"));if(kc.hasInited)return;kc.hasInited=!0;const{allowOnline:Mo=!1,...Di}=this.options,Qi=bc({...Di,emit(Tc){const $c=(function(_c,xc){return{role:"client",type:_c,data:{...(!(arguments.length>2&&arguments[2]!==void 0)||arguments[2])&&{id:Math.random().toString(36).slice(2)},...xc}}})("rrweb-event",Tc);Oo.dispatchEvent("public-data",$c)}});Oo.addListener("harbor-clear",(()=>{bc.takeFullSnapshot()})),Qi&&(this.stopListener=Qi)}onReset(){var jr;(jr=this.stopListener)===null||jr===void 0||jr.call(this),kc.hasInited=!1}}t(kc,"hasInited",!1);const _sfc_main$1=defineComponent({name:"Footer",components:{Icon},setup(){const ns=ref(!1),jr=ref(!1),Oo=ref(!1),Mo=ref(!1),Di=ref(!1),Qi=ref(!1),Tc=ref({}),$c=ref([]),_c=ref(""),xc=ref(null),Ec=ref(""),Pc=ref(""),Ac=ref("lucide:copy"),Oc=ref("lucide:copy"),Mc=computed(()=>!1),Rc=ref(!1),Uc=ref(!1),Dc=ref(""),Nc=()=>{Rc.value=!0},zc=async()=>{await Hc(),Rc.value=!1},Gc=Fc=>{Dc.value=Fc,Uc.value=!0},Yc=()=>{iu(Dc.value),Uc.value=!1},Kc=Fc=>Fc.replace(/([A-Z])/g," $1").replace(/^./,su=>su.toUpperCase()),au=Fc=>typeof Fc=="boolean"?Fc?"Yes":"No":Fc,Jc=()=>{const Fc={};for(let su=0;su<localStorage.length;su++){const qc=localStorage.key(su);Fc[qc]=localStorage.getItem(qc)}Tc.value=Fc},iu=Fc=>{localStorage.removeItem(Fc),Jc()},tu=()=>{$c.value=document.cookie.split(";").map(Fc=>{const[su,qc]=Fc.trim().split("=");return{name:su,value:qc}}).filter(Fc=>Fc.name)},Vc=Fc=>{_c.value=Fc,Di.value=!0},Qc=()=>{document.cookie=`${_c.value}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`,Di.value=!1,tu()},Hc=async()=>{try{localStorage.clear(),sessionStorage.clear(),await caches.keys().then(Fc=>Promise.all(Fc.map(su=>caches.delete(su)))),window.location.reload(!0)}catch(Fc){console.error("Error clearing cache:",Fc)}},ru=()=>{window.$harbor||(window.$harbor=new Ea$1,PageSpy.registerPlugin(window.$harbor)),window.$rrweb||(window.$rrweb=new kc,PageSpy.registerPlugin(window.$rrweb)),window.$pageSpy=new PageSpy({lang:"zh"|"en",api:"report.makesome.cool",clientOrigin:"https://report.makesome.cool",autoRender:!1,enableSSL:!0,project:"695_Web",title:"Pit",logo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48cGF0aCBmaWxsPSIjNTM1MzUzIiBkPSJNMyA2YTMgMyAwIDAgMSAzLTNoOGEzIDMgMCAwIDEgMyAzdjIuMDNhNC41IDQuNSAwIDAgMC0xLS4wMDRWN0g0djdhMiAyIDAgMCAwIDIgMmgzLjQ5MmEyLjUgMi41IDAgMCAwLS40NDMgMUg2YTMgMyAwIDAgMS0zLTN6bTEwLjA0NCAzLjU4N2wtMS40NC0xLjQ0YS41LjUgMCAwIDAtLjcwOC43MDdsMS41NzggMS41NzdxLjIzMi0uNDQ3LjU3LS44NDRtLTMuOTQtLjczM2EuNS41IDAgMSAwLS43MDgtLjcwOGwtMi41IDIuNWEuNS41IDAgMCAwIDAgLjcwOGwyLjUgMi41YS41LjUgMCAwIDAgLjcwOC0uNzA4TDYuOTU3IDExem03Ljc4OC4xN2MuMzY2LjA0Mi40NzEuNDguMjEuNzQybC0uOTc1Ljk3NWExLjUwNyAxLjUwNyAwIDEgMCAyLjEzMiAyLjEzMmwuOTc1LS45NzVjLjI2MS0uMjYxLjctLjE1Ni43NDIuMjFhMy41MTggMy41MTggMCAwIDEtNC42NzYgMy43MjNsLTIuNzI2IDIuNzI3YTEuNTA3IDEuNTA3IDAgMSAxLTIuMTMyLTIuMTMybDIuNzI2LTIuNzI2YTMuNTE4IDMuNTE4IDAgMCAxIDMuNzI0LTQuNjc2Ii8+PC9zdmc+",logoStyle:{width:"10%",height:"10%"}})},nu=()=>{window.$pageSpy||ru(),Qi.value?(window.$pageSpy.abort(),console.log("[PageSpy] [LOG]  Render aborted"),localStorage.setItem("debugEnabled","false")):(window.$pageSpy.render(),localStorage.setItem("debugEnabled","true"),ru(),window.$pageSpy.updateRoomInfo({project:"695_Web",title:"Pit"})),Qi.value=!Qi.value},Lc=async()=>{try{const Fc=await fetch("https://api.ipify.org?format=json");if(Fc.ok){const su=await Fc.json();Ec.value=su.ip}else console.error("[Debug Tools] Error fetching IPv4 address:",Fc.statusText)}catch(Fc){console.error("[Debug Tools] Error fetching IPv4 address:",Fc)}try{const Fc=await fetch("https://api6.ipify.org?format=json");if(Fc.ok){const su=await Fc.json();Pc.value=su.ip}else console.error("[Debug Tools] Error fetching IPv6 address:",Fc.statusText)}catch(Fc){console.error("[Debug Tools] Error fetching IPv6 address:",Fc)}},Wc=async()=>{try{const Fc=document.createElement("script");Fc.src="https://cdn.jsdelivr.net/npm/browser-tool@1.3.2/dist/browser.min.js",Fc.async=!0,Fc.onload=async()=>{xc.value=await window.browser.getInfo()},document.head.appendChild(Fc)}catch(Fc){console.error("Error loading browser info:",Fc),xc.value={browser:"Unknown",version:"Unknown",system:"Unknown",device:"Unknown"}}},Xc=async Fc=>{try{await navigator.clipboard.writeText(Fc);const su=Fc===Ec.value?Ac:Oc;su.value="lucide:check",setTimeout(()=>{su.value="lucide:copy"},2e3)}catch(su){console.error("Failed to copy text: ",su)}};return watch(ns,Fc=>{Fc?(document.body.style.overflow="hidden",Lc()):document.body.style.overflow=""}),watch(jr,Fc=>{Fc&&Jc()}),watch(Oo,Fc=>{Fc&&tu()}),watch(Mo,Fc=>{Fc&&!xc.value&&Wc()}),onMounted(()=>{localStorage.getItem("debugEnabled")==="true"&&(Qi.value=!0,window.$pageSpy||ru(),window.$pageSpy.render())}),{showDebugTools:ns,showLocalStorage:jr,showCookies:Oo,showBrowserInfo:Mo,showDeleteCookieConfirm:Di,showClearCacheConfirm:Rc,showDeleteLocalStorageConfirm:Uc,debugEnabled:Qi,localStorageItems:Tc,cookies:$c,browserInfo:xc,ipv4:Ec,ipv6:Pc,ipv4CopyIcon:Ac,ipv6CopyIcon:Oc,isDevelopment:Mc,toggleDebug:nu,clearCacheAndReload:Hc,formatKey:Kc,formatValue:au,removeLocalStorageItem:iu,confirmDeleteLocalStorageItem:Gc,executeDeleteLocalStorageItem:Yc,confirmClearCache:Nc,executeClearCache:zc,confirmDeleteCookie:Vc,deleteCookie:Qc,copyToClipboard:Xc}}}),_hoisted_1$1={class:"flex flex-wrap justify-end items-center gap-2 text-xs"},_hoisted_2$1={class:"flex items-center space-x-2 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full"},_hoisted_3$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_4$1={class:"relative bg-white rounded-xl shadow-lg max-w-2xl w-full mx-auto max-h-[90vh] overflow-hidden"},_hoisted_5$1={class:"sticky top-0 z-10 bg-white"},_hoisted_6$1={class:"flex items-center justify-between p-4 border-b"},_hoisted_7$1={class:"flex items-center space-x-3"},_hoisted_8$1={class:"p-4 bg-yellow-50 border-b border-yellow-100"},_hoisted_9$1={class:"flex items-start space-x-3"},_hoisted_10$1={class:"p-4 space-y-4 max-h-[60vh] overflow-y-auto"},_hoisted_11$1={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_hoisted_12$1={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_hoisted_13$1={class:"space-y-1 flex-1"},_hoisted_14$1={class:"flex items-center"},_hoisted_15$1={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_hoisted_16$1={class:"space-y-1 flex-1"},_hoisted_17$1={class:"flex items-center"},_hoisted_18$1={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_hoisted_19$1={class:"space-y-1 flex-1"},_hoisted_20$1={class:"flex items-center"},_hoisted_21$1={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},_hoisted_22$1={class:"sticky bottom-0 z-10 bg-white p-4 border-t"},_hoisted_23$1={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},_hoisted_24$1={class:"flex items-center justify-between"},_hoisted_25$1={class:"flex items-center justify-start w-full"},_hoisted_26$1={class:"text-gray-900 ml-2"},_hoisted_27$1={class:"flex items-center justify-between"},_hoisted_28$1={class:"flex items-center justify-start w-full"},_hoisted_29$1={class:"text-gray-900 ml-2 truncate max-w-fit"},_hoisted_30$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_31$1={class:"relative bg-white rounded-xl shadow-lg w-full max-w-lg mx-auto"},_hoisted_32$1={class:"flex items-center justify-between p-4 border-b"},_hoisted_33$1={class:"flex items-center space-x-3"},_hoisted_34$1={class:"p-4"},_hoisted_35$1={class:"bg-gray-50 rounded-lg p-4 max-h-[60vh] overflow-y-auto"},_hoisted_36$1={class:"space-y-1 flex-1 min-w-0"},_hoisted_37$1={class:"font-medium text-gray-900 break-all"},_hoisted_38$1={class:"text-sm text-gray-500 break-all"},_hoisted_39$1=["onClick"],_hoisted_40$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_41$1={class:"relative bg-white rounded-xl shadow-lg w-full max-w-lg mx-auto"},_hoisted_42$1={class:"flex items-center justify-between p-4 border-b"},_hoisted_43$1={class:"flex items-center space-x-3"},_hoisted_44$1={class:"p-4"},_hoisted_45$1={class:"bg-gray-50 rounded-lg p-4 max-h-[60vh] overflow-y-auto"},_hoisted_46$1={class:"space-y-1 flex-1 min-w-0"},_hoisted_47$1={class:"font-medium text-gray-900 break-all"},_hoisted_48$1={class:"text-sm text-gray-500 break-all"},_hoisted_49$1=["onClick"],_hoisted_50$1={key:3,class:"fixed inset-0 z-[60] overflow-y-auto"},_hoisted_51$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_52$1={class:"relative bg-white rounded-xl shadow-lg w-full max-w-md mx-auto"},_hoisted_53$1={class:"p-6 space-y-4"},_hoisted_54$1={class:"flex items-center space-x-3"},_hoisted_55$1={class:"flex justify-end space-x-3"},_hoisted_56$1={key:4,class:"fixed inset-0 z-[60] overflow-y-auto"},_hoisted_57$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_58$1={class:"relative bg-white rounded-xl shadow-lg w-full max-w-md mx-auto"},_hoisted_59$1={class:"p-6 space-y-4"},_hoisted_60$1={class:"flex items-center space-x-3"},_hoisted_61$1={class:"flex justify-end space-x-3"},_hoisted_62$1={key:5,class:"fixed inset-0 z-[60] overflow-y-auto"},_hoisted_63$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_64$1={class:"relative bg-white rounded-xl shadow-lg w-full max-w-md mx-auto"},_hoisted_65$1={class:"p-6 space-y-4"},_hoisted_66$1={class:"flex items-center space-x-3"},_hoisted_67$1={class:"flex justify-end space-x-3"},_hoisted_68$1={class:"flex items-center justify-center min-h-screen p-4"},_hoisted_69$1={class:"relative bg-white rounded-xl shadow-lg max-w-2xl w-full mx-auto"},_hoisted_70$1={class:"flex items-center justify-between p-4 border-b"},_hoisted_71$1={class:"flex items-center space-x-3"},_hoisted_72$1={class:"p-4 max-h-[60vh] overflow-y-auto"},_hoisted_73$1={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_74$1={class:"font-medium text-gray-900 capitalize"},_hoisted_75$1={class:"mt-1 text-sm text-gray-600"},_hoisted_76$1={key:1,class:"flex justify-center py-8"};function _sfc_render(ns,jr,Oo,Mo,Di,Qi){const Tc=resolveComponent("Icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("button",{onClick:jr[0]||(jr[0]=$c=>ns.showDebugTools=!0),class:"text-blue-600 hover:text-blue-700 transition-colors flex items-center space-x-1"},[createVNode(Tc,{icon:"lucide:settings",class:"w-4 h-4"}),jr[22]||(jr[22]=createBaseVNode("span",{class:"text-xs"},"Debug Tools",-1))])])]),ns.showDebugTools?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:jr[9]||(jr[9]=withModifiers($c=>ns.showDebugTools=!1,["self"]))},[createBaseVNode("div",_hoisted_3$1,[jr[35]||(jr[35]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createVNode(Tc,{icon:"lucide:settings",class:"w-6 h-6 text-blue-600"}),jr[23]||(jr[23]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Debug Tools",-1))]),createBaseVNode("button",{onClick:jr[1]||(jr[1]=$c=>ns.showDebugTools=!1),class:"text-gray-400 hover:text-gray-500 transition-colors"},[createVNode(Tc,{icon:"lucide:x",class:"w-5 h-5"})])])]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),jr[24]||(jr[24]=createBaseVNode("div",{class:"text-sm text-yellow-700"},[createBaseVNode("p",{class:"font-bold"},"Warning"),createBaseVNode("ul",{class:"list-disc pl-4 space-y-1 mt-1"},[createBaseVNode("li",null,"Please use with guidance and caution."),createBaseVNode("li",null,"Using these tools without proper knowledge may cause unexpected behavior. "),createBaseVNode("li",null,"Please ensure you understand the impact of each operation.")])],-1))])]),createBaseVNode("div",_hoisted_10$1,[createBaseVNode("div",_hoisted_11$1,[jr[25]||(jr[25]=createBaseVNode("div",{class:"space-y-1"},[createBaseVNode("h4",{class:"font-medium text-gray-900"},"PageSpy"),createBaseVNode("p",{class:"text-sm text-gray-500"},"Enable page inspection and debugging")],-1)),createBaseVNode("button",{onClick:jr[2]||(jr[2]=(...$c)=>ns.toggleDebug&&ns.toggleDebug(...$c)),class:normalizeClass(["flex items-center space-x-2 px-3 py-1.5 rounded-full text-xs transition-all",ns.debugEnabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"])},[createBaseVNode("span",null,toDisplayString(ns.debugEnabled?"Enabled":"Disabled"),1),createVNode(Tc,{icon:ns.debugEnabled?"lucide:check-circle":"lucide:circle",class:"w-4 h-4"},null,8,["icon"])],2)]),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("div",_hoisted_13$1,[createBaseVNode("div",_hoisted_14$1,[jr[26]||(jr[26]=createBaseVNode("h4",{class:"font-medium text-gray-900"},"Clear Cache",-1)),createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-4 h-4 text-yellow-500 ml-2",title:"High-risk operation"})]),jr[27]||(jr[27]=createBaseVNode("p",{class:"text-sm text-gray-500"},"Clear all cache and reload page",-1))]),createBaseVNode("button",{onClick:jr[3]||(jr[3]=(...$c)=>ns.confirmClearCache&&ns.confirmClearCache(...$c)),class:"px-3 py-1.5 bg-red-100 text-red-700 rounded-full text-xs hover:bg-red-200 transition-colors"}," Clear & Reload ")]),createBaseVNode("div",_hoisted_15$1,[createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[jr[28]||(jr[28]=createBaseVNode("h4",{class:"font-medium text-gray-900"},"Local Storage",-1)),createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-4 h-4 text-red-500 ml-2",title:"Contains sensitive data"})]),jr[29]||(jr[29]=createBaseVNode("p",{class:"text-sm text-gray-500"},"View and manage local storage",-1))]),createBaseVNode("button",{onClick:jr[4]||(jr[4]=$c=>ns.showLocalStorage=!0),class:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs hover:bg-blue-200 transition-colors"}," View ")]),createBaseVNode("div",_hoisted_18$1,[createBaseVNode("div",_hoisted_19$1,[createBaseVNode("div",_hoisted_20$1,[jr[30]||(jr[30]=createBaseVNode("h4",{class:"font-medium text-gray-900"},"Cookies",-1)),createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-4 h-4 text-red-500 ml-2",title:"Contains sensitive data"})]),jr[31]||(jr[31]=createBaseVNode("p",{class:"text-sm text-gray-500"},"View and manage cookies",-1))]),createBaseVNode("button",{onClick:jr[5]||(jr[5]=$c=>ns.showCookies=!0),class:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs hover:bg-blue-200 transition-colors"}," View ")]),createBaseVNode("div",_hoisted_21$1,[jr[32]||(jr[32]=createBaseVNode("div",{class:"space-y-1"},[createBaseVNode("h4",{class:"font-medium text-gray-900"},"Browser Information"),createBaseVNode("p",{class:"text-sm text-gray-500"},"View detailed browser information")],-1)),createBaseVNode("button",{onClick:jr[6]||(jr[6]=$c=>ns.showBrowserInfo=!0),class:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-full text-xs hover:bg-blue-200 transition-colors"}," View ")])]),createBaseVNode("div",_hoisted_22$1,[createBaseVNode("div",_hoisted_23$1,[createBaseVNode("div",_hoisted_24$1,[createBaseVNode("div",_hoisted_25$1,[jr[33]||(jr[33]=createBaseVNode("span",{class:"text-gray-500"},"IPv4:",-1)),createBaseVNode("span",_hoisted_26$1,toDisplayString(ns.ipv4||"Unknown"),1),createBaseVNode("button",{onClick:jr[7]||(jr[7]=$c=>ns.copyToClipboard(ns.ipv4)),class:"text-blue-600 hover:text-blue-700 transition-colors ml-2"},[createVNode(Tc,{icon:ns.ipv4CopyIcon,class:"w-4 h-4"},null,8,["icon"])])])]),createBaseVNode("div",_hoisted_27$1,[createBaseVNode("div",_hoisted_28$1,[jr[34]||(jr[34]=createBaseVNode("span",{class:"text-gray-500"},"IPv6:",-1)),createBaseVNode("span",_hoisted_29$1,toDisplayString(ns.ipv6||"Unknown"),1),createBaseVNode("button",{onClick:jr[8]||(jr[8]=$c=>ns.copyToClipboard(ns.ipv6)),class:"text-blue-600 hover:text-blue-700 transition-colors ml-2"},[createVNode(Tc,{icon:ns.ipv6CopyIcon,class:"w-4 h-4"},null,8,["icon"])])])])])])])])])):createCommentVNode("",!0),ns.showLocalStorage?(openBlock(),createElementBlock("div",{key:1,class:"fixed inset-0 z-50 overflow-y-auto",onClick:jr[11]||(jr[11]=withModifiers($c=>ns.showLocalStorage=!1,["self"]))},[createBaseVNode("div",_hoisted_30$1,[jr[37]||(jr[37]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_31$1,[createBaseVNode("div",_hoisted_32$1,[createBaseVNode("div",_hoisted_33$1,[createVNode(Tc,{icon:"lucide:database",class:"w-6 h-6 text-blue-600"}),jr[36]||(jr[36]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Local Storage",-1))]),createBaseVNode("button",{onClick:jr[10]||(jr[10]=$c=>ns.showLocalStorage=!1),class:"text-gray-400 hover:text-gray-500 transition-colors"},[createVNode(Tc,{icon:"lucide:x",class:"w-5 h-5"})])]),createBaseVNode("div",_hoisted_34$1,[createBaseVNode("div",_hoisted_35$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ns.localStorageItems,($c,_c)=>(openBlock(),createElementBlock("div",{key:_c,class:"flex items-start justify-between py-2"},[createBaseVNode("div",_hoisted_36$1,[createBaseVNode("div",_hoisted_37$1,toDisplayString(_c),1),createBaseVNode("div",_hoisted_38$1,toDisplayString($c),1)]),createBaseVNode("button",{onClick:xc=>ns.confirmDeleteLocalStorageItem(_c),class:"ml-4 p-1 text-red-500 hover:text-red-600 transition-colors flex-shrink-0"},[createVNode(Tc,{icon:"lucide:trash-2",class:"w-4 h-4"})],8,_hoisted_39$1)]))),128))])])])])])):createCommentVNode("",!0),ns.showCookies?(openBlock(),createElementBlock("div",{key:2,class:"fixed inset-0 z-50 overflow-y-auto",onClick:jr[13]||(jr[13]=withModifiers($c=>ns.showCookies=!1,["self"]))},[createBaseVNode("div",_hoisted_40$1,[jr[39]||(jr[39]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_41$1,[createBaseVNode("div",_hoisted_42$1,[createBaseVNode("div",_hoisted_43$1,[createVNode(Tc,{icon:"lucide:cookie",class:"w-6 h-6 text-blue-600"}),jr[38]||(jr[38]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Cookies",-1))]),createBaseVNode("button",{onClick:jr[12]||(jr[12]=$c=>ns.showCookies=!1),class:"text-gray-400 hover:text-gray-500 transition-colors"},[createVNode(Tc,{icon:"lucide:x",class:"w-5 h-5"})])]),createBaseVNode("div",_hoisted_44$1,[createBaseVNode("div",_hoisted_45$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ns.cookies,$c=>(openBlock(),createElementBlock("div",{key:$c.name,class:"flex items-start justify-between py-2"},[createBaseVNode("div",_hoisted_46$1,[createBaseVNode("div",_hoisted_47$1,toDisplayString($c.name),1),createBaseVNode("div",_hoisted_48$1,toDisplayString($c.value),1)]),createBaseVNode("button",{onClick:_c=>ns.confirmDeleteCookie($c.name),class:"ml-4 p-1 text-red-500 hover:text-red-600 transition-colors flex-shrink-0"},[createVNode(Tc,{icon:"lucide:trash-2",class:"w-4 h-4"})],8,_hoisted_49$1)]))),128))])])])])])):createCommentVNode("",!0),ns.showDeleteCookieConfirm?(openBlock(),createElementBlock("div",_hoisted_50$1,[createBaseVNode("div",_hoisted_51$1,[jr[42]||(jr[42]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_52$1,[createBaseVNode("div",_hoisted_53$1,[createBaseVNode("div",_hoisted_54$1,[createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-6 h-6 text-yellow-500"}),jr[40]||(jr[40]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Deletion Confirmation",-1))]),jr[41]||(jr[41]=createBaseVNode("p",{class:"text-sm text-gray-600"}," Are you sure you want to delete this cookie? This action cannot be undone and may cause unexpected behavior. ",-1)),createBaseVNode("div",_hoisted_55$1,[createBaseVNode("button",{onClick:jr[14]||(jr[14]=$c=>ns.showDeleteCookieConfirm=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),createBaseVNode("button",{onClick:jr[15]||(jr[15]=(...$c)=>ns.deleteCookie&&ns.deleteCookie(...$c)),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"}," Confirm Deletion ")])])])])])):createCommentVNode("",!0),ns.showClearCacheConfirm?(openBlock(),createElementBlock("div",_hoisted_56$1,[createBaseVNode("div",_hoisted_57$1,[jr[45]||(jr[45]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_58$1,[createBaseVNode("div",_hoisted_59$1,[createBaseVNode("div",_hoisted_60$1,[createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-6 h-6 text-yellow-500"}),jr[43]||(jr[43]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Clear Cache Confirmation",-1))]),jr[44]||(jr[44]=createBaseVNode("p",{class:"text-sm text-gray-600"}," Are you sure you want to clear the cache? This action may cause lower performance for a short period of time. ",-1)),createBaseVNode("div",_hoisted_61$1,[createBaseVNode("button",{onClick:jr[16]||(jr[16]=$c=>ns.showClearCacheConfirm=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),createBaseVNode("button",{onClick:jr[17]||(jr[17]=(...$c)=>ns.executeClearCache&&ns.executeClearCache(...$c)),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"}," Confirm ")])])])])])):createCommentVNode("",!0),ns.showDeleteLocalStorageConfirm?(openBlock(),createElementBlock("div",_hoisted_62$1,[createBaseVNode("div",_hoisted_63$1,[jr[48]||(jr[48]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_64$1,[createBaseVNode("div",_hoisted_65$1,[createBaseVNode("div",_hoisted_66$1,[createVNode(Tc,{icon:"lucide:alert-triangle",class:"w-6 h-6 text-yellow-500"}),jr[46]||(jr[46]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Deletion Confirmation",-1))]),jr[47]||(jr[47]=createBaseVNode("p",{class:"text-sm text-gray-600"}," Are you sure you want to delete this local storage item? This action cannot be undone. ",-1)),createBaseVNode("div",_hoisted_67$1,[createBaseVNode("button",{onClick:jr[18]||(jr[18]=$c=>ns.showDeleteLocalStorageConfirm=!1),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Cancel "),createBaseVNode("button",{onClick:jr[19]||(jr[19]=(...$c)=>ns.executeDeleteLocalStorageItem&&ns.executeDeleteLocalStorageItem(...$c)),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors"}," Confirm Deletion ")])])])])])):createCommentVNode("",!0),ns.showBrowserInfo?(openBlock(),createElementBlock("div",{key:6,class:"fixed inset-0 z-50 overflow-y-auto",onClick:jr[21]||(jr[21]=withModifiers($c=>ns.showBrowserInfo=!1,["self"]))},[createBaseVNode("div",_hoisted_68$1,[jr[50]||(jr[50]=createBaseVNode("div",{class:"fixed inset-0 bg-black/20 backdrop-blur-sm"},null,-1)),createBaseVNode("div",_hoisted_69$1,[createBaseVNode("div",_hoisted_70$1,[createBaseVNode("div",_hoisted_71$1,[createVNode(Tc,{icon:"lucide:info",class:"w-6 h-6 text-blue-600"}),jr[49]||(jr[49]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900"},"Browser Information",-1))]),createBaseVNode("button",{onClick:jr[20]||(jr[20]=$c=>ns.showBrowserInfo=!1),class:"text-gray-400 hover:text-gray-500 transition-colors"},[createVNode(Tc,{icon:"lucide:x",class:"w-5 h-5"})])]),createBaseVNode("div",_hoisted_72$1,[ns.browserInfo?(openBlock(),createElementBlock("div",_hoisted_73$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ns.browserInfo,($c,_c)=>(openBlock(),createElementBlock("div",{key:_c,class:"bg-gray-50 p-3 rounded-lg"},[createBaseVNode("h4",_hoisted_74$1,toDisplayString(ns.formatKey(_c)),1),createBaseVNode("p",_hoisted_75$1,toDisplayString(ns.formatValue($c)),1)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_76$1,[createVNode(Tc,{icon:"lucide:loader-2",class:"w-6 h-6 animate-spin text-blue-500"})]))])])])])):createCommentVNode("",!0)],64)}const DebugTools=_export_sfc(_sfc_main$1,[["render",_sfc_render]]),_hoisted_1={class:"min-h-screen bg-gray-50"},_hoisted_2={class:"-mt-32 w-full flex justify-center"},_hoisted_3={class:"mx-auto md:mx-8 max-w-7xl px-2 pb-12 sm:px-6 lg:px-8 w-full"},_hoisted_4={class:"bg-white rounded-lg shadow px-5 py-6 sm:px-6"},_hoisted_5={class:"mb-6 bg-gray-50 rounded-md p-4 border-2 border-dashed border-amber-500"},_hoisted_6={class:"flex flex-wrap gap-2 mb-2"},_hoisted_7=["onClick"],_hoisted_8={class:"mt-2"},_hoisted_9={class:"mb-6 bg-gray-50 p-4 rounded-md border border-gray-200"},_hoisted_10={class:"flex flex-col sm:flex-row justify-between items-center space-y-2 sm:space-y-0"},_hoisted_11={class:"w-full sm:w-auto flex justify-end"},_hoisted_12={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},_hoisted_13={class:"bg-white rounded-lg p-6 max-w-md w-full"},_hoisted_14={class:"text-xl font-bold mb-4 text-gray-800"},_hoisted_15={class:"mb-6 text-gray-600"},_hoisted_16={class:"flex justify-end space-x-3"},_hoisted_17={class:"flex flex-col justify-start items-start mb-6 bg-gray-50 p-4 rounded-lg shadow-sm border-2 border-indigo-300"},_hoisted_18={class:"w-full mb-3 flex flex-col sm:flex-row items-start sm:items-center"},_hoisted_19={class:"flex items-center w-full sm:w-auto"},_hoisted_20={class:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-md text-xs sm:text-base font-medium shadow-sm border border-blue-200 overflow-hidden text-ellipsis whitespace-nowrap inline-block"},_hoisted_21={class:"w-full flex flex-col sm:flex-row items-start sm:items-center"},_hoisted_22={class:"flex items-center w-full sm:w-auto"},_hoisted_23={class:"px-2 py-0.5 bg-green-100 text-green-800 rounded-md text-xs sm:text-base font-medium shadow-sm border border-green-200 overflow-hidden text-ellipsis whitespace-nowrap inline-block"},_hoisted_24={key:0,class:"w-full mt-3"},_hoisted_25={class:"flex flex-wrap gap-2 mt-1"},_hoisted_26={class:"text-sm font-medium text-gray-700"},_hoisted_27={key:0,class:"mt-1 flex flex-wrap gap-1"},_hoisted_28=["onClick"],_hoisted_29={key:0,class:"ml-1 text-green-600 flex items-center"},_hoisted_30={key:1,class:"text-xs text-gray-500 mt-1"},_hoisted_31={class:"mb-6 bg-indigo-50 p-4 rounded-md border border-indigo-200"},_hoisted_32={class:"flex items-center"},_hoisted_33={class:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3"},_hoisted_34=["src"],_hoisted_35={class:"text-indigo-700 font-medium"},_hoisted_36={class:"mb-6 bg-gray-50 p-4 rounded-md border border-gray-200"},_hoisted_37={class:"text-sm text-gray-600"},_hoisted_38=["href"],_hoisted_39=["for"],_hoisted_40={key:0,class:"text-red-500"},_hoisted_41={key:0,class:"text-sm text-gray-500 mb-2"},_hoisted_42={key:1,class:"relative rounded-md shadow-sm"},_hoisted_43={class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},_hoisted_44=["id","onUpdate:modelValue","required"],_hoisted_45={key:0,class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},_hoisted_46=["onMousedown"],_hoisted_47={class:"flex items-center"},_hoisted_48={class:"font-normal truncate"},_hoisted_49={key:1,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},_hoisted_50={key:2,class:"relative rounded-md shadow-sm"},_hoisted_51=["id","type","onUpdate:modelValue","required","step","onBlur"],_hoisted_52={key:0,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},_hoisted_53=["id","onUpdate:modelValue","required","onBlur"],_hoisted_54={key:4,class:"mt-2"},_hoisted_55={class:"sr-only"},_hoisted_56={class:"space-y-4"},_hoisted_57=["id","name","value","onUpdate:modelValue","required"],_hoisted_58=["for"],_hoisted_59=["onUpdate:modelValue","placeholder"],_hoisted_60={key:5,class:"mt-2"},_hoisted_61={class:"sr-only"},_hoisted_62={class:"space-y-5"},_hoisted_63={class:"flex h-6 items-center"},_hoisted_64=["id","value","onUpdate:modelValue"],_hoisted_65={class:"ml-3 text-sm leading-6"},_hoisted_66=["for"],_hoisted_67=["onUpdate:modelValue","placeholder"],_hoisted_68=["id"],_hoisted_69={class:"space-y-6"},_hoisted_70={class:"text-lg font-semibold text-gray-900 mb-4"},_hoisted_71=["onDrop","onClick"],_hoisted_72=["onChange"],_hoisted_73={key:0,class:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},_hoisted_74=["src","alt"],_hoisted_75={class:"mt-2 text-xs text-gray-600 truncate"},_hoisted_76={class:"text-xs text-gray-500"},_hoisted_77=["onClick"],_hoisted_78={class:"mt-8"},_hoisted_79={type:"submit",class:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"},FORM_VERSION="2026.02_PROD_ED1",FORM_VERSION_KEY="pit-scouting-form-version",_sfc_main=defineComponent({__name:"PitScoutingView",setup(ns){const jr=useUserStore(),{userInfo:Oo}=storeToRefs(jr),Mo=computed(()=>Oo.value||{}),Di=Zc=>Zc.replace("_","").toLowerCase(),Qi=ref([{name:"Tab 1",formData:[],formId:v4()}]),Tc=ref([]),$c=ref(0),_c=ref(""),xc=computed(()=>Qi.value[$c.value].formId),Ec=ref(!1),Pc=ref("manual");onMounted(async()=>{localStorage.getItem(FORM_VERSION_KEY)!==FORM_VERSION&&(Pc.value="version-change",Ec.value=!0)});const Ac=()=>{Object.keys(localStorage).filter(jc=>jc.startsWith("driveTrainImages_")||jc.startsWith("formData_")||jc.startsWith("fullRobotImages_")||jc==="surveyTabs").forEach(jc=>localStorage.removeItem(jc)),localStorage.setItem(FORM_VERSION_KEY,FORM_VERSION),window.location.reload()},Oc=()=>{Ac(),Ec.value=!1},Mc=()=>{Pc.value==="version-change"&&localStorage.setItem(FORM_VERSION_KEY,FORM_VERSION),Ec.value=!1},Rc=()=>{const Zc=[{question:"Team number",type:"autocomplete",required:!0,value:null,originalIndex:0},{question:"Type of drive train",description:"Select the drivetrain used on the robot.",type:"radio",options:["Tank Drive","West Coast Drive","Swerve Drive","Other"],optionValues:["Tank Drive","West Coast Drive","Swerve Drive","Other"],value:null,required:!0,originalIndex:1},{question:"Primary mobility capabilities",description:"Which field elements can your robot traverse?",type:"checkbox",options:["BUMP","TRENCH","Neither"],optionValues:["BUMP","TRENCH","Neither"],value:[],required:!0,originalIndex:2},{question:"FUEL acquisition methods",description:"How does your robot acquire FUEL?",type:"checkbox",options:["Floor pickup","DEPOT","OUTPOST (Human Player)","Preloaded only","Other"],optionValues:["Floor","DEPOT","OUTPOST","Preloaded","Other"],value:[],required:!0,originalIndex:3},{question:"FUEL scoring method",description:"How does your robot score FUEL into the HUB?",type:"radio",options:["Low goal / direct dump","High goal / shooting","Both","Does not score"],optionValues:["Low","High","Both","None"],value:null,required:!0,originalIndex:4},{question:"Preferred scoring range",description:"From where does your robot usually score into the HUB?",type:"radio",options:["Close range only","Mid range","Long range","Multiple ranges"],optionValues:["Close","Mid","Long","Multiple"],value:null,required:!0,originalIndex:5},{question:"Autonomous capabilities",description:"Select all that apply during AUTO.",type:"checkbox",options:["Leaves ALLIANCE ZONE","Scores FUEL in HUB","Uses vision (AprilTags)","Climbs TOWER in AUTO","No autonomous scoring"],optionValues:["Leaves Zone","Auto Fuel","Vision","Auto Climb","None"],value:[],required:!0,originalIndex:6},{question:"TOWER climbing capability",description:"Which RUNGS can your robot reliably climb?",type:"checkbox",options:["LOW RUNG","MID RUNG","HIGH RUNG","No climb"],optionValues:["Low","Mid","High","None"],value:[],required:!0,originalIndex:7},{question:"Endgame role preference",description:"Primary intended role during END GAME.",type:"radio",options:["Primary climber","Secondary climber","Fuel scoring","Defense","Support only"],optionValues:["Primary Climb","Secondary Climb","Fuel","Defense","Support"],value:null,required:!0,originalIndex:8},{question:"Robot Weight (without bumpers)",description:"Weight in pounds.",type:"number",required:!0,value:null,originalIndex:9},{question:"Bumpers Weight",description:"Weight in pounds.",type:"number",required:!0,value:null,originalIndex:10},{question:"Robot Dimensions (without bumpers)",description:"Enter dimensions in inches.",type:"text",required:!0,value:null,originalIndex:11},{question:"Maximum robot height when fully extended",description:"Height in inches.",type:"number",required:!0,value:null,originalIndex:12},{question:"Drive team configuration",type:"radio",options:["Single driver","Driver + operator","Other"],optionValues:["Single","Driver + Operator","Other"],value:null,required:!0,originalIndex:13},{question:"Estimated hours of driver practice",description:"Total hours or weeks practiced.",type:"text",required:!0,value:null,originalIndex:14},{question:"Additional comments",type:"textarea",required:!1,value:null,originalIndex:15}];Tc.value=JSON.parse(JSON.stringify(Zc)),Qi.value=[{name:"Tab 1",formData:JSON.parse(JSON.stringify(Zc)),formId:v4()}],$c.value=0,du()},Uc=()=>{(!Tc.value||Tc.value.length===0)&&Rc()};onMounted(async()=>{jr.initializeStore(),await Xc(""),await tu(),gu(),Uc(),localStorage.getItem(FORM_VERSION_KEY)!==FORM_VERSION&&(Pc.value="version-change",Ec.value=!0)});const Dc=ref([]),Nc=ref([]),zc=ref({}),Gc=ref([]),Yc=ref(!1);onMounted(async()=>{jr.initializeStore(),await Xc(""),await tu(),!localStorage.getItem("surveyTabs")?du():gu()});const Kc=Zc=>{const Bc=Zc.indexOf("(");return Bc>0?Zc.substring(0,Bc).trim():Zc},au=async Zc=>{const Bc=Zc.target.value;Bc.length>=2?await Xc(Bc):Gc.value=[],Yc.value=!0},Jc=computed(()=>{const Zc=Tc.value[0]?.value?.toLowerCase()||"";return Zc?Gc.value.filter(Bc=>Bc.team_number.toLowerCase().includes(Zc)||Bc.team_name.toLowerCase().includes(Zc)):[]}),iu=Zc=>{const Bc=eu=>typeof eu=="object"&&eu!==null,jc=eu=>{const fu=eu.team_number??eu.teamNumber??eu.number,wu=eu.team_name??eu.teamName??eu.name??eu.nickname??"";return fu==null?null:{team_number:String(fu),team_name:String(wu)}};return(eu=>{if(Array.isArray(eu))return eu;if(!eu||typeof eu!="object")return[];const fu=eu,wu=[fu.teams,fu.data,fu.results,fu.items];for(const Ru of wu)if(Array.isArray(Ru))return Ru;return[]})(Zc).filter(Bc).map(jc).filter(eu=>eu!==null)},tu=async()=>{try{const Zc=casdoorService.getToken(),jc=await(await fetch("https://api.team695.com/api/event/event-id",{headers:{Authorization:Zc?`Bearer ${Zc}`:""}})).json();_c.value=jc.eventId}catch(Zc){console.error("Error loading event ID:",Zc)}};watch([Qi,$c],(Zc,Bc)=>{JSON.stringify(Zc)!==JSON.stringify(Bc)&&du()},{deep:!0});const Vc=()=>{const Zc={name:`Tab ${Qi.value.length+1}`,formData:JSON.parse(JSON.stringify(Tc.value.map(Bc=>({...Bc,value:Bc.type==="checkbox"?[]:null,error:void 0})))),formId:v4()};Qi.value.push(Zc),ru(Qi.value.length-1),du()},Qc=Zc=>{Swal.fire({title:"Are you sure?",text:"You are about to delete this tab. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",reverseButtons:!0}).then(Bc=>{Bc.isConfirmed&&Swal.fire({title:"Confirm Deletion",text:"Are you absolutely sure you want to delete this tab?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"}).then(jc=>{jc.isConfirmed&&(Hc(Zc),Swal.fire("Deleted!","The tab has been deleted.","success"))})})},Hc=Zc=>{const Bc=Qi.value[Zc];Qi.value.splice(Zc,1),Qi.value.length===0?Vc():$c.value>=Qi.value.length&&($c.value=Qi.value.length-1),ru($c.value),localStorage.removeItem(`formData_${Bc.formId}`),localStorage.removeItem(`fullRobotImages_${Bc.formId}`),localStorage.removeItem(`driveTrainImages_${Bc.formId}`)},ru=Zc=>{$c.value=Zc,Tc.value=JSON.parse(JSON.stringify(Qi.value[Zc].formData)),Tu()},nu=()=>{Qi.value[$c.value].formData=JSON.parse(JSON.stringify(Tc.value.map(Zc=>({...Zc,value:Zc.type==="checkbox"?[]:null,otherValue:"",error:void 0})))),Tc.value=Qi.value[$c.value].formData,Dc.value=[],Nc.value=[],$u()},Lc=()=>{Swal.fire({title:"Are you sure?",text:"You are about to clear all data in the current tab. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, clear it!",reverseButtons:!0}).then(Zc=>{Zc.isConfirmed&&Swal.fire({title:"Confirm Clearing",text:"Are you absolutely sure you want to clear all data in this tab?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Clear",cancelButtonText:"Cancel"}).then(Bc=>{Bc.isConfirmed&&(nu(),Swal.fire("Cleared!","The tab data has been cleared.","success"))})})},Wc=Zc=>{Tc.value[0].value=Zc.team_number,Yc.value=!1},Xc=async Zc=>{try{const Bc=casdoorService.getToken(),ou=await(await fetch(`https://api.team695.com/api/team/teams?query=${Zc}&limit=20`,{headers:{Authorization:Bc?`Bearer ${Bc}`:""}})).json();Gc.value=iu(ou)}catch(Bc){console.error("Error loading teams:",Bc),Gc.value=[]}},Fc=()=>{setTimeout(()=>{Yc.value=!1},200)};onMounted(()=>{zc.value={fullRobotInput:document.querySelector('input[ref="fullRobotInput"]'),driveTrainInput:document.querySelector('input[ref="driveTrainInput"]')}});const su=async(Zc,Bc)=>{const jc=Bc.target.files;if(jc)for(let ou=0;ou<jc.length;ou++)bu(jc[ou])?await lu(Zc,jc[ou]):Swal.fire("Invalid File Type","Please upload only JPEG, JPG, PNG, HEIC, or GIF images.","error")},qc=async(Zc,Bc)=>{Bc.preventDefault();const jc=Bc.dataTransfer?.files;if(jc)for(let ou=0;ou<jc.length;ou++)bu(jc[ou])?await lu(Zc,jc[ou]):Swal.fire("Invalid File Type","Please upload only JPEG, JPG, PNG, HEIC, or GIF images.","error")},lu=async(Zc,Bc)=>{const jc=new FormData;jc.append("file",Bc),jc.append("type",Zc);try{const ou=casdoorService.getToken(),fu=await(await fetch("https://api.team695.com/api/upload/upload",{method:"POST",headers:{Authorization:ou?`Bearer ${ou}`:""},body:jc})).json(),wu={id:fu.id,url:fu.url,name:Bc.name,size:Bc.size};Zc==="fullRobot"?Dc.value.push(wu):Nc.value.push(wu),uu()}catch(ou){console.error("Error uploading image:",ou),Swal.fire("Upload Error","There was an error uploading the image. Please try again.","error")}},pu=(Zc,Bc)=>{Swal.fire({title:"Are you sure?",text:"You are about to delete this image. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",reverseButtons:!0}).then(jc=>{jc.isConfirmed&&(cu(Zc,Bc),Swal.fire("Deleted!","The image has been deleted.","success"))})},cu=async(Zc,Bc)=>{try{const jc=Zc==="fullRobot"?Dc.value[Bc].id:Nc.value[Bc].id,ou=casdoorService.getToken();await axios.delete(`https://api.team695.com/api/images/${jc}`,{headers:{Authorization:`Bearer ${ou}`}}),Zc==="fullRobot"?Dc.value.splice(Bc,1):Nc.value.splice(Bc,1),uu()}catch(jc){console.error("Failed to delete image:",jc),Swal.fire({title:"Error!",text:"Failed to delete the image from the server. Do you want to remove it locally?",icon:"error",confirmButtonColor:"#3085d6",confirmButtonText:"Yes, remove it locally"}).then(ou=>{ou.isConfirmed&&(Zc==="fullRobot"?Dc.value.splice(Bc,1):Nc.value.splice(Bc,1),uu(),Swal.fire("Removed!","The image has been removed locally.","success"))})}},mu=Zc=>{if(Zc===0)return"0 Bytes";const Bc=1024,jc=["Bytes","KB","MB","GB"],ou=Math.floor(Math.log(Zc)/Math.log(Bc));return parseFloat((Zc/Math.pow(Bc,ou)).toFixed(2))+" "+jc[ou]},yu=Zc=>/[\\"\{\}\[\]<>&]/g.test(Zc)?Zc.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\{/g,"\\{").replace(/\}/g,"\\}").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;"):Zc,$u=()=>{const Zc=Tc.value.map(Bc=>Bc.value&&typeof Bc.value=="string"&&(Bc.type==="text"||Bc.type==="textarea"||Bc.type==="autocomplete")?{...Bc,value:yu(Bc.value)}:Bc.type==="checkbox"&&Array.isArray(Bc.value)?{...Bc,value:Bc.optionValues?.filter(jc=>Bc.value.includes(jc))||[]}:{...Bc});Qi.value[$c.value].formData=Zc,localStorage.setItem(`formData_${xc.value}`,JSON.stringify(Zc))},Su=((Zc,Bc)=>{let jc;return(...ou)=>{clearTimeout(jc),jc=setTimeout(()=>Zc(...ou),Bc)}})($u,300),uu=()=>{localStorage.setItem(`fullRobotImages_${xc.value}`,JSON.stringify(Dc.value)),localStorage.setItem(`driveTrainImages_${xc.value}`,JSON.stringify(Nc.value))},Tu=()=>{const Zc=localStorage.getItem(`fullRobotImages_${xc.value}`),Bc=localStorage.getItem(`driveTrainImages_${xc.value}`);Zc?Dc.value=JSON.parse(Zc):Dc.value=[],Bc?Nc.value=JSON.parse(Bc):Nc.value=[]},du=()=>{localStorage.setItem("surveyTabs",JSON.stringify(Qi.value)),localStorage.setItem("currentTab",$c.value.toString()),$u(),uu()},gu=()=>{const Zc=localStorage.getItem("surveyTabs"),Bc=localStorage.getItem("currentTab");if(Zc)try{Qi.value=JSON.parse(Zc),$c.value=Bc?parseInt(Bc):0,$c.value>=Qi.value.length&&($c.value=0);const jc=localStorage.getItem(`formData_${Qi.value[$c.value].formId}`);jc?Tc.value=JSON.parse(jc):(Tc.value=JSON.parse(JSON.stringify(Tc.value.map(ou=>({...ou,value:ou.type==="checkbox"?[]:null,error:void 0})))),Qi.value[$c.value].formData=Tc.value,$u())}catch(jc){console.error("Error parsing saved tabs from localStorage:",jc),Rc()}else Rc();Tu()},bu=Zc=>["image/jpeg","image/png","image/gif","image/heic"].includes(Zc.type),hu=Zc=>{if(Zc.required){if(Zc.type==="radio"||Zc.type==="checkbox"){if(!Zc.value||Array.isArray(Zc.value)&&Zc.value.length===0)return Zc.error="This field is required",!1;if((Zc.value==="Other"||Array.isArray(Zc.value)&&Zc.value.includes("Other"))&&!Zc.otherValue)return Zc.error="Please specify the other option",!1}else if(!Zc.value)return Zc.error="This field is required",!1}return Zc.error=void 0,!0},_u=ref({userAgent:navigator.userAgent,ip:"",language:navigator.language}),ku=ref(!1),Ou=async()=>{try{ku.value=!0;const Zc=casdoorService.getToken(),Bc=Tc.value[0]?.value;let jc=Mo.value.avatar||"";if(!jc)try{jc=(await casdoorService.getUserInfo(!0)).avatar||"",console.log("Retrieved avatar from casdoorService:",jc)}catch(vu){console.error("Error fetching user avatar:",vu)}const eu=[...Tc.value].sort((vu,xu)=>(vu.originalIndex||0)-(xu.originalIndex||0)).map(vu=>{const xu={...vu};return vu.type==="radio"&&vu.value==="Other"&&vu.otherValue&&(xu.value=vu.otherValue),vu.type==="checkbox"&&Array.isArray(vu.value)&&vu.value.includes("Other")&&vu.otherValue&&(xu.value=vu.value.map(Ju=>Ju==="Other"?vu.otherValue:Ju)),xu}),fu={eventId:_c.value,tabs:[{name:Qi.value[$c.value].name,formData:eu,formId:xc.value}],images:{fullRobotImages:Dc.value,driveTrainImages:Nc.value},deviceInfo:_u.value,userData:{username:Mo.value.name,displayName:Mo.value.displayName,userId:Mo.value.id,avatar:jc,email:Mo.value.email||""}};console.log("Submitting with avatar:",jc);const wu=await window.$harbor.upload();fu.tabs[0].formData.push({question:"Log URL",type:"text",required:!1,value:wu,originalIndex:eu.length});const Ru=await fetch("https://api.team695.com/survey/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Zc}`},body:JSON.stringify(fu)}),Mu=await Ru.json();if(Ru.ok){if(console.log("Form submitted:",Mu),Bc)try{await qu(parseInt(Bc),!0)}catch(vu){console.error("Error updating pit status:",vu)}localStorage.removeItem(`formData_${xc.value}`),localStorage.removeItem(`fullRobotImages_${xc.value}`),localStorage.removeItem(`driveTrainImages_${xc.value}`),Swal.fire({title:"Success!",text:"Form submitted successfully!",icon:"success",confirmButtonText:"OK"}).then(vu=>{vu.isConfirmed&&(Tc.value.forEach(xu=>{xu.otherValue&&(xu.otherValue=""),xu.value=xu.type==="checkbox"?[]:null}),$u(),Hc($c.value),location.reload())})}else throw new Error(Mu.error||"Failed to submit form")}catch(Zc){console.error("Error submitting form:",Zc),Swal.fire("Submission Error","There was an error submitting the form. Please try again.","error")}finally{ku.value=!1}};onMounted(async()=>{jr.initializeStore(),await Xc(""),await tu(),await zu(),gu(),Uc(),localStorage.getItem(FORM_VERSION_KEY)!==FORM_VERSION&&(Pc.value="version-change",Ec.value=!0)});const Eu=ref([]),Au=ref(new Set),Bu=computed(()=>Eu.value.filter(Zc=>Zc.task_type==="pit-scouting"&&Zc.assigned_team_numbers&&Zc.assigned_team_numbers.length>0)),Nu=Zc=>Au.value.has(Zc),Vu=Zc=>{Tc.value[0]&&(Tc.value[0].value=Zc.toString(),Su())},zu=async()=>{try{const Zc=casdoorService.getToken();if(!Zc)throw new Error("Authentication token not found");const Bc=_c.value.replace("_","").toLowerCase(),jc=await fetch(`https://api.team695.com/assignments/user/${Bc}`,{headers:{Authorization:`Bearer ${Zc}`}});if(!jc.ok)throw new Error(`Failed to load user assignments: ${jc.statusText}`);const ou=await jc.json();if(ou.success)Eu.value=ou.data||[],Hu();else throw new Error(ou.message||"Failed to load user assignments")}catch(Zc){console.error("Error loading user assignments:",Zc)}},Hu=async()=>{try{const Zc=[];if(Bu.value.forEach(eu=>{eu.assigned_team_numbers&&Array.isArray(eu.assigned_team_numbers)&&Zc.push(...eu.assigned_team_numbers)}),Zc.length===0)return;const Bc=casdoorService.getToken();if(!Bc)return;const jc=_c.value.replace("_","").toLowerCase(),ou=Zc.map(async eu=>{try{const fu=await fetch(`https://api.team695.com/team-matches/event/${jc}`,{headers:{Authorization:`Bearer ${Bc}`}});if(!fu.ok)return;const wu=await fu.json();if(wu.success&&wu.data){const Mu=wu.data.find(vu=>vu.team_number===eu);Mu&&Mu.is_pit&&Au.value.add(eu)}}catch(fu){console.error(`Error checking pit status for team ${eu}:`,fu)}});await Promise.all(ou)}catch(Zc){console.error("Error checking completed pit teams:",Zc)}},qu=async(Zc,Bc)=>{try{const jc=casdoorService.getToken();if(!jc)throw new Error("Authentication token not found");const ou=_c.value.replace("_","").toLowerCase(),eu=await fetch(`https://api.team695.com/team-matches/pit-status/${ou}/frc${Zc}`,{method:"PUT",headers:{Authorization:`Bearer ${jc}`,"Content-Type":"application/json"},body:JSON.stringify({is_pit:Bc})});if(!eu.ok)throw new Error(`Failed to update pit status: ${eu.statusText}`);const fu=await eu.json();if(fu.success)console.log(`Pit status for team ${Zc} updated to ${Bc}`),Bc&&Au.value.add(Zc);else throw new Error(fu.message||"Failed to update pit status")}catch(jc){throw console.error("Error updating pit status:",jc),jc}};onMounted(()=>{axios.get("https://api.ipify.org?format=json").then(Zc=>{_u.value.ip=Zc.data.ip}),window.$harbor||(window.$harbor=new Ea$1,PageSpy.registerPlugin(window.$harbor)),window.$rrweb||(window.$rrweb=new kc,PageSpy.registerPlugin(window.$rrweb)),window.$pageSpy=new PageSpy({lang:"en",api:"report.makesome.cool",clientOrigin:"https://report.makesome.cool",autoRender:!1,enableSSL:!0,project:"695_Web",title:"Pit",logo:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj48cGF0aCBmaWxsPSIjNTM1MzUzIiBkPSJNMyA2YTMgMyAwIDAgMSAzLTNoOGEzIDMgMCAwIDEgMyAzdjIuMDNhNC41IDQuNSAwIDAgMC0xLS4wMDRWN0h2N2EyIDIgMCAwIDAgMiAyaDMuNDkyYTIuNSAyLjUgMCAwIDAtLjQ0MyAxSDZhMyAzIDAgMCAxLTMtM3ptMTAuMDQ0IDMuNThhNC41MDUgNC41MDUgMCAwIDAtMy4wNDQtMS41OCA0LjUgNC41IDAgMSAwIDQuNSA0LjVhNC40ODEgNC40ODEgMCAwIDAtLjExNS0uOTc0bC0uODkxIC44OTFhMS41IDEuNSAwIDAgMS0yLjEyMSAyLjEyMWwtMy0zYTEuNSAxLjUgMCAwIDEgMi4xMjEtMi4xMmwuODk5Ljg5OEEzLjQ4NCAzLjQ4NCAwIDAgMSA2LjcwOC0uMjJsLjg0My0uODQzek0xNSAxMmEyIDIgMCAxIDEtNCAwIDIgMiAwIDAgMSA0IDB6Ii8+PC9zdmc+"})});const ju=Zc=>{navigator.clipboard.writeText(Zc).then(()=>{Swal.fire({title:"Copied!",text:"ID has been copied to clipboard",icon:"success",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0})}).catch(Bc=>{console.error("Failed to copy: ",Bc),Swal.fire({title:"Error",text:"Failed to copy to clipboard",icon:"error",toast:!0,position:"top-end",showConfirmButton:!1,timer:1500})})};return(Zc,Bc)=>(openBlock(),createElementBlock("div",_hoisted_1,[Bc[22]||(Bc[22]=createBaseVNode("div",{class:"bg-gradient-to-r from-blue-500 to-indigo-600 pb-32 rounded-b-md md:rounded-b-xl w-full"},[createBaseVNode("header",{class:"py-10"},[createBaseVNode("div",{class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},[createBaseVNode("h1",{class:"text-center text-3xl font-bold tracking-tight text-white"},"Pit Scouting Form")])])],-1)),createBaseVNode("main",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createBaseVNode("div",_hoisted_6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Qi.value,(jc,ou)=>(openBlock(),createElementBlock("button",{key:ou,onClick:eu=>ru(ou),class:normalizeClass(["px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",$c.value===ou?"bg-indigo-100 text-indigo-700 border-2 border-indigo-500":"bg-white text-gray-700 hover:bg-gray-100 border-2 border-gray-300"])},[createTextVNode(toDisplayString(jc.name)+" ",1),createVNode(unref(Icon),{icon:"mdi:close",class:"ml-2 inline-block",onClick:withModifiers(eu=>Qc(ou),["stop"])},null,8,["onClick"])],10,_hoisted_7))),128)),createBaseVNode("button",{onClick:Vc,class:"ml-2 px-4 py-2 rounded-md text-sm font-medium border-2 border-green-500 bg-green-50 text-green-700 hover:bg-green-100 transition-colors duration-200"},[createVNode(unref(Icon),{icon:"mdi:plus",class:"w-5 h-5 mr-1 inline-block"}),Bc[10]||(Bc[10]=createTextVNode(" Add Tab ",-1))])]),createBaseVNode("div",_hoisted_8,[createBaseVNode("button",{onClick:Lc,class:"px-4 py-2 rounded-md text-sm font-medium border-2 border-red-500 bg-red-50 text-red-600 hover:bg-red-100 transition-colors duration-200"},[createVNode(unref(Icon),{icon:"mdi:refresh",class:"mr-2 inline-block"}),Bc[11]||(Bc[11]=createTextVNode(" Clear Current Tab ",-1))])])]),createBaseVNode("div",_hoisted_9,[createBaseVNode("div",_hoisted_10,[createBaseVNode("button",{onClick:Bc[0]||(Bc[0]=jc=>{Ec.value=!0,Pc.value="manual"}),class:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors duration-200 flex items-center"},[createVNode(unref(Icon),{icon:"mdi:refresh",class:"mr-2"}),Bc[12]||(Bc[12]=createTextVNode(" Reset Form ",-1))]),createBaseVNode("div",{class:"text-center"},[createBaseVNode("span",{class:"px-3 py-1 bg-gray-100 rounded-full text-sm font-medium text-gray-700"}," Form Version: "+toDisplayString(FORM_VERSION))]),createBaseVNode("div",_hoisted_11,[createVNode(DebugTools)])]),createVNode(Transition,{name:"fade"},{default:withCtx(()=>[Ec.value?(openBlock(),createElementBlock("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("h3",_hoisted_14,toDisplayString(Pc.value==="version-change"?"Form Version Updated":"Reset Form"),1),createBaseVNode("p",_hoisted_15,toDisplayString(Pc.value==="version-change"?"The pit scouting form has been updated to a new version. Your saved form data needs to be cleared to ensure compatibility.":"This will clear all your saved form data. Any unsaved information will be lost. Are you sure you want to continue?"),1),createBaseVNode("div",_hoisted_16,[Pc.value==="manual"?(openBlock(),createElementBlock("button",{key:0,onClick:Mc,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel ")):createCommentVNode("",!0),createBaseVNode("button",{onClick:Oc,class:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600"},toDisplayString(Pc.value==="version-change"?"Clear and Continue":"Reset Form"),1)])])])):createCommentVNode("",!0)]),_:1})]),createBaseVNode("div",_hoisted_17,[createBaseVNode("div",_hoisted_18,[Bc[13]||(Bc[13]=createBaseVNode("span",{class:"text-xs sm:text-base font-medium text-gray-600 mb-1 sm:mb-0 sm:mr-2 min-w-[50px] inline-block"}," Event ID: ",-1)),createBaseVNode("div",_hoisted_19,[createBaseVNode("span",_hoisted_20,toDisplayString(_c.value),1),createBaseVNode("button",{onClick:Bc[1]||(Bc[1]=jc=>ju(_c.value)),class:"ml-1 text-gray-500 hover:text-indigo-600 focus:outline-none",title:"Copy to clipboard"},[createVNode(unref(Icon),{icon:"mdi:content-copy",class:"h-3.5 w-3.5"})])])]),createBaseVNode("div",_hoisted_21,[Bc[14]||(Bc[14]=createBaseVNode("span",{class:"text-xs sm:text-base font-medium text-gray-600 mb-1 sm:mb-0 sm:mr-2 min-w-[50px] inline-block"}," Form ID: ",-1)),createBaseVNode("div",_hoisted_22,[createBaseVNode("span",_hoisted_23,toDisplayString(xc.value),1),createBaseVNode("button",{onClick:Bc[2]||(Bc[2]=jc=>ju(xc.value)),class:"ml-1 text-gray-500 hover:text-indigo-600 focus:outline-none",title:"Copy to clipboard"},[createVNode(unref(Icon),{icon:"mdi:content-copy",class:"h-3.5 w-3.5"})])])]),Eu.value.length>0?(openBlock(),createElementBlock("div",_hoisted_24,[Bc[15]||(Bc[15]=createBaseVNode("span",{class:"text-xs sm:text-base font-medium text-gray-600 mb-1 inline-block"}," Your Assigned Teams: ",-1)),createBaseVNode("div",_hoisted_25,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Bu.value,jc=>(openBlock(),createElementBlock("div",{key:jc.id,class:"bg-blue-50 p-2 rounded-lg border border-blue-200"},[createBaseVNode("h4",_hoisted_26,toDisplayString(jc.task_type==="pit-scouting"?"Pit Scouting":"Match Scouting"),1),jc.assigned_team_numbers&&jc.assigned_team_numbers.length>0?(openBlock(),createElementBlock("div",_hoisted_27,[(openBlock(!0),createElementBlock(Fragment,null,renderList(jc.assigned_team_numbers,ou=>(openBlock(),createElementBlock("span",{key:ou,class:normalizeClass(["px-3 py-1 text-xs font-medium rounded-full flex items-center transition-all duration-200 cursor-pointer transform hover:scale-105",ou.toString()===Tc.value[0]?.value?"bg-green-100 text-green-800 border border-green-300 shadow-sm":"bg-gray-100 text-gray-800 hover:bg-blue-50 hover:text-blue-700 hover:border hover:border-blue-200"]),onClick:eu=>Vu(ou)},[createVNode(unref(Icon),{icon:"mdi:robot",class:"h-3.5 w-3.5 mr-1"}),createTextVNode(" Team "+toDisplayString(ou)+" ",1),Nu(ou)?(openBlock(),createElementBlock("span",_hoisted_29,[createVNode(unref(Icon),{icon:"mdi:check-circle",class:"h-3.5 w-3.5"})])):(openBlock(),createBlock(unref(Icon),{key:1,icon:"mdi:arrow-right-circle",class:"ml-1 h-3.5 w-3.5 text-blue-500"}))],10,_hoisted_28))),128))])):(openBlock(),createElementBlock("div",_hoisted_30," No teams assigned for pit scouting "))]))),128))])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_31,[createBaseVNode("div",_hoisted_32,[createBaseVNode("div",_hoisted_33,[Mo.value.avatar?(openBlock(),createElementBlock("img",{key:0,src:Mo.value.avatar,alt:"User Avatar",class:"h-10 w-10 rounded-full object-cover"},null,8,_hoisted_34)):(openBlock(),createBlock(unref(Icon),{key:1,icon:"mdi:account",class:"h-6 w-6 text-indigo-600"}))]),createBaseVNode("div",null,[Bc[16]||(Bc[16]=createBaseVNode("h3",{class:"text-sm font-medium text-gray-700"},"Submitting as:",-1)),createBaseVNode("p",_hoisted_35,toDisplayString(Mo.value.displayName||Mo.value.name),1)])])]),createBaseVNode("div",_hoisted_36,[Bc[18]||(Bc[18]=createBaseVNode("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Additional Information",-1)),createBaseVNode("p",_hoisted_37,[Bc[17]||(Bc[17]=createTextVNode("Pit scouting area map is available at ",-1)),createBaseVNode("a",{href:`https://frc.nexus/en/event/${Di(_c.value)}/team/695/map`,target:"_blank",class:"text-indigo-600 hover:underline"},"FRC Nexus",8,_hoisted_38),createVNode(unref(Icon),{icon:"mdi:link",class:"ml-1 inline-block text-indigo-600"})])]),createBaseVNode("form",{onSubmit:withModifiers(Ou,["prevent"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tc.value,(jc,ou)=>(openBlock(),createElementBlock("div",{key:ou,class:"mb-6"},[createBaseVNode("label",{for:"field-"+ou,class:"block text-sm font-medium text-gray-700 mb-1"},[createTextVNode(toDisplayString(jc.question)+" ",1),jc.required?(openBlock(),createElementBlock("span",_hoisted_40,"*")):createCommentVNode("",!0)],8,_hoisted_39),jc.description?(openBlock(),createElementBlock("p",_hoisted_41,toDisplayString(jc.description),1)):createCommentVNode("",!0),jc.type==="autocomplete"?(openBlock(),createElementBlock("div",_hoisted_42,[createBaseVNode("div",_hoisted_43,[createVNode(unref(Icon),{icon:"mdi:magnify",class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),withDirectives(createBaseVNode("input",{id:"field-"+ou,type:"text","onUpdate:modelValue":eu=>jc.value=eu,required:jc.required,class:normalizeClass(["block w-full rounded-md border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",jc.error?"ring-red-300 placeholder:text-red-300 focus:ring-red-500":"ring-gray-300 placeholder:text-gray-400 focus:ring-indigo-600"]),placeholder:"Search teams...",onInput:au,onFocus:Bc[3]||(Bc[3]=eu=>Yc.value=!0),onBlur:Fc},null,42,_hoisted_44),[[vModelText,jc.value]]),Yc.value&&Jc.value.length>0?(openBlock(),createElementBlock("div",_hoisted_45,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Jc.value,eu=>(openBlock(),createElementBlock("div",{key:eu.team_number,onMousedown:withModifiers(fu=>Wc(eu),["prevent"]),class:"cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-100"},[createBaseVNode("div",_hoisted_47,[createBaseVNode("span",_hoisted_48,toDisplayString(eu.team_number)+" - "+toDisplayString(eu.team_name),1)])],40,_hoisted_46))),128))])):createCommentVNode("",!0),jc.error?(openBlock(),createElementBlock("div",_hoisted_49,[createVNode(unref(Icon),{icon:"mingcute:alert-fill",class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):createCommentVNode("",!0)])):createCommentVNode("",!0),jc.type==="text"||jc.type==="number"?(openBlock(),createElementBlock("div",_hoisted_50,[withDirectives(createBaseVNode("input",{id:"field-"+ou,type:jc.type,"onUpdate:modelValue":eu=>jc.value=eu,required:jc.required,step:jc.type==="number"?"any":void 0,class:normalizeClass(["block w-full rounded-md border-0 py-1.5 text-gray-900 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6","px-3",jc.error?"ring-red-300 placeholder:text-red-300 focus:ring-red-500":"ring-gray-300 placeholder:text-gray-400 focus:ring-indigo-600"]),onInput:Bc[4]||(Bc[4]=eu=>unref(Su)()),onBlur:eu=>hu(jc)},null,42,_hoisted_51),[[vModelDynamic,jc.value]]),jc.error?(openBlock(),createElementBlock("div",_hoisted_52,[createVNode(unref(Icon),{icon:"mingcute:alert-fill",class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):createCommentVNode("",!0)])):jc.type==="textarea"?withDirectives((openBlock(),createElementBlock("textarea",{key:3,id:"field-"+ou,"onUpdate:modelValue":eu=>jc.value=eu,required:jc.required,rows:"3",class:normalizeClass(["block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",jc.error?"ring-red-300 placeholder:text-red-300 focus:ring-red-500":"ring-gray-300 placeholder:text-gray-400 focus:ring-indigo-600"]),onBlur:()=>{unref(Su)(),hu(jc)}},null,42,_hoisted_53)),[[vModelText,jc.value]]):jc.type==="radio"?(openBlock(),createElementBlock("div",_hoisted_54,[createBaseVNode("fieldset",null,[createBaseVNode("legend",_hoisted_55,toDisplayString(jc.question),1),createBaseVNode("div",_hoisted_56,[(openBlock(!0),createElementBlock(Fragment,null,renderList(jc.options,(eu,fu)=>(openBlock(),createElementBlock("div",{key:fu,class:"flex items-center"},[withDirectives(createBaseVNode("input",{id:"field-"+ou+"-"+fu,name:"field-"+ou,type:"radio",value:Kc(eu),"onUpdate:modelValue":wu=>jc.value=wu,required:jc.required,class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-600",onBlur:Bc[5]||(Bc[5]=(...wu)=>unref(Su)&&unref(Su)(...wu))},null,40,_hoisted_57),[[vModelRadio,jc.value]]),createBaseVNode("label",{for:"field-"+ou+"-"+fu,class:"ml-3 block text-sm font-medium leading-6 text-gray-900"},toDisplayString(eu),9,_hoisted_58)]))),128))])]),jc.value==="Other"?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":eu=>jc.otherValue=eu,type:"text",placeholder:"Specify other "+jc.question.toLowerCase(),class:"mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",onBlur:Bc[6]||(Bc[6]=(...eu)=>unref(Su)&&unref(Su)(...eu))},null,40,_hoisted_59)),[[vModelText,jc.otherValue]]):createCommentVNode("",!0)])):jc.type==="checkbox"?(openBlock(),createElementBlock("div",_hoisted_60,[createBaseVNode("fieldset",null,[createBaseVNode("legend",_hoisted_61,toDisplayString(jc.question),1),createBaseVNode("div",_hoisted_62,[(openBlock(!0),createElementBlock(Fragment,null,renderList(jc.options,(eu,fu)=>(openBlock(),createElementBlock("div",{key:fu,class:"relative flex items-start"},[createBaseVNode("div",_hoisted_63,[withDirectives(createBaseVNode("input",{id:"field-"+ou+"-"+fu,type:"checkbox",value:Kc(eu),"onUpdate:modelValue":wu=>jc.value=wu,class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600",onChange:Bc[7]||(Bc[7]=(...wu)=>unref(Su)&&unref(Su)(...wu))},null,40,_hoisted_64),[[vModelCheckbox,jc.value]])]),createBaseVNode("div",_hoisted_65,[createBaseVNode("label",{for:"field-"+ou+"-"+fu,class:"font-medium text-gray-900"},toDisplayString(eu),9,_hoisted_66)])]))),128))])]),Array.isArray(jc.value)&&jc.value.includes("Other")?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":eu=>jc.otherValue=eu,type:"text",placeholder:"Specify other "+jc.question.toLowerCase(),class:"mt-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",onBlur:Bc[8]||(Bc[8]=(...eu)=>unref(Su)&&unref(Su)(...eu))},null,40,_hoisted_67)),[[vModelText,jc.otherValue]]):createCommentVNode("",!0)])):createCommentVNode("",!0),jc.error?(openBlock(),createElementBlock("p",{key:6,class:"mt-2 text-sm text-red-600",id:"field-"+ou+"-error"},toDisplayString(jc.error),9,_hoisted_68)):createCommentVNode("",!0)]))),128)),createBaseVNode("div",_hoisted_69,[(openBlock(),createElementBlock(Fragment,null,renderList(["fullRobot","driveTrain"],(jc,ou)=>createBaseVNode("div",{key:ou,class:"bg-gray-50 p-6 rounded-lg shadow-sm"},[createBaseVNode("h2",_hoisted_70,toDisplayString(jc==="fullRobot"?"Full Robots Images":"Drive Train Images"),1),createBaseVNode("div",{onDragover:Bc[9]||(Bc[9]=withModifiers(()=>{},["prevent"])),onDrop:withModifiers(eu=>qc(jc,eu),["prevent"]),class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-indigo-500 transition-colors duration-300",onClick:eu=>zc.value[jc+"Input"]?.click()},[createBaseVNode("input",{type:"file",accept:"image/*",onChange:eu=>su(jc,eu),class:"hidden",ref_for:!0,ref:eu=>{eu&&(zc.value[jc+"Input"]=eu)},multiple:""},null,40,_hoisted_72),createVNode(unref(Icon),{icon:"fa6-solid:image",class:"mx-auto h-12 w-12 text-gray-400","aria-hidden":"true"}),Bc[19]||(Bc[19]=createBaseVNode("div",{class:"mt-4 flex flex-col text-sm leading-6 text-gray-600 justify-center"},[createBaseVNode("span",{class:"relative cursor-pointer rounded-md font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500"}," Upload a file "),createBaseVNode("p",{class:"pl-1"},"or drag and drop")],-1)),Bc[20]||(Bc[20]=createBaseVNode("p",{class:"text-xs leading-5 text-gray-400 md:text-gray-600"},"PNG, JPG, JPEG, HEIC, GIF up to 50MB each ",-1))],40,_hoisted_71),(jc==="fullRobot"?Dc.value:Nc.value).length>0?(openBlock(),createElementBlock("div",_hoisted_73,[(openBlock(!0),createElementBlock(Fragment,null,renderList(jc==="fullRobot"?Dc.value:Nc.value,(eu,fu)=>(openBlock(),createElementBlock("div",{key:fu,class:"relative bg-white p-2 rounded-lg shadow"},[createBaseVNode("img",{src:eu.url,alt:eu.name,class:"w-full h-32 object-cover rounded-lg"},null,8,_hoisted_74),createBaseVNode("div",_hoisted_75,toDisplayString(eu.name),1),createBaseVNode("div",_hoisted_76,toDisplayString(mu(eu.size)),1),createBaseVNode("button",{onClick:withModifiers(wu=>pu(jc,fu),["stop"]),class:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none"},[createVNode(unref(Icon),{icon:"mdi:close"})],8,_hoisted_77)]))),128))])):createCommentVNode("",!0)])),64))]),createBaseVNode("div",_hoisted_78,[createBaseVNode("button",_hoisted_79,[createVNode(unref(Icon),{icon:"mdi:send",class:"mr-2 w-4 h-4"}),Bc[21]||(Bc[21]=createTextVNode(" Submit Form ",-1))])])],32)])])])]))}}),PitScoutingView=_export_sfc(_sfc_main,[["__scopeId","data-v-4101da76"]]);export{PitScoutingView as default};
