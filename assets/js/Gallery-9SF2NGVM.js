import{a as ce,_ as ue}from"./index-CIdx3pTK.js";import{d as me,e as ve,o as te,b as oe,k as r,l as o,A as W,U as d,H as f,D as g,q as m,G as y,F as q,z as A,r as v,c as se,y as i,C as ge,V as O,W as he}from"./vue-vendor-Dw1uN-ft.js";import{I as c}from"./ui-vendor-D_ZJpqRo.js";import"./utils-CAMFpqwB.js";const pe={class:"min-h-screen bg-gradient-to-br from-slate-50 to-sky-100"},fe={class:"relative"},ye={class:"container mx-auto px-2"},we={class:"md:hidden relative"},be={class:"flex items-center gap-2"},xe={class:"text-xs bg-gray-100 px-2 py-0.5 rounded-full"},_e={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg z-20 max-h-64 overflow-y-auto"},ke=["onClick"],Ce={class:"flex items-center gap-2"},Ee={key:0,class:"ml-auto"},Le={class:"hidden md:flex flex-wrap justify-between items-center"},$e={class:"flex-1 flex flex-wrap justify-center gap-1 md:gap-2"},je=["onClick"],He={key:1,class:"text-xs bg-white bg-opacity-30 px-2 py-0.5 rounded-full"},Se={class:"flex items-center gap-1 mt-0"},Ie={class:"flex justify-center mt-2 md:hidden"},ze={class:"flex items-center gap-4 bg-gray-100 p-1 rounded-full"},Me={class:"container mx-auto px-4 py-8"},Re={key:0,class:"flex flex-col items-center justify-center py-20"},Te={key:1},qe={key:0,class:"masonry-gallery"},Ae={class:"relative group"},Oe=["src","alt","onClick","onError"],De={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"},Ue=["onClick"],Be=["onClick"],Ne={class:"absolute top-2 left-2"},Ve={class:"px-2 py-1 text-xs font-medium rounded-full bg-white bg-opacity-80 text-gray-800"},Pe={class:"p-4"},Ge={class:"text-lg font-semibold text-gray-800 line-clamp-1"},We={class:"mt-1 text-sm text-gray-600 line-clamp-2"},Fe={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},Ye={class:"relative group aspect-w-4 aspect-h-3"},Je=["src","alt","onClick","onError"],Qe={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"},Xe=["onClick"],Ze=["onClick"],Ke={class:"absolute top-2 left-2"},et={class:"px-2 py-1 text-xs font-medium rounded-full bg-white bg-opacity-80 text-gray-800"},tt={class:"p-4"},ot={class:"text-lg font-semibold text-gray-800 line-clamp-1"},st={class:"mt-1 text-sm text-gray-600 line-clamp-2"},nt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-90 transition-opacity duration-300"},at={class:"relative max-w-6xl w-full mx-4 overflow-hidden"},lt=["src","alt"],it={key:2,class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},rt={class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white p-4"},dt={class:"flex justify-between items-center"},ct={class:"text-xl font-bold"},ut={class:"mt-1 text-gray-300"},mt=me({__name:"Gallery",setup(vt){he(s=>({v72a4feec:d(re)+"px"}));const k=v({items:[]}),ne=async()=>{try{const s=await ce(()=>import("./Gallery-data-PEjcnQZK.js"),[]);if(k.value=s.default||s,k.value.category&&(D.value=k.value.category),k.value.items){const t={};Object.keys(k.value.items).forEach(e=>{t[e]=k.value.items[e].map(l=>({...l,category:e}))}),L.value=t}}catch(s){console.error("Failed to load gallery data:",s)}},L=v({}),D=v([]),p=v("All"),w=v("masonry"),n=v(null),$=v(!1),h=v(0),j=se(()=>h.value>=0&&h.value<b.value.length?b.value[h.value]:null),U=v(new Set),ae=v(new Set),I=v(!1),B=s=>{const t=s.target;if(t){t.classList.add("loaded");const e=b.value.find(l=>l.image===t.src);e&&U.value.add(e.id)}},F=s=>{console.error(`Failed to load image: ${s.image}`),ae.value.add(s.id)};ve(h,()=>{I.value=!1});const Y=s=>{p.value=s,$.value=!1},C=s=>{switch(s){case"All":return"mdi:view-dashboard";case"Robots":return"mdi:robot";case"Team Photos":return"mdi:account-group";case"2024 Season":return"mdi:calendar";case"2023 Season":return"mdi:calendar";case"2022 Season":return"mdi:calendar";default:return""}},J=s=>s==="All"?Object.values(L.value).flat().length:L.value[s]?.length||0,b=se(()=>p.value==="All"?Object.values(L.value).flat():L.value[p.value]||[]),z=s=>{const t=b.value.findIndex(e=>e.id===s.id);t!==-1&&(h.value=t,$.value=!0,document.body.style.overflow="hidden")},Q=()=>{$.value=!1,document.body.style.overflow=""},X=()=>{h.value>0&&h.value--},Z=()=>{h.value<b.value.length-1&&h.value++},N=async s=>{if(s)try{const t=document.createElement("div");t.className="fixed bottom-4 right-4 bg-slate-800 text-white px-4 py-2 rounded-md shadow-lg z-50 flex items-center",t.innerHTML=`
            <div class="animate-spin w-4 h-4 border-2 border-slate-100 border-t-transparent rounded-full mr-2"></div>
            <span>Downloading...</span>
        `,document.body.appendChild(t);const e=new Image;e.crossOrigin="anonymous";const l=new Date().getTime(),a=s.image.includes("?")?`${s.image}&nocache=${l}`:`${s.image}?nocache=${l}`;e.onload=function(){try{const u=document.createElement("canvas");u.width=e.width,u.height=e.height;const T=u.getContext("2d");if(!T)throw new Error("Unable to create canvas context");T.drawImage(e,0,0),u.toBlob(function(K){if(!K)throw new Error("Unable to create Blob object");const ee=URL.createObjectURL(K),E=document.createElement("a");E.style.display="none",E.href=ee;const de=s.title.replace(/[^\w\s]/gi,"").replace(/\s+/g,"_")||"image";E.download=`${de}.jpg`,document.body.appendChild(E),E.click(),setTimeout(()=>{document.body.removeChild(E),URL.revokeObjectURL(ee),document.body.removeChild(t)},100)},"image/jpeg",.95)}catch(u){document.body.removeChild(t),V(s),console.error("Canvas image processing failed:",u)}},e.onerror=function(){document.body.removeChild(t),V(s),console.error("Image loading failed, trying fallback method")},e.src=a,e.complete&&e.onload(new Event("load"))}catch(t){console.error("Download image failed:",t),V(s)}},V=s=>{try{const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t);const e=s.title.replace(/[^\w\s]/gi,"").replace(/\s+/g,"_")||"image";if("download"in document.createElement("a")){const a=document.createElement("a");a.href=s.image,a.download=`${e}.jpg`,a.target="_blank",a.rel="noopener noreferrer",document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a)},100)}else{const a=t.contentWindow?.document;if(a){a.open(),a.write(`<a href="${s.image}" download="${e}.jpg"></a>`),a.close();const u=a.querySelector("a");u&&u.click()}}setTimeout(()=>{document.body.removeChild(t)},1e3)}catch(t){console.error("Fallback download method failed:",t),alert('Unable to download image. Please try right-clicking the image and select "Save Image As"')}},M=s=>{if($.value)switch(s.key){case"Escape":Q();break;case"ArrowLeft":X();break;case"ArrowRight":Z();break}},_=v(!1),le=()=>{_.value=!_.value},ie=s=>{Y(s),_.value=!1},R=s=>{if(_.value){const t=s.target,e=document.querySelector(".md\\:hidden .relative");e&&!e.contains(t)&&(_.value=!1)}};let P=0,H=0,G=0;const x=()=>{if(!n.value)return;const s=window.scrollY,t=window.innerWidth<768,e=document.querySelector(".min-h-screen > header"),l=document.querySelector("header.sticky.top-0");e&&l&&(P=e.offsetHeight,G=l.offsetHeight,t?s>=P-G?(n.value.style.position="fixed",n.value.style.top=`${G}px`,n.value.style.left="0",n.value.style.right="0",document.body.style.paddingTop=`${H}px`,S.value=!0):(n.value.style.position="static",document.body.style.paddingTop="0",S.value=!1):s>=P?(n.value.style.position="sticky",n.value.style.top="0",S.value=!0):(n.value.style.position="static",S.value=!1))};te(async()=>{if(await ne(),window.addEventListener("keydown",M),window.addEventListener("click",R),window.addEventListener("scroll",x),window.addEventListener("resize",()=>{n.value&&(H=n.value.offsetHeight),x()}),setTimeout(()=>{n.value&&(H=n.value.offsetHeight),x(),document.querySelectorAll("img").forEach(a=>{a.complete&&a.classList.add("loaded")})},100),window.innerWidth<768&&n.value){const a=document.querySelector("header.sticky.top-0");if(a){const u=a.getBoundingClientRect().height;n.value.style.top=`${u}px`}}const t=()=>{if(window.innerWidth<768&&n.value){const u=document.querySelector("header.sticky.top-0");if(u){const T=u.getBoundingClientRect().height;n.value.style.top=`${T}px`}}else n.value&&(n.value.style.top="0")};window.addEventListener("resize",t);const e=new MutationObserver(()=>{if(window.innerWidth<768&&n.value){const a=document.querySelector("header.sticky.top-0");if(a){const u=a.getBoundingClientRect().height;n.value.style.top=`${u}px`}}}),l=document.querySelector("header.sticky.top-0");l&&e.observe(l,{attributes:!0,childList:!0,subtree:!0}),oe(()=>{window.removeEventListener("keydown",M),window.removeEventListener("click",R),window.removeEventListener("scroll",x),window.removeEventListener("resize",t),e.disconnect()})});const S=v(!1);let re=v(0);return te(()=>{window.addEventListener("keydown",M),window.addEventListener("click",R),window.addEventListener("scroll",x),setTimeout(()=>{n.value&&(H=n.value.offsetHeight,x()),document.querySelectorAll("img").forEach(t=>{t.complete&&t.classList.add("loaded")})},100);const s=()=>{n.value&&(H=n.value.offsetHeight),x()};window.addEventListener("resize",s),oe(()=>{window.removeEventListener("keydown",M),window.removeEventListener("click",R),window.removeEventListener("scroll",x),window.removeEventListener("resize",s)})}),(s,t)=>(i(),r("div",pe,[o("header",fe,[o("img",{src:"https://r2.fastbirdcdn.online/Robotics/Robots/66ad276113a1c-20240803_RoboticsTeamPittsburghRegional.jpg",alt:"Team Photo",class:"w-full h-[40vh] object-cover",onLoad:B},null,32),t[6]||(t[6]=o("div",{class:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center"},[o("h1",{class:"text-white text-4xl md:text-6xl font-bold tracking-wider text-center"},"Team Gallery"),o("p",{class:"text-gray-200 text-lg mt-4 mx-4 text-center max-w-3xl"}," Explore our team's journey through robotics competitions and events ")],-1))]),o("nav",{ref_key:"nav",ref:n,class:y(["bg-white shadow-md py-2 z-10 transition-all duration-300 ease-in-out",{"nav-fixed":S.value}])},[o("div",ye,[o("div",we,[o("button",{onClick:le,class:"w-full flex items-center justify-between px-4 py-2 bg-white rounded-lg border border-gray-200 shadow-sm"},[o("div",be,[C(p.value)?(i(),W(d(c),{key:0,icon:C(p.value),class:"h-4 w-4"},null,8,["icon"])):f("",!0),o("span",null,g(p.value),1),o("span",xe,g(J(p.value)),1)]),m(d(c),{icon:"mdi:chevron-down",class:y(["h-5 w-5",{"rotate-180":_.value}])},null,8,["class"])]),_.value?(i(),r("div",_e,[(i(!0),r(q,null,A(D.value,e=>(i(),r("button",{key:e.name,onClick:l=>ie(e.name),class:"w-full flex items-center px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-0"},[o("div",Ce,[C(e.name)?(i(),W(d(c),{key:0,icon:C(e.name),class:"h-4 w-4"},null,8,["icon"])):f("",!0),o("span",null,g(e.name),1)]),p.value===e.name?(i(),r("span",Ee,[m(d(c),{icon:"mdi:check",class:"h-4 w-4 text-green-500"})])):f("",!0)],8,ke))),128))])):f("",!0)]),o("div",Le,[o("div",$e,[(i(!0),r(q,null,A(D.value,e=>(i(),r("button",{key:e.name,onClick:l=>Y(e.name),class:y(["px-3 py-1.5 rounded-full transition-all duration-200 flex items-center gap-1 text-sm md:text-base",p.value===e.name?`${e.color} text-white shadow-md`:`text-gray-700 bg-gray-100 ${e.hoverColor}`])},[C(e.name)?(i(),W(d(c),{key:0,icon:C(e.name),class:"h-4 w-4"},null,8,["icon"])):f("",!0),ge(" "+g(e.name)+" ",1),p.value===e.name?(i(),r("span",He,g(J(e.name)),1)):f("",!0)],10,je))),128))]),o("div",Se,[o("button",{onClick:t[0]||(t[0]=e=>w.value="masonry"),class:y(["p-1.5 rounded-md transition-colors",w.value==="masonry"?"bg-sky-100 text-sky-700":"text-gray-500"])},[m(d(c),{icon:"mdi:view-quilt",class:"h-5 w-5"})],2),o("button",{onClick:t[1]||(t[1]=e=>w.value="grid"),class:y(["p-1.5 rounded-md transition-colors",w.value==="grid"?"bg-sky-100 text-sky-700":"text-gray-500"])},[m(d(c),{icon:"mdi:view-grid",class:"h-5 w-5"})],2)])]),o("div",Ie,[o("div",ze,[o("button",{onClick:t[2]||(t[2]=e=>w.value="masonry"),class:y(["p-1.5 rounded-full transition-colors flex items-center gap-1",w.value==="masonry"?"bg-white shadow text-sky-700":"text-gray-500"])},[m(d(c),{icon:"mdi:view-quilt",class:"h-4 w-4"}),t[7]||(t[7]=o("span",{class:"text-xs"},"Masonry",-1))],2),o("button",{onClick:t[3]||(t[3]=e=>w.value="grid"),class:y(["p-1.5 rounded-full transition-colors flex items-center gap-1",w.value==="grid"?"bg-white shadow text-sky-700":"text-gray-500"])},[m(d(c),{icon:"mdi:view-grid",class:"h-4 w-4"}),t[8]||(t[8]=o("span",{class:"text-xs"},"Grid",-1))],2)])])])],2),o("main",Me,[b.value.length===0?(i(),r("div",Re,[m(d(c),{icon:"mdi:image-off",class:"h-16 w-16 text-gray-400"}),t[9]||(t[9]=o("h3",{class:"mt-4 text-xl font-medium text-gray-700"},"No images found",-1)),t[10]||(t[10]=o("p",{class:"mt-2 text-gray-500"},"There are no images in this category yet.",-1))])):(i(),r("div",Te,[w.value==="masonry"?(i(),r("div",qe,[(i(!0),r(q,null,A(b.value,e=>(i(),r("div",{key:e.id,class:"masonry-item mb-4 overflow-hidden rounded-lg shadow-md bg-white transition-all duration-300 hover:shadow-xl"},[o("div",Ae,[o("img",{src:e.image,alt:e.title,onClick:l=>z(e),onLoad:B,onError:l=>F(e),class:y(["w-full h-auto object-cover cursor-pointer transition-transform duration-500 group-hover:scale-105",U.value.has(e.id)?"loaded":""])},null,42,Oe),o("div",De,[o("button",{onClick:O(l=>z(e),["stop"]),class:"p-2 bg-white rounded-full mx-1 text-gray-800 hover:text-sky-600 transition-colors"},[m(d(c),{icon:"mdi:magnify-plus",class:"h-6 w-6"})],8,Ue),o("button",{onClick:O(l=>N(e),["stop"]),class:"p-2 bg-white rounded-full mx-1 text-gray-800 hover:text-emerald-600 transition-colors"},[m(d(c),{icon:"mdi:download",class:"h-6 w-6"})],8,Be)]),o("div",Ne,[o("span",Ve,g(e.category),1)])]),o("div",Pe,[o("h3",Ge,g(e.title),1),o("p",We,g(e.description),1)])]))),128))])):(i(),r("div",Fe,[(i(!0),r(q,null,A(b.value,e=>(i(),r("div",{key:e.id,class:"overflow-hidden rounded-lg shadow-md bg-white transition-all duration-300 hover:shadow-xl"},[o("div",Ye,[o("img",{src:e.image,alt:e.title,onClick:l=>z(e),onLoad:B,onError:l=>F(e),class:y(["w-full h-full object-cover cursor-pointer transition-transform duration-500 group-hover:scale-105",U.value.has(e.id)?"loaded":""])},null,42,Je),o("div",Qe,[o("button",{onClick:O(l=>z(e),["stop"]),class:"p-2 bg-white rounded-full mx-1 text-gray-800 hover:text-sky-600 transition-colors"},[m(d(c),{icon:"mdi:magnify-plus",class:"h-6 w-6"})],8,Xe),o("button",{onClick:O(l=>N(e),["stop"]),class:"p-2 bg-white rounded-full mx-1 text-gray-800 hover:text-emerald-600 transition-colors"},[m(d(c),{icon:"mdi:download",class:"h-6 w-6"})],8,Ze)]),o("div",Ke,[o("span",et,g(e.category),1)])]),o("div",tt,[o("h3",ot,g(e.title),1),o("p",st,g(e.description),1)])]))),128))]))]))]),$.value?(i(),r("div",nt,[o("div",at,[o("button",{onClick:Q,class:"absolute top-4 right-4 z-10 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors"},[m(d(c),{icon:"mdi:close",class:"h-6 w-6"})]),h.value>0?(i(),r("button",{key:0,onClick:X,class:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors"},[m(d(c),{icon:"mdi:chevron-left",class:"h-8 w-8"})])):f("",!0),h.value<b.value.length-1?(i(),r("button",{key:1,onClick:Z,class:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors"},[m(d(c),{icon:"mdi:chevron-right",class:"h-8 w-8"})])):f("",!0),o("img",{src:j.value?.image,alt:j.value?.title,onLoad:t[4]||(t[4]=e=>I.value=!0),class:y(["max-h-[80vh] max-w-full mx-auto object-contain",I.value?"loaded":""])},null,42,lt),I.value?f("",!0):(i(),r("div",it,[...t[11]||(t[11]=[o("div",{class:"w-12 h-12 border-4 border-sky-500 border-t-transparent rounded-full animate-spin"},null,-1)])])),o("div",rt,[o("div",dt,[o("div",null,[o("h3",ct,g(j.value?.title),1),o("p",ut,g(j.value?.description),1)]),o("button",{onClick:t[5]||(t[5]=e=>N(j.value)),class:"p-2 bg-emerald-600 rounded-full text-white hover:bg-emerald-700 transition-colors"},[m(d(c),{icon:"mdi:download",class:"h-6 w-6"})])])])])])):f("",!0)]))}}),yt=ue(mt,[["__scopeId","data-v-5eb85282"]]);export{yt as default};
