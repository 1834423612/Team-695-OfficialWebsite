import{_ as T}from"./CachedAvatar-B2nSO2In.js";import{d as W,X as B,o as q,M as H,r as x,c as v,y as l,k as m,l as e,q as r,D as d,C as n,A as C,H as p,G as I,F as K,z as S,x as X}from"./vue-vendor-Dw1uN-ft.js";import{u as J,c as P,_ as Q}from"./index-CIdx3pTK.js";import{I as Z}from"./ui-vendor-D_ZJpqRo.js";import"./utils-CAMFpqwB.js";const ee=W({name:"ProfileView",components:{Icon:Z,CachedAvatar:T},setup(){const t=H(),s="https://sso.team695.com",_=x(!1),h=x(!1),k=x(!1),D=x(!1),o=x(""),A=x("success"),a=!1,u=J(),{userInfo:f,orgData:N}=B(u),j=v(()=>u.isLoading),U=v(()=>u.error),w=v(()=>f.value||{}),G=v(()=>w.value.properties?Object.entries(w.value.properties).filter(([i])=>i.startsWith("oauth_Google")).reduce((i,[c,g])=>(i[c]=g,i),{}):{}),R=v(()=>w.value.properties?Object.entries(w.value.properties).filter(([i])=>!i.startsWith("oauth_Google")).reduce((i,[c,g])=>(i[c]=g,i),{}):{}),E=i=>i.startsWith("oauth_Google_")?i.replace("oauth_Google_",""):i,z=i=>{if(!i)return"Not set";try{const c=new Date(i);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(c)}catch{return i}},y=(i,c="success")=>{o.value=i,A.value=c,D.value=!0,setTimeout(()=>{D.value=!1},3e3)},F=async()=>{try{h.value=!0;const i=P.getToken();if(!i)throw new Error("Unauthorized: Please log in first");const c=await fetch("https://api.team695.com/auth/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});if(!c.ok)throw new Error(`Failed to generate API keys: ${c.statusText}`);const g=await c.json();if(!g.success)throw new Error(g.error||"Failed to generate API keys");if(g.data){const b={...f.value};b.accessKey=g.data.accessKey,b.accessSecret=g.data.accessSecret,await u.updateUserInfo(b)}y(`Successfully generated new API keys! ${g.data?.message||""}`)}catch(i){console.error("Failed to generate API keys:",i),y(`Failed to generate API keys: ${i instanceof Error?i.message:"Unknown error"}`,"error")}finally{h.value=!1}},O=()=>{k.value=!0},$=async()=>{try{h.value=!0,k.value=!1;const i=P.getToken();if(!i)throw new Error("Unauthorized: Please log in first");const c=await fetch("https://api.team695.com/auth/api-keys",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});if(!c.ok)throw new Error(`Reset failed: ${c.statusText}`);const g=await c.json();if(!g.success)throw new Error(g.error||"Failed to reset API keys");if(g.data){const b={...f.value};b.accessKey=g.data.accessKey,b.accessSecret=g.data.accessSecret,await u.updateUserInfo(b),y("API keys have been successfully reset! New keys are now active.")}else y("API keys have been successfully reset!")}catch(i){console.error("Failed to reset API keys:",i),y(`Failed to reset API keys: ${i instanceof Error?i.message:"Unknown error"}`,"error")}finally{h.value=!1}},V=()=>{_.value=!_.value},L=async i=>{try{await navigator.clipboard.writeText(i),y("Copied to clipboard!")}catch(c){console.error("Failed to copy text: ",c),y("Failed to copy to clipboard","error")}},M=()=>{u.refreshUserInfo()},Y=()=>{P.logout(),u.clearUserInfo(),t.push({name:"login"}).catch(i=>{console.error("Failed to navigate to login:",i)})};return q(()=>{if(!P.isLoggedIn()){t.push({name:"login"});return}u.initializeStore()}),{userInfo:f,userData:w,orgData:N,isLoading:j,error:U,isDev:a,casdoorUrl:s,googleProperties:G,otherProperties:R,showSecret:_,isGeneratingKeys:h,showResetConfirmModal:k,showToast:D,toastMessage:o,toastType:A,formatPropertyKey:E,formatDate:z,toggleSecretVisibility:V,copyToClipboard:L,retryFetchUserInfo:M,logout:Y,generateApiKeys:F,confirmResetApiKeys:O,resetApiKeys:$}}}),se={class:"min-h-screen bg-gray-50"},te={class:"px-4 py-6 max-w-4xl mx-auto"},oe={class:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg shadow-lg overflow-hidden mb-6"},re={class:"px-6 py-6 md:p-8 md:flex md:items-center md:justify-between"},ie={class:"mt-4 md:mt-0 md:ml-6"},ne=["href"],ae={key:0,class:"text-center py-10"},de={key:1,class:"bg-white shadow-lg rounded-lg p-6 mb-6"},le={class:"text-center py-6"},me={class:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},ce={class:"text-gray-600 mb-6"},ue={class:"flex justify-center space-x-4"},ge={key:2},pe={class:"bg-white shadow rounded-lg overflow-hidden mb-6"},fe={class:"px-6 py-5 sm:px-8 flex flex-wrap justify-between items-center border-b border-gray-200"},ye={class:"flex items-center"},be={class:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center overflow-hidden mr-4 border-2 border-blue-200"},he={class:"text-xl leading-6 font-bold text-gray-900"},xe={class:"mt-1 text-sm text-gray-500 flex items-center"},we={class:"mt-4 sm:mt-0"},ve={class:"border-t border-gray-200"},_e={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},ke={class:"text-sm font-medium text-gray-500 flex items-center"},De={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Ae={class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Ie={class:"text-sm font-medium text-gray-500 flex items-center"},Pe={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Ce={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Ke={class:"text-sm font-medium text-gray-500 flex items-center"},Se={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Te={class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Ne={class:"text-sm font-medium text-gray-500 flex items-center"},je={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Ue={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Ge={class:"text-sm font-medium text-gray-500 flex items-center"},Re={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Ee={class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},ze={class:"text-sm font-medium text-gray-500 flex items-center"},Fe={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Oe={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},$e={class:"text-sm font-medium text-gray-500 flex items-center"},Ve={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Le={key:0,class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Me={class:"text-sm font-medium text-gray-500 flex items-center"},Ye={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},We={key:1,class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Be={class:"text-sm font-medium text-gray-500 flex items-center"},qe={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},He={key:0},Xe={class:"bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg shadow-lg overflow-hidden mb-6"},Je={class:"px-6 py-6 md:p-8"},Qe={class:"flex items-center mb-4"},Ze={class:"h-12 w-12 rounded-full bg-white flex items-center justify-center mr-4"},es={class:"bg-white bg-opacity-10 rounded-lg p-6 backdrop-filter backdrop-blur-sm"},ss={class:"flex items-center space-x-2 mb-4 text-blue-100 text-sm"},ts={class:"mt-6 flex justify-end"},os=["disabled"],rs={key:1},is={class:"bg-white shadow rounded-lg overflow-hidden mb-6"},ns={class:"px-6 py-5 sm:px-8 border-b border-gray-200"},as={class:"flex items-center"},ds={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3"},ls={class:"border-t border-gray-200 p-6"},ms={class:"mb-6"},cs={class:"bg-gray-50 rounded-md p-4 mb-4 border border-gray-200 shadow-inner"},us={class:"flex justify-between items-center mb-2"},gs={class:"mt-2 flex space-x-2"},ps={href:"https://api.team695.com/",target:"_blank",class:"text-xs text-blue-600 hover:text-blue-500 flex items-center"},fs={href:"https://api.team695.com/api-docs/",target:"_blank",class:"text-xs text-blue-600 hover:text-blue-500 flex items-center"},ys={class:"space-y-4"},bs={class:"bg-gray-50 rounded-md p-4 border border-gray-200 shadow-inner"},hs={class:"flex justify-between items-center mb-2"},xs={class:"relative"},ws=["value"],vs={class:"bg-gray-50 rounded-md p-4 border border-gray-200 shadow-inner"},_s={class:"flex justify-between items-center mb-2"},ks={class:"flex items-center space-x-2"},Ds={class:"relative"},As=["type","value"],Is={class:"flex flex-wrap gap-4 mt-6"},Ps=["disabled"],Cs={class:"mt-4 bg-red-50 border-l-4 border-red-400 p-4"},Ks={class:"flex"},Ss={class:"flex-shrink-0"},Ts={class:"mt-6"},Ns={class:"bg-gray-800 text-gray-200 p-4 rounded-md overflow-x-auto"},js={class:"text-xs"},Us={class:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4"},Gs={class:"flex"},Rs={class:"flex-shrink-0"},Es={key:2,class:"bg-white shadow rounded-lg overflow-hidden mb-6"},zs={class:"px-6 py-5 sm:px-8 border-b border-gray-200"},Fs={class:"flex items-center"},Os={class:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center mr-3"},$s={class:"border-t border-gray-200"},Vs={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},Ls={class:"text-sm font-medium text-gray-500 flex items-center"},Ms={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},Ys={key:0,class:"bg-white px-6 py-4 sm:px-8 m-2"},Ws={class:"w-full"},Bs={class:"cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-500 focus:outline-none flex items-center"},qs={class:"mt-4 border border-gray-200 rounded-md overflow-hidden"},Hs={class:"text-sm font-medium text-gray-500"},Xs={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Js={key:0},Qs=["src"],Zs={key:1},et={key:3,class:"bg-white shadow rounded-lg overflow-hidden mb-6"},st={class:"px-6 py-5 sm:px-8 border-b border-gray-200"},tt={class:"flex items-center"},ot={class:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center mr-3"},rt={class:"border-t border-gray-200"},it={class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},nt={class:"text-sm font-medium text-gray-500 flex items-center"},at={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},dt={class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},lt={class:"text-sm font-medium text-gray-500 flex items-center"},mt={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},ct={key:0,class:"bg-gray-50 px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},ut={class:"text-sm font-medium text-gray-500 flex items-center"},gt={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 font-medium"},pt=["href"],ft={key:1,class:"bg-white px-6 py-4 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8 rounded-md m-2"},yt={class:"text-sm font-medium text-gray-500 flex items-center"},bt={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},ht=["src"],xt={key:4,class:"bg-white shadow rounded-lg overflow-hidden mb-6"},wt={class:"px-6 py-5 sm:px-8 border-b border-gray-200"},vt={class:"flex items-center"},_t={class:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center mr-3"},kt={class:"border-t border-gray-200"},Dt={class:"w-full"},At={class:"cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-500 focus:outline-none px-6 py-4 sm:px-8 flex items-center"},It={class:"border-t border-gray-200"},Pt={class:"text-sm font-medium text-gray-500"},Ct={class:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},Kt={key:5,class:"bg-white shadow rounded-lg overflow-hidden mb-6"},St={class:"px-6 py-5 sm:px-8 border-b border-gray-200"},Tt={class:"flex items-center"},Nt={class:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center mr-3"},jt={class:"border-t border-gray-200"},Ut={class:"w-full"},Gt={class:"cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-500 focus:outline-none px-6 py-4 sm:px-8 flex items-center"},Rt={class:"border-t border-gray-200 p-4"},Et={class:"text-xs overflow-auto bg-gray-100 p-4 rounded"},zt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ft={class:"bg-white rounded-lg p-6 max-w-md w-full shadow-xl"},Ot={class:"flex items-start"},$t={class:"flex-shrink-0 bg-red-100 rounded-full p-2"},Vt={class:"ml-4"},Lt={class:"mt-4 flex justify-end space-x-3"};function Mt(t,s,_,h,k,D){const o=X("Icon"),A=T;return l(),m("div",se,[e("div",te,[s[58]||(s[58]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900"},"My Profile"),e("p",{class:"mt-1 text-sm text-gray-500"}," View and manage your account information ")],-1)),e("div",oe,[e("div",re,[s[12]||(s[12]=e("div",null,[e("h3",{class:"text-lg font-semibold text-white"},"Need help with your account?"),e("p",{class:"mt-2 text-blue-100"}," If you need to update your profile information or have questions about your account, please contact an administrator or visit the Casdoor portal. ")],-1)),e("div",ie,[e("a",{href:`${t.casdoorUrl}/login/Team695`,target:"_blank",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 whitespace-nowrap"},[r(o,{icon:"mdi:open-in-new",class:"h-4 w-4 mr-1 flex-shrink-0"}),s[11]||(s[11]=e("span",{class:"truncate"},"Visit Casdoor Portal",-1))],8,ne)])])]),t.isLoading?(l(),m("div",ae,[r(o,{icon:"mdi:loading",class:"h-10 w-10 mx-auto animate-spin text-blue-600"}),s[13]||(s[13]=e("p",{class:"mt-4 text-gray-600"},"Loading user information...",-1))])):t.error?(l(),m("div",de,[e("div",le,[e("div",me,[r(o,{icon:"mdi:alert-circle",class:"h-10 w-10 text-red-500"})]),s[16]||(s[16]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Error Loading Profile",-1)),e("p",ce,d(t.error),1),e("div",ue,[e("button",{onClick:s[0]||(s[0]=(...a)=>t.retryFetchUserInfo&&t.retryFetchUserInfo(...a)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[r(o,{icon:"mdi:refresh",class:"h-4 w-4 mr-1"}),s[14]||(s[14]=n(" Retry ",-1))]),e("button",{onClick:s[1]||(s[1]=(...a)=>t.logout&&t.logout(...a)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[r(o,{icon:"mdi:logout",class:"h-4 w-4 mr-1"}),s[15]||(s[15]=n(" Logout ",-1))])])])])):(l(),m("div",ge,[e("div",pe,[e("div",fe,[e("div",ye,[e("div",be,[t.userData.id?(l(),C(A,{key:0,userId:t.userData.id,src:t.userData.avatar,name:t.userData.name,firstName:t.userData.firstName,lastName:t.userData.lastName,displayName:t.userData.displayName,size:60,class:"h-8 w-8"},null,8,["userId","src","name","firstName","lastName","displayName"])):(l(),C(o,{key:1,icon:"mdi:account",class:"h-10 w-10 text-blue-500"}))]),e("div",null,[e("h3",he,d(t.userData.displayName||t.userData.name),1),e("p",xe,[r(o,{icon:"mdi:email-outline",class:"h-4 w-4 mr-1"}),n(" "+d(t.userData.email||"No email provided"),1)])])]),e("div",we,[e("button",{onClick:s[2]||(s[2]=(...a)=>t.logout&&t.logout(...a)),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors duration-200 shadow-md"},[r(o,{icon:"mdi:logout",class:"mr-2 h-4 w-4"}),s[17]||(s[17]=n(" Logout ",-1))])])]),e("div",ve,[e("dl",null,[e("div",_e,[e("dt",ke,[r(o,{icon:"mdi:account-outline",class:"h-5 w-5 mr-2 text-blue-500"}),s[18]||(s[18]=n(" Username ",-1))]),e("dd",De,d(t.userData.name||"Not set"),1)]),e("div",Ae,[e("dt",Ie,[r(o,{icon:"mdi:card-account-details-outline",class:"h-5 w-5 mr-2 text-blue-500"}),s[19]||(s[19]=n(" Display Name ",-1))]),e("dd",Pe,d(t.userData.displayName||"Not set"),1)]),e("div",Ce,[e("dt",Ke,[r(o,{icon:"mdi:email-outline",class:"h-5 w-5 mr-2 text-blue-500"}),s[20]||(s[20]=n(" Email ",-1))]),e("dd",Se,d(t.userData.email||"Not set"),1)]),e("div",Te,[e("dt",Ne,[r(o,{icon:"mdi:identifier",class:"h-5 w-5 mr-2 text-blue-500"}),s[21]||(s[21]=n(" ID ",-1))]),e("dd",je,d(t.userData.id||"Not set"),1)]),e("div",Ue,[e("dt",Ge,[r(o,{icon:"mdi:calendar-plus",class:"h-5 w-5 mr-2 text-blue-500"}),s[22]||(s[22]=n(" Created Time ",-1))]),e("dd",Re,d(t.formatDate(t.userData.createdTime)),1)]),e("div",Ee,[e("dt",ze,[r(o,{icon:"mdi:calendar-edit",class:"h-5 w-5 mr-2 text-blue-500"}),s[23]||(s[23]=n(" Updated Time ",-1))]),e("dd",Fe,d(t.formatDate(t.userData.updatedTime)),1)]),e("div",Oe,[e("dt",$e,[r(o,{icon:"mdi:domain",class:"h-5 w-5 mr-2 text-blue-500"}),s[24]||(s[24]=n(" Organization ",-1))]),e("dd",Ve,d(t.userData.owner||"Not set"),1)]),t.userData.countryCode?(l(),m("div",Le,[e("dt",Me,[r(o,{icon:"mdi:earth",class:"h-5 w-5 mr-2 text-blue-500"}),s[25]||(s[25]=n(" Country ",-1))]),e("dd",Ye,d(t.userData.countryCode),1)])):p("",!0),t.userData.signupApplication?(l(),m("div",We,[e("dt",Be,[r(o,{icon:"mdi:application",class:"h-5 w-5 mr-2 text-blue-500"}),s[26]||(s[26]=n(" Signup Application ",-1))]),e("dd",qe,d(t.userData.signupApplication),1)])):p("",!0)])])]),!t.userData.accessKey||!t.userData.accessSecret?(l(),m("div",He,[e("div",Xe,[e("div",Je,[e("div",Qe,[e("div",Ze,[r(o,{icon:"mdi:api",class:"h-8 w-8 text-blue-500"})]),s[27]||(s[27]=e("div",null,[e("h3",{class:"text-xl font-bold text-white"},"Create Your API Keys"),e("p",{class:"text-blue-100"},"Generate API keys to access Team 695's API services")],-1))]),e("div",es,[s[29]||(s[29]=e("p",{class:"text-white mb-4"}," You don't have any API keys yet. API keys allow your applications to authenticate with Team 695's API services. Once created, you'll be able to perform authorized requests to our API endpoints. ",-1)),e("div",ss,[r(o,{icon:"mdi:shield-lock",class:"h-5 w-5"}),s[28]||(s[28]=e("span",null,"Your API secret will only be shown once after creation. Make sure to store it securely.",-1))]),e("div",ts,[e("button",{onClick:s[3]||(s[3]=(...a)=>t.generateApiKeys&&t.generateApiKeys(...a)),class:"inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-md transition-all duration-200 transform hover:-translate-y-0.5",disabled:t.isGeneratingKeys},[r(o,{icon:t.isGeneratingKeys?"mdi:loading":"mdi:key-plus",class:I([{"animate-spin":t.isGeneratingKeys},"h-5 w-5 mr-2"])},null,8,["icon","class"]),n(" "+d(t.isGeneratingKeys?"Generating...":"Generate New API Keys"),1)],8,os)])])])])])):(l(),m("div",rs,[e("div",is,[e("div",ns,[e("div",as,[e("div",ds,[r(o,{icon:"mdi:api",class:"h-6 w-6 text-blue-500"})]),s[30]||(s[30]=e("div",null,[e("h3",{class:"text-lg leading-6 font-bold text-gray-900"},"API Credentials"),e("p",{class:"mt-1 text-sm text-gray-500"},"Your API keys for accessing Team 695 API services")],-1))])]),e("div",ls,[e("div",ms,[s[37]||(s[37]=e("p",{class:"text-sm text-gray-500 mb-4"}," Use these credentials to authenticate with the Team 695 API. Keep your API Secret secure and never share it publicly. ",-1)),e("div",cs,[e("div",us,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700"},"API Endpoint",-1)),e("button",{onClick:s[4]||(s[4]=a=>t.copyToClipboard("https://api.team695.com")),class:"text-blue-600 hover:text-blue-500 text-sm flex items-center"},[r(o,{icon:"mdi:content-copy",class:"h-4 w-4 mr-1"}),s[31]||(s[31]=n(" Copy ",-1))])]),s[36]||(s[36]=e("div",{class:"relative"},[e("input",{type:"text",readonly:"",value:"https://api.team695.com",class:"block w-full pr-10 py-2 px-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})],-1)),e("div",gs,[e("a",ps,[r(o,{icon:"mdi:web",class:"h-3 w-3 mr-1"}),s[33]||(s[33]=n(" Visit API ",-1))]),s[35]||(s[35]=e("span",{class:"text-gray-300"},"|",-1)),e("a",fs,[r(o,{icon:"mdi:book-open-variant",class:"h-3 w-3 mr-1"}),s[34]||(s[34]=n(" API Documentation ",-1))])])])]),e("div",ys,[e("div",bs,[e("div",hs,[s[39]||(s[39]=e("label",{class:"block text-sm font-medium text-gray-700"},"Access Key",-1)),e("button",{onClick:s[5]||(s[5]=a=>t.copyToClipboard(t.userData.accessKey)),class:"text-blue-600 hover:text-blue-500 text-sm flex items-center"},[r(o,{icon:"mdi:content-copy",class:"h-4 w-4 mr-1"}),s[38]||(s[38]=n(" Copy ",-1))])]),e("div",xs,[e("input",{type:"text",readonly:"",value:t.userData.accessKey,class:"block w-full pr-10 py-2 px-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,8,ws)])]),e("div",vs,[e("div",_s,[s[41]||(s[41]=e("label",{class:"block text-sm font-medium text-gray-700"},"Access Secret",-1)),e("div",ks,[e("button",{onClick:s[6]||(s[6]=(...a)=>t.toggleSecretVisibility&&t.toggleSecretVisibility(...a)),class:"text-blue-600 hover:text-blue-500 text-sm flex items-center"},[r(o,{icon:t.showSecret?"mdi:eye-off":"mdi:eye",class:"h-4 w-4 mr-1"},null,8,["icon"]),n(" "+d(t.showSecret?"Hide":"Show"),1)]),e("button",{onClick:s[7]||(s[7]=a=>t.copyToClipboard(t.userData.accessSecret)),class:"text-blue-600 hover:text-blue-500 text-sm flex items-center"},[r(o,{icon:"mdi:content-copy",class:"h-4 w-4 mr-1"}),s[40]||(s[40]=n(" Copy ",-1))])])]),e("div",Ds,[e("input",{type:t.showSecret?"text":"password",readonly:"",value:t.userData.accessSecret,class:"block w-full pr-10 py-2 px-3 border border-gray-300 rounded-md shadow-sm bg-white text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,8,As)])]),e("div",Is,[e("button",{onClick:s[8]||(s[8]=(...a)=>t.confirmResetApiKeys&&t.confirmResetApiKeys(...a)),class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-red-600 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-sm transition-all duration-200",disabled:t.isGeneratingKeys},[r(o,{icon:"mdi:delete",class:"h-4 w-4 mr-2"}),s[42]||(s[42]=n(" Reset API Keys ",-1))],8,Ps)]),e("div",Cs,[e("div",Ks,[e("div",Ss,[r(o,{icon:"mdi:alert",class:"h-5 w-5 text-red-400"})]),s[43]||(s[43]=e("div",{class:"ml-3"},[e("p",{class:"text-sm text-red-700"},[e("strong",null,"Warning:"),n(" Resetting your API keys will invalidate any existing keys. All applications using these credentials will need to be updated. ")])],-1))])])]),e("div",Ts,[s[44]||(s[44]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Example API Request",-1)),e("div",Ns,[e("pre",js,[e("code",null,`curl -X GET "https://api.team695.com/auth/me" \\
  -H "X-API-Key: `+d(t.userData.accessKey||"YOUR_ACCESS_KEY")+`" \\
  -H "X-API-Secret: `+d(t.showSecret?t.userData.accessSecret||"YOUR_ACCESS_SECRET":"************************")+'"',1)])])]),e("div",Us,[e("div",Gs,[e("div",Rs,[r(o,{icon:"mdi:shield-alert",class:"h-5 w-5 text-yellow-400"})]),s[45]||(s[45]=e("div",{class:"ml-3"},[e("p",{class:"text-sm text-yellow-700"}," Keep your API credentials secure. Never share your Access Secret or include it in client-side code. If you suspect your credentials have been compromised, reset them immediately. ")],-1))])])])])])),t.userData.google||t.userData.properties&&Object.keys(t.userData.properties).some(a=>a.startsWith("oauth_Google"))?(l(),m("div",Es,[e("div",zs,[e("div",Fs,[e("div",Os,[r(o,{icon:"mdi:google",class:"h-6 w-6 text-red-500"})]),s[46]||(s[46]=e("div",null,[e("h3",{class:"text-lg leading-6 font-bold text-gray-900"},"Google Account Linked"),e("p",{class:"mt-1 text-sm text-gray-500"},"Your account is connected to Google for secure authentication")],-1))])]),e("div",$s,[e("dl",null,[e("div",Vs,[e("dt",Ls,[r(o,{icon:"mdi:identifier",class:"h-5 w-5 mr-2 text-red-500"}),s[47]||(s[47]=n(" Google ID ",-1))]),e("dd",Ms,d(t.userData.google||"Not available"),1)]),t.userData.properties&&Object.keys(t.userData.properties).some(a=>a.startsWith("oauth_Google"))?(l(),m("div",Ys,[e("details",Ws,[e("summary",Bs,[r(o,{icon:"mdi:information-outline",class:"h-5 w-5 mr-2"}),s[48]||(s[48]=n(" View Google Account Details ",-1)),r(o,{icon:"mdi:chevron-down",class:"ml-2 h-4 w-4"})]),e("div",qs,[e("dl",null,[(l(!0),m(K,null,S(t.googleProperties,(a,u,f)=>(l(),m("div",{key:u,class:I([{"bg-gray-50":f%2===0,"bg-white":f%2===1},"px-4 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"])},[e("dt",Hs,d(t.formatPropertyKey(u)),1),e("dd",Xs,[u.includes("avatarUrl")||u.includes("picture")?(l(),m("div",Js,[e("img",{src:a,alt:"Google Avatar",class:"h-10 w-10 rounded-full"},null,8,Qs)])):(l(),m("div",Zs,d(a),1))])],2))),128))])])])])):p("",!0)])])])):p("",!0),t.orgData?(l(),m("div",et,[e("div",st,[e("div",tt,[e("div",ot,[r(o,{icon:"mdi:office-building",class:"h-6 w-6 text-blue-500"})]),s[49]||(s[49]=e("div",null,[e("h3",{class:"text-lg leading-6 font-bold text-gray-900"},"Organization Information"),e("p",{class:"mt-1 text-sm text-gray-500"},"Details about your organization")],-1))])]),e("div",rt,[e("dl",null,[e("div",it,[e("dt",nt,[r(o,{icon:"mdi:domain",class:"h-5 w-5 mr-2 text-blue-500"}),s[50]||(s[50]=n(" Organization Name ",-1))]),e("dd",at,d(t.orgData.name),1)]),e("div",dt,[e("dt",lt,[r(o,{icon:"mdi:card-account-details-outline",class:"h-5 w-5 mr-2 text-blue-500"}),s[51]||(s[51]=n(" Display Name ",-1))]),e("dd",mt,d(t.orgData.displayName),1)]),t.orgData.websiteUrl?(l(),m("div",ct,[e("dt",ut,[r(o,{icon:"mdi:web",class:"h-5 w-5 mr-2 text-blue-500"}),s[52]||(s[52]=n(" Website ",-1))]),e("dd",gt,[e("a",{href:t.orgData.websiteUrl,target:"_blank",class:"text-blue-600 hover:text-blue-500"},d(t.orgData.websiteUrl),9,pt)])])):p("",!0),t.orgData.logo?(l(),m("div",ft,[e("dt",yt,[r(o,{icon:"mdi:image",class:"h-5 w-5 mr-2 text-blue-500"}),s[53]||(s[53]=n(" Logo ",-1))]),e("dd",bt,[e("img",{src:t.orgData.logo,alt:"Organization Logo",class:"h-12 object-contain"},null,8,ht)])])):p("",!0)])])])):p("",!0),t.userData.properties&&Object.keys(t.otherProperties).length>0?(l(),m("div",xt,[e("div",wt,[e("div",vt,[e("div",_t,[r(o,{icon:"mdi:puzzle",class:"h-6 w-6 text-purple-500"})]),s[54]||(s[54]=e("div",null,[e("h3",{class:"text-lg leading-6 font-bold text-gray-900"},"Additional Properties"),e("p",{class:"mt-1 text-sm text-gray-500"},"Other information associated with your account")],-1))])]),e("div",kt,[e("details",Dt,[e("summary",At,[r(o,{icon:"mdi:information-outline",class:"h-5 w-5 mr-2"}),s[55]||(s[55]=n(" View All Properties ",-1)),r(o,{icon:"mdi:chevron-down",class:"ml-2 h-4 w-4"})]),e("div",It,[e("dl",null,[(l(!0),m(K,null,S(t.otherProperties,(a,u,f)=>(l(),m("div",{key:u,class:I([{"bg-gray-50":f%2===0,"bg-white":f%2===1},"px-6 py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-8"])},[e("dt",Pt,d(u),1),e("dd",Ct,d(a),1)],2))),128))])])])])])):p("",!0),!t.isLoading&&!t.error&&t.isDev?(l(),m("div",Kt,[e("div",St,[e("div",Tt,[e("div",Nt,[r(o,{icon:"mdi:code-json",class:"h-6 w-6 text-gray-700"})]),s[56]||(s[56]=e("div",null,[e("h3",{class:"text-lg leading-6 font-bold text-gray-900"},"Debug Information"),e("p",{class:"mt-1 text-sm text-gray-500"},"Raw user data (development mode only)")],-1))])]),e("div",jt,[e("details",Ut,[e("summary",Gt,[r(o,{icon:"mdi:code-braces",class:"h-5 w-5 mr-2"}),s[57]||(s[57]=n(" View Raw Data ",-1)),r(o,{icon:"mdi:chevron-down",class:"ml-2 h-4 w-4"})]),e("div",Rt,[e("pre",Et,d(JSON.stringify(t.userInfo,null,2)),1)])])])])):p("",!0)]))]),t.showResetConfirmModal?(l(),m("div",zt,[e("div",Ft,[e("div",Ot,[e("div",$t,[r(o,{icon:"mdi:alert",class:"h-6 w-6 text-red-600"})]),e("div",Vt,[s[59]||(s[59]=e("h3",{class:"text-lg font-medium text-gray-900"},"Reset API Keys?",-1)),s[60]||(s[60]=e("p",{class:"mt-2 text-sm text-gray-500"}," This action will permanently delete your current API keys. All applications using these credentials will stop working. Are you sure you want to continue? ",-1)),e("div",Lt,[e("button",{onClick:s[9]||(s[9]=a=>t.showResetConfirmModal=!1),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{onClick:s[10]||(s[10]=(...a)=>t.resetApiKeys&&t.resetApiKeys(...a)),class:"bg-red-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Reset Keys ")])])])])])):p("",!0),t.showToast?(l(),m("div",{key:1,class:I(["fixed top-4 right-4 px-4 py-2 rounded shadow-lg z-50 transition-opacity duration-300",t.toastType==="success"?"bg-green-600 text-white":"bg-red-600 text-white"])},d(t.toastMessage),3)):p("",!0)])}const Xt=Q(ee,[["render",Mt],["__scopeId","data-v-7be37736"]]);export{Xt as default};
